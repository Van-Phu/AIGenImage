(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function dh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nu={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function fv(){if(bp)return io;bp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var g in u)g!=="key"&&(d[g]=u[g])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:m,ref:u!==void 0?u:null,props:d}}return io.Fragment=n,io.jsx=o,io.jsxs=o,io}var Mp;function dv(){return Mp||(Mp=1,nu.exports=fv()),nu.exports}var T=dv(),iu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function pv(){if(Rp)return ge;Rp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,k={};function Z(C,D,ee){this.props=C,this.context=D,this.refs=k,this.updater=ee||B}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,D){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,D,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function W(){}W.prototype=Z.prototype;function j(C,D,ee){this.props=C,this.context=D,this.refs=k,this.updater=ee||B}var F=j.prototype=new W;F.constructor=j,H(F,Z.prototype),F.isPureReactComponent=!0;var K=Array.isArray;function ne(){}var I={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function $(C,D,ee){var oe=ee.ref;return{$$typeof:i,type:C,key:D,ref:oe!==void 0?oe:null,props:ee}}function te(C,D){return $(C.type,D,C.props)}function se(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function le(C){var D={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return D[ee]})}var q=/\/+/g;function X(C,D){return typeof C=="object"&&C!==null&&C.key!=null?le(""+C.key):D.toString(36)}function Q(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(D){C.status==="pending"&&(C.status="fulfilled",C.value=D)},function(D){C.status==="pending"&&(C.status="rejected",C.reason=D)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function N(C,D,ee,oe,he){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(ye){case"bigint":case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case i:case n:be=!0;break;case v:return be=C._init,N(be(C._payload),D,ee,oe,he)}}if(be)return he=he(C),be=oe===""?"."+X(C,0):oe,K(he)?(ee="",be!=null&&(ee=be.replace(q,"$&/")+"/"),N(he,D,ee,"",function(Fn){return Fn})):he!=null&&(se(he)&&(he=te(he,ee+(he.key==null||C&&C.key===he.key?"":(""+he.key).replace(q,"$&/")+"/")+be)),D.push(he)),1;be=0;var je=oe===""?".":oe+":";if(K(C))for(var ze=0;ze<C.length;ze++)oe=C[ze],ye=je+X(oe,ze),be+=N(oe,D,ee,ye,he);else if(ze=b(C),typeof ze=="function")for(C=ze.call(C),ze=0;!(oe=C.next()).done;)oe=oe.value,ye=je+X(oe,ze++),be+=N(oe,D,ee,ye,he);else if(ye==="object"){if(typeof C.then=="function")return N(Q(C),D,ee,oe,he);throw D=String(C),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return be}function M(C,D,ee){if(C==null)return C;var oe=[],he=0;return N(C,oe,"","",function(ye){return D.call(ee,ye,he++)}),oe}function Y(C){if(C._status===-1){var D=C._result;D=D(),D.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=D)}if(C._status===1)return C._result.default;throw C._result}var ie=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ue={map:M,forEach:function(C,D,ee){M(C,function(){D.apply(this,arguments)},ee)},count:function(C){var D=0;return M(C,function(){D++}),D},toArray:function(C){return M(C,function(D){return D})||[]},only:function(C){if(!se(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ge.Activity=E,ge.Children=ue,ge.Component=Z,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=j,ge.StrictMode=a,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ge.__COMPILER_RUNTIME={__proto__:null,c:function(C){return I.H.useMemoCache(C)}},ge.cache=function(C){return function(){return C.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(C,D,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var oe=H({},C.props),he=C.key;if(D!=null)for(ye in D.key!==void 0&&(he=""+D.key),D)!de.call(D,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&D.ref===void 0||(oe[ye]=D[ye]);var ye=arguments.length-2;if(ye===1)oe.children=ee;else if(1<ye){for(var be=Array(ye),je=0;je<ye;je++)be[je]=arguments[je+2];oe.children=be}return $(C.type,he,oe)},ge.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},ge.createElement=function(C,D,ee){var oe,he={},ye=null;if(D!=null)for(oe in D.key!==void 0&&(ye=""+D.key),D)de.call(D,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=D[oe]);var be=arguments.length-2;if(be===1)he.children=ee;else if(1<be){for(var je=Array(be),ze=0;ze<be;ze++)je[ze]=arguments[ze+2];he.children=je}if(C&&C.defaultProps)for(oe in be=C.defaultProps,be)he[oe]===void 0&&(he[oe]=be[oe]);return $(C,ye,he)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(C){return{$$typeof:g,render:C}},ge.isValidElement=se,ge.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:Y}},ge.memo=function(C,D){return{$$typeof:h,type:C,compare:D===void 0?null:D}},ge.startTransition=function(C){var D=I.T,ee={};I.T=ee;try{var oe=C(),he=I.S;he!==null&&he(ee,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ne,ie)}catch(ye){ie(ye)}finally{D!==null&&ee.types!==null&&(D.types=ee.types),I.T=D}},ge.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ge.use=function(C){return I.H.use(C)},ge.useActionState=function(C,D,ee){return I.H.useActionState(C,D,ee)},ge.useCallback=function(C,D){return I.H.useCallback(C,D)},ge.useContext=function(C){return I.H.useContext(C)},ge.useDebugValue=function(){},ge.useDeferredValue=function(C,D){return I.H.useDeferredValue(C,D)},ge.useEffect=function(C,D){return I.H.useEffect(C,D)},ge.useEffectEvent=function(C){return I.H.useEffectEvent(C)},ge.useId=function(){return I.H.useId()},ge.useImperativeHandle=function(C,D,ee){return I.H.useImperativeHandle(C,D,ee)},ge.useInsertionEffect=function(C,D){return I.H.useInsertionEffect(C,D)},ge.useLayoutEffect=function(C,D){return I.H.useLayoutEffect(C,D)},ge.useMemo=function(C,D){return I.H.useMemo(C,D)},ge.useOptimistic=function(C,D){return I.H.useOptimistic(C,D)},ge.useReducer=function(C,D,ee){return I.H.useReducer(C,D,ee)},ge.useRef=function(C){return I.H.useRef(C)},ge.useState=function(C){return I.H.useState(C)},ge.useSyncExternalStore=function(C,D,ee){return I.H.useSyncExternalStore(C,D,ee)},ge.useTransition=function(){return I.H.useTransition()},ge.version="19.2.1",ge}var wp;function Eu(){return wp||(wp=1,iu.exports=pv()),iu.exports}var pe=Eu();const mv=dh(pe);var lu={exports:{}},lo={},ou={exports:{}},au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function hv(){return Ip||(Ip=1,(function(i){function n(N,M){var Y=N.length;N.push(M);e:for(;0<Y;){var ie=Y-1>>>1,ue=N[ie];if(0<u(ue,M))N[ie]=M,N[Y]=ue,Y=ie;else break e}}function o(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var M=N[0],Y=N.pop();if(Y!==M){N[0]=Y;e:for(var ie=0,ue=N.length,C=ue>>>1;ie<C;){var D=2*(ie+1)-1,ee=N[D],oe=D+1,he=N[oe];if(0>u(ee,Y))oe<ue&&0>u(he,ee)?(N[ie]=he,N[oe]=Y,ie=oe):(N[ie]=ee,N[D]=Y,ie=D);else if(oe<ue&&0>u(he,Y))N[ie]=he,N[oe]=Y,ie=oe;else break e}}return M}function u(N,M){var Y=N.sortIndex-M.sortIndex;return Y!==0?Y:N.id-M.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,E=null,S=3,b=!1,B=!1,H=!1,k=!1,Z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(N){for(var M=o(h);M!==null;){if(M.callback===null)a(h);else if(M.startTime<=N)a(h),M.sortIndex=M.expirationTime,n(y,M);else break;M=o(h)}}function K(N){if(H=!1,F(N),!B)if(o(y)!==null)B=!0,ne||(ne=!0,le());else{var M=o(h);M!==null&&Q(K,M.startTime-N)}}var ne=!1,I=-1,de=5,$=-1;function te(){return k?!0:!(i.unstable_now()-$<de)}function se(){if(k=!1,ne){var N=i.unstable_now();$=N;var M=!0;try{e:{B=!1,H&&(H=!1,W(I),I=-1),b=!0;var Y=S;try{t:{for(F(N),E=o(y);E!==null&&!(E.expirationTime>N&&te());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,S=E.priorityLevel;var ue=ie(E.expirationTime<=N);if(N=i.unstable_now(),typeof ue=="function"){E.callback=ue,F(N),M=!0;break t}E===o(y)&&a(y),F(N)}else a(y);E=o(y)}if(E!==null)M=!0;else{var C=o(h);C!==null&&Q(K,C.startTime-N),M=!1}}break e}finally{E=null,S=Y,b=!1}M=void 0}}finally{M?le():ne=!1}}}var le;if(typeof j=="function")le=function(){j(se)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,X=q.port2;q.port1.onmessage=se,le=function(){X.postMessage(null)}}else le=function(){Z(se,0)};function Q(N,M){I=Z(function(){N(i.unstable_now())},M)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(N){N.callback=null},i.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<N?Math.floor(1e3/N):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(N){switch(S){case 1:case 2:case 3:var M=3;break;default:M=S}var Y=S;S=M;try{return N()}finally{S=Y}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var Y=S;S=N;try{return M()}finally{S=Y}},i.unstable_scheduleCallback=function(N,M,Y){var ie=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,N){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Y+ue,N={id:v++,callback:M,priorityLevel:N,startTime:Y,expirationTime:ue,sortIndex:-1},Y>ie?(N.sortIndex=Y,n(h,N),o(y)===null&&N===o(h)&&(H?(W(I),I=-1):H=!0,Q(K,Y-ie))):(N.sortIndex=ue,n(y,N),B||b||(B=!0,ne||(ne=!0,le()))),N},i.unstable_shouldYield=te,i.unstable_wrapCallback=function(N){var M=S;return function(){var Y=S;S=M;try{return N.apply(this,arguments)}finally{S=Y}}}})(au)),au}var Dp;function gv(){return Dp||(Dp=1,ou.exports=hv()),ou.exports}var su={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function yv(){if(Up)return rt;Up=1;var i=Eu();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,h,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:E==null?null:""+E,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(y,h,null,v)},rt.flushSync=function(y){var h=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=v,a.d.f()}},rt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},rt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},rt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:b}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:S,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},rt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,E=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},rt.requestFormReset=function(y){a.d.r(y)},rt.unstable_batchedUpdates=function(y,h){return y(h)},rt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},rt.useFormStatus=function(){return m.H.useHostTransitionStatus()},rt.version="19.2.1",rt}var Lp;function vv(){if(Lp)return su.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),su.exports=yv(),su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function Tv(){if(Pp)return lo;Pp=1;var i=gv(),n=Eu(),o=vv();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,s=t;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return y(f),e;if(p===s)return y(f),t;p=p.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=p;else{for(var x=!1,_=f.child;_;){if(_===l){x=!0,l=f,s=p;break}if(_===s){x=!0,s=f,l=p;break}_=_.sibling}if(!x){for(_=p.child;_;){if(_===l){x=!0,l=p,s=f;break}if(_===s){x=!0,s=p,l=f;break}_=_.sibling}if(!x)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=se&&e[se]||e["@@iterator"],typeof e=="function"?e:null)}var q=Symbol.for("react.client.reference");function X(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Z:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case ne:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case j:return e.displayName||"Context";case W:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}var Q=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},ie=[],ue=-1;function C(e){return{current:e}}function D(e){0>ue||(e.current=ie[ue],ie[ue]=null,ue--)}function ee(e,t){ue++,ie[ue]=e.current,e.current=t}var oe=C(null),he=C(null),ye=C(null),be=C(null);function je(e,t){switch(ee(ye,t),ee(he,e),ee(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zd(t),e=$d(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(oe),ee(oe,e)}function ze(){D(oe),D(he),D(ye)}function Fn(e){e.memoizedState!==null&&ee(be,e);var t=oe.current,l=$d(t,e.type);t!==l&&(ee(he,e),ee(oe,l))}function di(e){he.current===e&&(D(oe),D(he)),be.current===e&&(D(be),jl._currentValue=Y)}var sl,uo;function Xt(e){if(sl===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||"",uo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sl+e+uo}var rl=!1;function ul(e,t){if(!e||rl)return"";rl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(G){var P=G}Reflect.construct(e,[],O)}else{try{O.call()}catch(G){P=G}e.call(O.prototype)}}else{try{throw Error()}catch(G){P=G}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),x=p[0],_=p[1];if(x&&_){var A=x.split(`
`),L=_.split(`
`);for(f=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(s===A.length||f===L.length)for(s=A.length-1,f=L.length-1;1<=s&&0<=f&&A[s]!==L[f];)f--;for(;1<=s&&0<=f;s--,f--)if(A[s]!==L[f]){if(s!==1||f!==1)do if(s--,f--,0>f||A[s]!==L[f]){var V=`
`+A[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=f);break}}}finally{rl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xt(l):""}function Oa(e,t){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==t&&t!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return ul(e.type,!1);case 11:return ul(e.type.render,!1);case 1:return ul(e.type,!0);case 31:return Xt("Activity");default:return""}}function cl(e){try{var t="",l=null;do t+=Oa(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var pi=Object.prototype.hasOwnProperty,mi=i.unstable_scheduleCallback,hi=i.unstable_cancelCallback,co=i.unstable_shouldYield,fo=i.unstable_requestPaint,st=i.unstable_now,po=i.unstable_getCurrentPriorityLevel,J=i.unstable_ImmediatePriority,xe=i.unstable_UserBlockingPriority,Ne=i.unstable_NormalPriority,Ye=i.unstable_LowPriority,Ht=i.unstable_IdlePriority,Yn=i.log,qt=i.unstable_setDisableYieldValue,fl=null,vt=null;function yn(e){if(typeof Yn=="function"&&qt(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(fl,e)}catch{}}var Tt=Math.clz32?Math.clz32:$h,Qh=Math.log,Zh=Math.LN2;function $h(e){return e>>>=0,e===0?32:31-(Qh(e)/Zh|0)|0}var mo=256,ho=262144,go=4194304;function Jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yo(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,p=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~p,s!==0?f=Jn(s):(x&=_,x!==0?f=Jn(x):l||(l=_&~e,l!==0&&(f=Jn(l))))):(_=s&~p,_!==0?f=Jn(_):x!==0?f=Jn(x):l||(l=s&~e,l!==0&&(f=Jn(l)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,l=t&-t,p>=l||p===32&&(l&4194048)!==0)?t:f}function dl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=go;return go<<=1,(go&62914560)===0&&(go=4194304),e}function Fa(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,t,l,s,f,p){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,L=e.hiddenUpdates;for(l=x&~l;0<l;){var V=31-Tt(l),O=1<<V;_[V]=0,A[V]=-1;var P=L[V];if(P!==null)for(L[V]=null,V=0;V<P.length;V++){var G=P[V];G!==null&&(G.lane&=-536870913)}l&=~O}s!==0&&Iu(e,s,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~t))}function Iu(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Tt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Du(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Tt(l),f=1<<s;f&t|e[s]&t&&(e[s]|=t),l&=~f}}function Uu(e,t){var l=t&-t;return l=(l&42)!==0?1:Ya(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ya(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lu(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:xp(e.type))}function Pu(e,t){var l=M.p;try{return M.p=e,t()}finally{M.p=l}}var vn=Math.random().toString(36).slice(2),nt="__reactFiber$"+vn,ft="__reactProps$"+vn,gi="__reactContainer$"+vn,Ka="__reactEvents$"+vn,eg="__reactListeners$"+vn,tg="__reactHandles$"+vn,ku="__reactResources$"+vn,ml="__reactMarker$"+vn;function Xa(e){delete e[nt],delete e[ft],delete e[Ka],delete e[eg],delete e[tg]}function yi(e){var t=e[nt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[gi]||l[nt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=lp(e);e!==null;){if(l=e[nt])return l;e=lp(e)}return t}e=l,l=e.parentNode}return null}function vi(e){if(e=e[nt]||e[gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ti(e){var t=e[ku];return t||(t=e[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[ml]=!0}var Gu=new Set,Hu={};function Kn(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Hu[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var ng=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Bu={};function ig(e){return pi.call(Bu,e)?!0:pi.call(qu,e)?!1:ng.test(e)?Bu[e]=!0:(qu[e]=!0,!1)}function vo(e,t,l){if(ig(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function To(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Qt(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lg(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qa(e){if(!e._valueTracker){var t=Vu(e)?"checked":"value";e._valueTracker=lg(e,t,""+e[t])}}function zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=Vu(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var og=/[\n"\\]/g;function Mt(e){return e.replace(og,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Za(e,t,l,s,f,p,x,_){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?$a(e,x,bt(t)):l!=null?$a(e,x,bt(l)):s!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+bt(_):e.removeAttribute("name")}function Ou(e,t,l,s,f,p,x,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Qa(e);return}l=l!=null?""+bt(l):"",t=t!=null?""+bt(t):l,_||t===e.value||(e.value=t),e.defaultValue=t}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Qa(e)}function $a(e,t,l){t==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ei(e,t,l,s){if(e=e.options,t){t={};for(var f=0;f<l.length;f++)t["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=t.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),t=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Fu(e,t,l){if(t!=null&&(t=""+bt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+bt(l):""}function Yu(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(a(92));if(Q(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=bt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Qa(e)}function Si(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||ag.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Ku(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in t)s=t[f],t.hasOwnProperty(f)&&l[f]!==s&&Ju(e,f,s)}else for(var p in t)t.hasOwnProperty(p)&&Ju(e,p,t[p])}function Wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(e){return rg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var ja=null;function es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ci=null;function Xu(e){var t=vi(e);if(t&&(e=t.stateNode)){var l=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Za(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var f=s[ft]||null;if(!f)throw Error(a(90));Za(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&zu(s)}break e;case"textarea":Fu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ei(e,!!l.multiple,t,!1)}}}var ts=!1;function Qu(e,t,l){if(ts)return e(t,l);ts=!0;try{var s=e(t);return s}finally{if(ts=!1,(_i!==null||Ci!==null)&&(ra(),_i&&(t=_i,e=Ci,Ci=_i=null,Xu(t),e)))for(t=0;t<e.length;t++)Xu(e[t])}}function gl(e,t){var l=e.stateNode;if(l===null)return null;var s=l[ft]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=!1;if($t)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){ns=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{ns=!1}var Tn=null,is=null,So=null;function Zu(){if(So)return So;var e,t=is,l=t.length,s,f="value"in Tn?Tn.value:Tn.textContent,p=f.length;for(e=0;e<l&&t[e]===f[e];e++);var x=l-e;for(s=1;s<=x&&t[l-s]===f[p-s];s++);return So=f.slice(e,1<s?1-s:void 0)}function _o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function $u(){return!1}function dt(e){function t(l,s,f,p,x){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Co:$u,this.isPropagationStopped=$u,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=dt(Xn),vl=E({},Xn,{view:0,detail:0}),ug=dt(vl),ls,os,Tl,No=E({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(ls=e.screenX-Tl.screenX,os=e.screenY-Tl.screenY):os=ls=0,Tl=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:os}}),Wu=dt(No),cg=E({},No,{dataTransfer:0}),fg=dt(cg),dg=E({},vl,{relatedTarget:0}),as=dt(dg),pg=E({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),mg=dt(pg),hg=E({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gg=dt(hg),yg=E({},Xn,{data:0}),ju=dt(yg),vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xg[e])?!!t[e]:!1}function ss(){return Eg}var Sg=E({},vl,{key:function(e){if(e.key){var t=vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?_o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_g=dt(Sg),Cg=E({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ec=dt(Cg),Ag=E({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Ng=dt(Ag),bg=E({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mg=dt(bg),Rg=E({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wg=dt(Rg),Ig=E({},Xn,{newState:0,oldState:0}),Dg=dt(Ig),Ug=[9,13,27,32],rs=$t&&"CompositionEvent"in window,xl=null;$t&&"documentMode"in document&&(xl=document.documentMode);var Lg=$t&&"TextEvent"in window&&!xl,tc=$t&&(!rs||xl&&8<xl&&11>=xl),nc=" ",ic=!1;function lc(e,t){switch(e){case"keyup":return Ug.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function Pg(e,t){switch(e){case"compositionend":return oc(t);case"keypress":return t.which!==32?null:(ic=!0,nc);case"textInput":return e=t.data,e===nc&&ic?null:e;default:return null}}function kg(e,t){if(Ai)return e==="compositionend"||!rs&&lc(e,t)?(e=Zu(),So=is=Tn=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tc&&t.locale!=="ko"?null:t.data;default:return null}}var Gg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gg[e.type]:t==="textarea"}function sc(e,t,l,s){_i?Ci?Ci.push(s):Ci=[s]:_i=s,t=ha(t,"onChange"),0<t.length&&(l=new Ao("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var El=null,Sl=null;function Hg(e){Fd(e,0)}function bo(e){var t=hl(e);if(zu(t))return e}function rc(e,t){if(e==="change")return t}var uc=!1;if($t){var us;if($t){var cs="oninput"in document;if(!cs){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),cs=typeof cc.oninput=="function"}us=cs}else us=!1;uc=us&&(!document.documentMode||9<document.documentMode)}function fc(){El&&(El.detachEvent("onpropertychange",dc),Sl=El=null)}function dc(e){if(e.propertyName==="value"&&bo(Sl)){var t=[];sc(t,Sl,e,es(e)),Qu(Hg,t)}}function qg(e,t,l){e==="focusin"?(fc(),El=t,Sl=l,El.attachEvent("onpropertychange",dc)):e==="focusout"&&fc()}function Bg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(Sl)}function Vg(e,t){if(e==="click")return bo(t)}function zg(e,t){if(e==="input"||e==="change")return bo(t)}function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Og;function _l(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!pi.call(t,f)||!xt(e[f],t[f]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var l=pc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pc(l)}}function hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xo(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=xo(e.document)}return t}function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fg=$t&&"documentMode"in document&&11>=document.documentMode,Ni=null,ds=null,Cl=null,ps=!1;function yc(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ps||Ni==null||Ni!==xo(s)||(s=Ni,"selectionStart"in s&&fs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Cl&&_l(Cl,s)||(Cl=s,s=ha(ds,"onSelect"),0<s.length&&(t=new Ao("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Ni)))}function Qn(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var bi={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},ms={},vc={};$t&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Zn(e){if(ms[e])return ms[e];if(!bi[e])return e;var t=bi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in vc)return ms[e]=t[l];return e}var Tc=Zn("animationend"),xc=Zn("animationiteration"),Ec=Zn("animationstart"),Yg=Zn("transitionrun"),Jg=Zn("transitionstart"),Kg=Zn("transitioncancel"),Sc=Zn("transitionend"),_c=new Map,hs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hs.push("scrollEnd");function Bt(e,t){_c.set(e,t),Kn(t,[e])}var Mo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],Mi=0,gs=0;function Ro(){for(var e=Mi,t=gs=Mi=0;t<e;){var l=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var f=Rt[t];Rt[t++]=null;var p=Rt[t];if(Rt[t++]=null,s!==null&&f!==null){var x=s.pending;x===null?f.next=f:(f.next=x.next,x.next=f),s.pending=f}p!==0&&Cc(l,f,p)}}function wo(e,t,l,s){Rt[Mi++]=e,Rt[Mi++]=t,Rt[Mi++]=l,Rt[Mi++]=s,gs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ys(e,t,l,s){return wo(e,t,l,s),Io(e)}function $n(e,t){return wo(e,null,null,t),Io(e)}function Cc(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,p=e.return;p!==null;)p.childLanes|=l,s=p.alternate,s!==null&&(s.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-Tt(l),e=p.hiddenUpdates,s=e[f],s===null?e[f]=[t]:s.push(t),t.lane=l|536870912),p):null}function Io(e){if(50<Jl)throw Jl=0,Nr=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ri={};function Xg(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,l,s){return new Xg(e,t,l,s)}function vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wt(e,t){var l=e.alternate;return l===null?(l=Et(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Ac(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Do(e,t,l,s,f,p){var x=0;if(s=e,typeof e=="function")vs(e)&&(x=1);else if(typeof e=="string")x=jy(e,l,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=Et(31,l,t,f),e.elementType=$,e.lanes=p,e;case H:return Wn(l.children,f,p,t);case k:x=8,f|=24;break;case Z:return e=Et(12,l,t,f|2),e.elementType=Z,e.lanes=p,e;case K:return e=Et(13,l,t,f),e.elementType=K,e.lanes=p,e;case ne:return e=Et(19,l,t,f),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:x=10;break e;case W:x=9;break e;case F:x=11;break e;case I:x=14;break e;case de:x=16,s=null;break e}x=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=Et(x,l,t,f),t.elementType=e,t.type=s,t.lanes=p,t}function Wn(e,t,l,s){return e=Et(7,e,s,t),e.lanes=l,e}function Ts(e,t,l){return e=Et(6,e,null,t),e.lanes=l,e}function Nc(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function xs(e,t,l){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bc=new WeakMap;function wt(e,t){if(typeof e=="object"&&e!==null){var l=bc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:cl(t)},bc.set(e,t),t)}return{value:e,source:t,stack:cl(t)}}var wi=[],Ii=0,Uo=null,Al=0,It=[],Dt=0,xn=null,Ft=1,Yt="";function jt(e,t){wi[Ii++]=Al,wi[Ii++]=Uo,Uo=e,Al=t}function Mc(e,t,l){It[Dt++]=Ft,It[Dt++]=Yt,It[Dt++]=xn,xn=e;var s=Ft;e=Yt;var f=32-Tt(s)-1;s&=~(1<<f),l+=1;var p=32-Tt(t)+f;if(30<p){var x=f-f%5;p=(s&(1<<x)-1).toString(32),s>>=x,f-=x,Ft=1<<32-Tt(t)+f|l<<f|s,Yt=p+e}else Ft=1<<p|l<<f|s,Yt=e}function Es(e){e.return!==null&&(jt(e,1),Mc(e,1,0))}function Ss(e){for(;e===Uo;)Uo=wi[--Ii],wi[Ii]=null,Al=wi[--Ii],wi[Ii]=null;for(;e===xn;)xn=It[--Dt],It[Dt]=null,Yt=It[--Dt],It[Dt]=null,Ft=It[--Dt],It[Dt]=null}function Rc(e,t){It[Dt++]=Ft,It[Dt++]=Yt,It[Dt++]=xn,Ft=t.id,Yt=t.overflow,xn=e}var it=null,He=null,Ae=!1,En=null,Ut=!1,_s=Error(a(519));function Sn(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(wt(t,e)),_s}function wc(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[nt]=e,t[ft]=s,l){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(l=0;l<Xl.length;l++)Se(Xl[l],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Ou(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),Yu(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||Xd(t.textContent,l)?(s.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),s.onScroll!=null&&Se("scroll",t),s.onScrollEnd!=null&&Se("scrollend",t),s.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Sn(e,!0)}function Ic(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:it=it.return}}function Di(e){if(e!==it)return!1;if(!Ae)return Ic(e),Ae=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Vr(e.type,e.memoizedProps)),l=!l),l&&He&&Sn(e),Ic(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=ip(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));He=ip(e)}else t===27?(t=He,kn(e.type)?(e=Jr,Jr=null,He=e):He=t):He=it?Pt(e.stateNode.nextSibling):null;return!0}function jn(){He=it=null,Ae=!1}function Cs(){var e=En;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),En=null),e}function Nl(e){En===null?En=[e]:En.push(e)}var As=C(null),ei=null,en=null;function _n(e,t,l){ee(As,t._currentValue),t._currentValue=l}function tn(e){e._currentValue=As.current,D(As)}function Ns(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function bs(e,t,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var x=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var A=0;A<t.length;A++)if(_.context===t[A]){p.lanes|=l,_=p.alternate,_!==null&&(_.lanes|=l),Ns(p.return,l,e),s||(x=null);break e}p=_.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(a(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),Ns(x,l,e),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===e){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Ui(e,t,l,s){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(a(387));if(x=x.memoizedProps,x!==null){var _=f.type;xt(f.pendingProps.value,x.value)||(e!==null?e.push(_):e=[_])}}else if(f===be.current){if(x=f.alternate,x===null)throw Error(a(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}f=f.return}e!==null&&bs(t,e,l,s),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ti(e){ei=e,en=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Dc(ei,e)}function Po(e,t){return ei===null&&ti(e),Dc(e,t)}function Dc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},en===null){if(e===null)throw Error(a(308));en=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else en=en.next=t;return l}var Qg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Zg=i.unstable_scheduleCallback,$g=i.unstable_NormalPriority,Xe={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ms(){return{controller:new Qg,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&Zg($g,function(){e.controller.abort()})}var Ml=null,Rs=0,Li=0,Pi=null;function Wg(e,t){if(Ml===null){var l=Ml=[];Rs=0,Li=Dr(),Pi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Rs++,t.then(Uc,Uc),t}function Uc(){if(--Rs===0&&Ml!==null){Pi!==null&&(Pi.status="fulfilled");var e=Ml;Ml=null,Li=0,Pi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jg(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var f=0;f<l.length;f++)(0,l[f])(t)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var Lc=N.S;N.S=function(e,t){vd=st(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wg(e,t),Lc!==null&&Lc(e,t)};var ni=C(null);function ws(){var e=ni.current;return e!==null?e:Ge.pooledCache}function ko(e,t){t===null?ee(ni,ni.current):ee(ni,t.pool)}function Pc(){var e=ws();return e===null?null:{parent:Xe._currentValue,pool:e}}var ki=Error(a(460)),Is=Error(a(474)),Go=Error(a(542)),Ho={then:function(){}};function kc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Zt,Zt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qc(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=s}},function(s){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,qc(e),e}throw li=t,ki}}function ii(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(li=l,ki):l}}var li=null;function Hc(){if(li===null)throw Error(a(459));var e=li;return li=null,e}function qc(e){if(e===ki||e===Go)throw Error(a(483))}var Gi=null,Rl=0;function qo(e){var t=Rl;return Rl+=1,Gi===null&&(Gi=[]),Gc(Gi,e,t)}function wl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bo(e,t){throw t.$$typeof===S?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bc(e){function t(w,R){if(e){var U=w.deletions;U===null?(w.deletions=[R],w.flags|=16):U.push(R)}}function l(w,R){if(!e)return null;for(;R!==null;)t(w,R),R=R.sibling;return null}function s(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function f(w,R){return w=Wt(w,R),w.index=0,w.sibling=null,w}function p(w,R,U){return w.index=U,e?(U=w.alternate,U!==null?(U=U.index,U<R?(w.flags|=67108866,R):U):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function x(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,R,U,z){return R===null||R.tag!==6?(R=Ts(U,w.mode,z),R.return=w,R):(R=f(R,U),R.return=w,R)}function A(w,R,U,z){var fe=U.type;return fe===H?V(w,R,U.props.children,z,U.key):R!==null&&(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===de&&ii(fe)===R.type)?(R=f(R,U.props),wl(R,U),R.return=w,R):(R=Do(U.type,U.key,U.props,null,w.mode,z),wl(R,U),R.return=w,R)}function L(w,R,U,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=xs(U,w.mode,z),R.return=w,R):(R=f(R,U.children||[]),R.return=w,R)}function V(w,R,U,z,fe){return R===null||R.tag!==7?(R=Wn(U,w.mode,z,fe),R.return=w,R):(R=f(R,U),R.return=w,R)}function O(w,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ts(""+R,w.mode,U),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case b:return U=Do(R.type,R.key,R.props,null,w.mode,U),wl(U,R),U.return=w,U;case B:return R=xs(R,w.mode,U),R.return=w,R;case de:return R=ii(R),O(w,R,U)}if(Q(R)||le(R))return R=Wn(R,w.mode,U,null),R.return=w,R;if(typeof R.then=="function")return O(w,qo(R),U);if(R.$$typeof===j)return O(w,Po(w,R),U);Bo(w,R)}return null}function P(w,R,U,z){var fe=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:_(w,R,""+U,z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===fe?A(w,R,U,z):null;case B:return U.key===fe?L(w,R,U,z):null;case de:return U=ii(U),P(w,R,U,z)}if(Q(U)||le(U))return fe!==null?null:V(w,R,U,z,null);if(typeof U.then=="function")return P(w,R,qo(U),z);if(U.$$typeof===j)return P(w,R,Po(w,U),z);Bo(w,U)}return null}function G(w,R,U,z,fe){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(U)||null,_(R,w,""+z,fe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return w=w.get(z.key===null?U:z.key)||null,A(R,w,z,fe);case B:return w=w.get(z.key===null?U:z.key)||null,L(R,w,z,fe);case de:return z=ii(z),G(w,R,U,z,fe)}if(Q(z)||le(z))return w=w.get(U)||null,V(R,w,z,fe,null);if(typeof z.then=="function")return G(w,R,U,qo(z),fe);if(z.$$typeof===j)return G(w,R,U,Po(R,z),fe);Bo(R,z)}return null}function re(w,R,U,z){for(var fe=null,Me=null,ce=R,Te=R=0,Ce=null;ce!==null&&Te<U.length;Te++){ce.index>Te?(Ce=ce,ce=null):Ce=ce.sibling;var Re=P(w,ce,U[Te],z);if(Re===null){ce===null&&(ce=Ce);break}e&&ce&&Re.alternate===null&&t(w,ce),R=p(Re,R,Te),Me===null?fe=Re:Me.sibling=Re,Me=Re,ce=Ce}if(Te===U.length)return l(w,ce),Ae&&jt(w,Te),fe;if(ce===null){for(;Te<U.length;Te++)ce=O(w,U[Te],z),ce!==null&&(R=p(ce,R,Te),Me===null?fe=ce:Me.sibling=ce,Me=ce);return Ae&&jt(w,Te),fe}for(ce=s(ce);Te<U.length;Te++)Ce=G(ce,w,Te,U[Te],z),Ce!==null&&(e&&Ce.alternate!==null&&ce.delete(Ce.key===null?Te:Ce.key),R=p(Ce,R,Te),Me===null?fe=Ce:Me.sibling=Ce,Me=Ce);return e&&ce.forEach(function(Vn){return t(w,Vn)}),Ae&&jt(w,Te),fe}function me(w,R,U,z){if(U==null)throw Error(a(151));for(var fe=null,Me=null,ce=R,Te=R=0,Ce=null,Re=U.next();ce!==null&&!Re.done;Te++,Re=U.next()){ce.index>Te?(Ce=ce,ce=null):Ce=ce.sibling;var Vn=P(w,ce,Re.value,z);if(Vn===null){ce===null&&(ce=Ce);break}e&&ce&&Vn.alternate===null&&t(w,ce),R=p(Vn,R,Te),Me===null?fe=Vn:Me.sibling=Vn,Me=Vn,ce=Ce}if(Re.done)return l(w,ce),Ae&&jt(w,Te),fe;if(ce===null){for(;!Re.done;Te++,Re=U.next())Re=O(w,Re.value,z),Re!==null&&(R=p(Re,R,Te),Me===null?fe=Re:Me.sibling=Re,Me=Re);return Ae&&jt(w,Te),fe}for(ce=s(ce);!Re.done;Te++,Re=U.next())Re=G(ce,w,Te,Re.value,z),Re!==null&&(e&&Re.alternate!==null&&ce.delete(Re.key===null?Te:Re.key),R=p(Re,R,Te),Me===null?fe=Re:Me.sibling=Re,Me=Re);return e&&ce.forEach(function(cv){return t(w,cv)}),Ae&&jt(w,Te),fe}function ke(w,R,U,z){if(typeof U=="object"&&U!==null&&U.type===H&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var fe=U.key;R!==null;){if(R.key===fe){if(fe=U.type,fe===H){if(R.tag===7){l(w,R.sibling),z=f(R,U.props.children),z.return=w,w=z;break e}}else if(R.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===de&&ii(fe)===R.type){l(w,R.sibling),z=f(R,U.props),wl(z,U),z.return=w,w=z;break e}l(w,R);break}else t(w,R);R=R.sibling}U.type===H?(z=Wn(U.props.children,w.mode,z,U.key),z.return=w,w=z):(z=Do(U.type,U.key,U.props,null,w.mode,z),wl(z,U),z.return=w,w=z)}return x(w);case B:e:{for(fe=U.key;R!==null;){if(R.key===fe)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){l(w,R.sibling),z=f(R,U.children||[]),z.return=w,w=z;break e}else{l(w,R);break}else t(w,R);R=R.sibling}z=xs(U,w.mode,z),z.return=w,w=z}return x(w);case de:return U=ii(U),ke(w,R,U,z)}if(Q(U))return re(w,R,U,z);if(le(U)){if(fe=le(U),typeof fe!="function")throw Error(a(150));return U=fe.call(U),me(w,R,U,z)}if(typeof U.then=="function")return ke(w,R,qo(U),z);if(U.$$typeof===j)return ke(w,R,Po(w,U),z);Bo(w,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(l(w,R.sibling),z=f(R,U),z.return=w,w=z):(l(w,R),z=Ts(U,w.mode,z),z.return=w,w=z),x(w)):l(w,R)}return function(w,R,U,z){try{Rl=0;var fe=ke(w,R,U,z);return Gi=null,fe}catch(ce){if(ce===ki||ce===Go)throw ce;var Me=Et(29,ce,null,w.mode);return Me.lanes=z,Me.return=w,Me}finally{}}}var oi=Bc(!0),Vc=Bc(!1),Cn=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Nn(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ie&2)!==0){var f=s.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),s.pending=t,t=Io(e),Cc(e,null,l),t}return wo(e,s,t,l),Io(e)}function Il(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Du(e,l)}}function Ls(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?f=p=t:p=p.next=t}else f=p=t;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ps=!1;function Dl(){if(Ps){var e=Pi;if(e!==null)throw e}}function Ul(e,t,l,s){Ps=!1;var f=e.updateQueue;Cn=!1;var p=f.firstBaseUpdate,x=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var A=_,L=A.next;A.next=null,x===null?p=L:x.next=L,x=A;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==x&&(_===null?V.firstBaseUpdate=L:_.next=L,V.lastBaseUpdate=A))}if(p!==null){var O=f.baseState;x=0,V=L=A=null,_=p;do{var P=_.lane&-536870913,G=P!==_.lane;if(G?(_e&P)===P:(s&P)===P){P!==0&&P===Li&&(Ps=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var re=e,me=_;P=t;var ke=l;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){O=re.call(ke,O,P);break e}O=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,P=typeof re=="function"?re.call(ke,O,P):re,P==null)break e;O=E({},O,P);break e;case 2:Cn=!0}}P=_.callback,P!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[P]:G.push(P))}else G={lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(L=V=G,A=O):V=V.next=G,x|=P;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;G=_,_=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);V===null&&(A=O),f.baseState=A,f.firstBaseUpdate=L,f.lastBaseUpdate=V,p===null&&(f.shared.lanes=0),In|=x,e.lanes=x,e.memoizedState=O}}function zc(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Oc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)zc(l[e],t)}var Hi=C(null),Vo=C(0);function Fc(e,t){e=fn,ee(Vo,e),ee(Hi,t),fn=e|t.baseLanes}function ks(){ee(Vo,fn),ee(Hi,Hi.current)}function Gs(){fn=Vo.current,D(Hi),D(Vo)}var St=C(null),Lt=null;function bn(e){var t=e.alternate;ee(Je,Je.current&1),ee(St,e),Lt===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Lt=e)}function Hs(e){ee(Je,Je.current),ee(St,e),Lt===null&&(Lt=e)}function Yc(e){e.tag===22?(ee(Je,Je.current),ee(St,e),Lt===null&&(Lt=e)):Mn()}function Mn(){ee(Je,Je.current),ee(St,St.current)}function _t(e){D(St),Lt===e&&(Lt=null),D(Je)}var Je=C(0);function zo(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fr(l)||Yr(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nn=0,ve=null,Le=null,Qe=null,Oo=!1,qi=!1,ai=!1,Fo=0,Ll=0,Bi=null,ey=0;function Oe(){throw Error(a(321))}function qs(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!xt(e[l],t[l]))return!1;return!0}function Bs(e,t,l,s,f,p){return nn=p,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Rf:tr,ai=!1,p=l(s,f),ai=!1,qi&&(p=Kc(t,l,s,f)),Jc(e),p}function Jc(e){N.H=Gl;var t=Le!==null&&Le.next!==null;if(nn=0,Qe=Le=ve=null,Oo=!1,Ll=0,Bi=null,t)throw Error(a(300));e===null||Ze||(e=e.dependencies,e!==null&&Lo(e)&&(Ze=!0))}function Kc(e,t,l,s){ve=e;var f=0;do{if(qi&&(Bi=null),Ll=0,qi=!1,25<=f)throw Error(a(301));if(f+=1,Qe=Le=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}N.H=wf,p=t(l,s)}while(qi);return p}function ty(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Pl(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),t}function Vs(){var e=Fo!==0;return Fo=0,e}function zs(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Os(e){if(Oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oo=!1}nn=0,Qe=Le=ve=null,qi=!1,Ll=Fo=0,Bi=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ve.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ke(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Qe===null?ve.memoizedState:Qe.next;if(t!==null)Qe=t,Le=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Qe===null?ve.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var t=Ll;return Ll+=1,Bi===null&&(Bi=[]),e=Gc(Bi,e,t),t=ve,(Qe===null?t.memoizedState:Qe.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Rf:tr),e}function Jo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===j)return lt(e)}throw Error(a(438,String(e)))}function Fs(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Yo(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=te;return t.index++,l}function ln(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Ke();return Ys(t,Le,e)}function Ys(e,t,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,p=s.pending;if(p!==null){if(f!==null){var x=f.next;f.next=p.next,p.next=x}t.baseQueue=f=p,s.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var _=x=null,A=null,L=t,V=!1;do{var O=L.lane&-536870913;if(O!==L.lane?(_e&O)===O:(nn&O)===O){var P=L.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),O===Li&&(V=!0);else if((nn&P)===P){L=L.next,P===Li&&(V=!0);continue}else O={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=O,x=p):A=A.next=O,ve.lanes|=P,In|=P;O=L.action,ai&&l(p,O),p=L.hasEagerState?L.eagerState:l(p,O)}else P={lane:O,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(_=A=P,x=p):A=A.next=P,ve.lanes|=O,In|=O;L=L.next}while(L!==null&&L!==t);if(A===null?x=p:A.next=_,!xt(p,e.memoizedState)&&(Ze=!0,V&&(l=Pi,l!==null)))throw l;e.memoizedState=p,e.baseState=x,e.baseQueue=A,s.lastRenderedState=p}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Js(e){var t=Ke(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,p=t.memoizedState;if(f!==null){l.pending=null;var x=f=f.next;do p=e(p,x.action),x=x.next;while(x!==f);xt(p,t.memoizedState)||(Ze=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),l.lastRenderedState=p}return[p,s]}function Xc(e,t,l){var s=ve,f=Ke(),p=Ae;if(p){if(l===void 0)throw Error(a(407));l=l()}else l=t();var x=!xt((Le||f).memoizedState,l);if(x&&(f.memoizedState=l,Ze=!0),f=f.queue,Qs($c.bind(null,s,f,e),[e]),f.getSnapshot!==t||x||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,Vi(9,{destroy:void 0},Zc.bind(null,s,f,l,t),null),Ge===null)throw Error(a(349));p||(nn&127)!==0||Qc(s,t,l)}return l}function Qc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=Yo(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Zc(e,t,l,s){t.value=l,t.getSnapshot=s,Wc(t)&&jc(e)}function $c(e,t,l){return l(function(){Wc(t)&&jc(e)})}function Wc(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!xt(e,l)}catch{return!0}}function jc(e){var t=$n(e,2);t!==null&&yt(t,e,2)}function Ks(e){var t=ct();if(typeof e=="function"){var l=e;if(e=l(),ai){yn(!0);try{l()}finally{yn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:e},t}function ef(e,t,l,s){return e.baseState=l,Ys(e,Le,typeof s=="function"?s:ln)}function ny(e,t,l,s,f){if(Zo(e))throw Error(a(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};N.T!==null?l(!0):p.isTransition=!1,s(p),l=t.pending,l===null?(p.next=t.pending=p,tf(t,p)):(p.next=l.next,t.pending=l.next=p)}}function tf(e,t){var l=t.action,s=t.payload,f=e.state;if(t.isTransition){var p=N.T,x={};N.T=x;try{var _=l(f,s),A=N.S;A!==null&&A(x,_),nf(e,t,_)}catch(L){Xs(e,t,L)}finally{p!==null&&x.types!==null&&(p.types=x.types),N.T=p}}else try{p=l(f,s),nf(e,t,p)}catch(L){Xs(e,t,L)}}function nf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){lf(e,t,s)},function(s){return Xs(e,t,s)}):lf(e,t,l)}function lf(e,t,l){t.status="fulfilled",t.value=l,of(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,tf(e,l)))}function Xs(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,of(t),t=t.next;while(t!==s)}e.action=null}function of(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function af(e,t){return t}function sf(e,t){if(Ae){var l=Ge.formState;if(l!==null){e:{var s=ve;if(Ae){if(He){t:{for(var f=He,p=Ut;f.nodeType!==8;){if(!p){f=null;break t}if(f=Pt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){He=Pt(f.nextSibling),s=f.data==="F!";break e}}Sn(s)}s=!1}s&&(t=l[0])}}return l=ct(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},l.queue=s,l=Nf.bind(null,ve,s),s.dispatch=l,s=Ks(!1),p=er.bind(null,ve,!1,s.queue),s=ct(),f={state:t,dispatch:null,action:e,pending:null},s.queue=f,l=ny.bind(null,ve,f,p,l),f.dispatch=l,s.memoizedState=e,[t,l,!1]}function rf(e){var t=Ke();return uf(t,Le,e)}function uf(e,t,l){if(t=Ys(e,t,af)[0],e=Ko(ln)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Pl(t)}catch(x){throw x===ki?Go:x}else s=t;t=Ke();var f=t.queue,p=f.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,Vi(9,{destroy:void 0},iy.bind(null,f,l),null)),[s,p,e]}function iy(e,t){e.action=t}function cf(e){var t=Ke(),l=Le;if(l!==null)return uf(t,l,e);Ke(),t=t.memoizedState,l=Ke();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Vi(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Yo(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function ff(){return Ke().memoizedState}function Xo(e,t,l,s){var f=ct();ve.flags|=e,f.memoizedState=Vi(1|t,{destroy:void 0},l,s===void 0?null:s)}function Qo(e,t,l,s){var f=Ke();s=s===void 0?null:s;var p=f.memoizedState.inst;Le!==null&&s!==null&&qs(s,Le.memoizedState.deps)?f.memoizedState=Vi(t,p,l,s):(ve.flags|=e,f.memoizedState=Vi(1|t,p,l,s))}function df(e,t){Xo(8390656,8,e,t)}function Qs(e,t){Qo(2048,8,e,t)}function ly(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Yo(),ve.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function pf(e){var t=Ke().memoizedState;return ly({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function mf(e,t){return Qo(4,2,e,t)}function hf(e,t){return Qo(4,4,e,t)}function gf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yf(e,t,l){l=l!=null?l.concat([e]):null,Qo(4,4,gf.bind(null,t,e),l)}function Zs(){}function vf(e,t){var l=Ke();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&qs(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Tf(e,t){var l=Ke();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&qs(t,s[1]))return s[0];if(s=e(),ai){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[s,t],s}function $s(e,t,l){return l===void 0||(nn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=xd(),ve.lanes|=e,In|=e,l)}function xf(e,t,l,s){return xt(l,t)?l:Hi.current!==null?(e=$s(e,l,s),xt(e,t)||(Ze=!0),e):(nn&42)===0||(nn&1073741824)!==0&&(_e&261930)===0?(Ze=!0,e.memoizedState=l):(e=xd(),ve.lanes|=e,In|=e,t)}function Ef(e,t,l,s,f){var p=M.p;M.p=p!==0&&8>p?p:8;var x=N.T,_={};N.T=_,er(e,!1,t,l);try{var A=f(),L=N.S;if(L!==null&&L(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=jg(A,s);kl(e,t,V,Nt(e))}else kl(e,t,s,Nt(e))}catch(O){kl(e,t,{then:function(){},status:"rejected",reason:O},Nt())}finally{M.p=p,x!==null&&_.types!==null&&(x.types=_.types),N.T=x}}function oy(){}function Ws(e,t,l,s){if(e.tag!==5)throw Error(a(476));var f=Sf(e).queue;Ef(e,f,t,Y,l===null?oy:function(){return _f(e),l(s)})}function Sf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:Y},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ln,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _f(e){var t=Sf(e);t.next===null&&(t=e.alternate.memoizedState),kl(e,t.next.queue,{},Nt())}function js(){return lt(jl)}function Cf(){return Ke().memoizedState}function Af(){return Ke().memoizedState}function ay(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Nt();e=An(l);var s=Nn(t,e,l);s!==null&&(yt(s,t,l),Il(s,t,l)),t={cache:Ms()},e.payload=t;return}t=t.return}}function sy(e,t,l){var s=Nt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zo(e)?bf(t,l):(l=ys(e,t,l,s),l!==null&&(yt(l,e,s),Mf(l,t,s)))}function Nf(e,t,l){var s=Nt();kl(e,t,l,s)}function kl(e,t,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))bf(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var x=t.lastRenderedState,_=p(x,l);if(f.hasEagerState=!0,f.eagerState=_,xt(_,x))return wo(e,t,f,0),Ge===null&&Ro(),!1}catch{}finally{}if(l=ys(e,t,f,s),l!==null)return yt(l,e,s),Mf(l,t,s),!0}return!1}function er(e,t,l,s){if(s={lane:2,revertLane:Dr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zo(e)){if(t)throw Error(a(479))}else t=ys(e,l,s,2),t!==null&&yt(t,e,2)}function Zo(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function bf(e,t){qi=Oo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Mf(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Du(e,l)}}var Gl={readContext:lt,use:Jo,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};Gl.useEffectEvent=Oe;var Rf={readContext:lt,use:Jo,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:df,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Xo(4194308,4,gf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){Xo(4,2,e,t)},useMemo:function(e,t){var l=ct();t=t===void 0?null:t;var s=e();if(ai){yn(!0);try{e()}finally{yn(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=ct();if(l!==void 0){var f=l(t);if(ai){yn(!0);try{l(t)}finally{yn(!1)}}}else f=t;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=sy.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Ks(e);var t=e.queue,l=Nf.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Zs,useDeferredValue:function(e,t){var l=ct();return $s(l,e,t)},useTransition:function(){var e=Ks(!1);return e=Ef.bind(null,ve,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=ve,f=ct();if(Ae){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Ge===null)throw Error(a(349));(_e&127)!==0||Qc(s,t,l)}f.memoizedState=l;var p={value:l,getSnapshot:t};return f.queue=p,df($c.bind(null,s,p,e),[e]),s.flags|=2048,Vi(9,{destroy:void 0},Zc.bind(null,s,p,l,t),null),l},useId:function(){var e=ct(),t=Ge.identifierPrefix;if(Ae){var l=Yt,s=Ft;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Fo++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=ey++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:js,useFormState:sf,useActionState:sf,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=er.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Fs,useCacheRefresh:function(){return ct().memoizedState=ay.bind(null,ve)},useEffectEvent:function(e){var t=ct(),l={impl:e};return t.memoizedState=l,function(){if((Ie&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},tr={readContext:lt,use:Jo,useCallback:vf,useContext:lt,useEffect:Qs,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:Tf,useReducer:Ko,useRef:ff,useState:function(){return Ko(ln)},useDebugValue:Zs,useDeferredValue:function(e,t){var l=Ke();return xf(l,Le.memoizedState,e,t)},useTransition:function(){var e=Ko(ln)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Pl(e),t]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:js,useFormState:rf,useActionState:rf,useOptimistic:function(e,t){var l=Ke();return ef(l,Le,e,t)},useMemoCache:Fs,useCacheRefresh:Af};tr.useEffectEvent=pf;var wf={readContext:lt,use:Jo,useCallback:vf,useContext:lt,useEffect:Qs,useImperativeHandle:yf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:Tf,useReducer:Js,useRef:ff,useState:function(){return Js(ln)},useDebugValue:Zs,useDeferredValue:function(e,t){var l=Ke();return Le===null?$s(l,e,t):xf(l,Le.memoizedState,e,t)},useTransition:function(){var e=Js(ln)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Pl(e),t]},useSyncExternalStore:Xc,useId:Cf,useHostTransitionStatus:js,useFormState:cf,useActionState:cf,useOptimistic:function(e,t){var l=Ke();return Le!==null?ef(l,Le,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Fs,useCacheRefresh:Af};wf.useEffectEvent=pf;function nr(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:E({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ir={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Nt(),f=An(s);f.payload=t,l!=null&&(f.callback=l),t=Nn(e,f,s),t!==null&&(yt(t,e,s),Il(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Nt(),f=An(s);f.tag=1,f.payload=t,l!=null&&(f.callback=l),t=Nn(e,f,s),t!==null&&(yt(t,e,s),Il(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Nt(),s=An(l);s.tag=2,t!=null&&(s.callback=t),t=Nn(e,s,l),t!==null&&(yt(t,e,l),Il(t,e,l))}};function If(e,t,l,s,f,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,x):t.prototype&&t.prototype.isPureReactComponent?!_l(l,s)||!_l(f,p):!0}function Df(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&ir.enqueueReplaceState(t,t.state,null)}function si(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=E({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Uf(e){Mo(e)}function Lf(e){console.error(e)}function Pf(e){Mo(e)}function $o(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function kf(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lr(e,t,l){return l=An(l),l.tag=3,l.payload={element:null},l.callback=function(){$o(e,t)},l}function Gf(e){return e=An(e),e.tag=3,e}function Hf(e,t,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=s.value;e.payload=function(){return f(p)},e.callback=function(){kf(t,l,s)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){kf(t,l,s),typeof f!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function ry(e,t,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Ui(t,l,f,!0),l=St.current,l!==null){switch(l.tag){case 31:case 13:return Lt===null?ua():l.alternate===null&&Fe===0&&(Fe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Ho?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Rr(e,s,f)),!1;case 22:return l.flags|=65536,s===Ho?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Rr(e,s,f)),!1}throw Error(a(435,l.tag))}return Rr(e,s,f),ua(),!1}if(Ae)return t=St.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,s!==_s&&(e=Error(a(422),{cause:s}),Nl(wt(e,l)))):(s!==_s&&(t=Error(a(423),{cause:s}),Nl(wt(t,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=wt(s,l),f=lr(e.stateNode,s,f),Ls(e,f),Fe!==4&&(Fe=2)),!1;var p=Error(a(520),{cause:s});if(p=wt(p,l),Yl===null?Yl=[p]:Yl.push(p),Fe!==4&&(Fe=2),t===null)return!0;s=wt(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=lr(l.stateNode,s,e),Ls(l,e),!1;case 1:if(t=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Dn===null||!Dn.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Gf(f),Hf(f,e,l,s),Ls(l,f),!1}l=l.return}while(l!==null);return!1}var or=Error(a(461)),Ze=!1;function ot(e,t,l,s){t.child=e===null?Vc(t,null,l,s):oi(t,e.child,l,s)}function qf(e,t,l,s,f){l=l.render;var p=t.ref;if("ref"in s){var x={};for(var _ in s)_!=="ref"&&(x[_]=s[_])}else x=s;return ti(t),s=Bs(e,t,l,x,p,f),_=Vs(),e!==null&&!Ze?(zs(e,t,f),on(e,t,f)):(Ae&&_&&Es(t),t.flags|=1,ot(e,t,s,f),t.child)}function Bf(e,t,l,s,f){if(e===null){var p=l.type;return typeof p=="function"&&!vs(p)&&p.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=p,Vf(e,t,p,s,f)):(e=Do(l.type,null,s,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!pr(e,f)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:_l,l(x,s)&&e.ref===t.ref)return on(e,t,f)}return t.flags|=1,e=Wt(p,s),e.ref=t.ref,e.return=t,t.child=e}function Vf(e,t,l,s,f){if(e!==null){var p=e.memoizedProps;if(_l(p,s)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=s=p,pr(e,f))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,on(e,t,f)}return ar(e,t,l,s,f)}function zf(e,t,l,s){var f=s.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(s=t.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~p}else s=0,t.child=null;return Of(e,t,p,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ko(t,p!==null?p.cachePool:null),p!==null?Fc(t,p):ks(),Yc(t);else return s=t.lanes=536870912,Of(e,t,p!==null?p.baseLanes|l:l,l,s)}else p!==null?(ko(t,p.cachePool),Fc(t,p),Mn(),t.memoizedState=null):(e!==null&&ko(t,null),ks(),Mn());return ot(e,t,f,l),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Of(e,t,l,s,f){var p=ws();return p=p===null?null:{parent:Xe._currentValue,pool:p},t.memoizedState={baseLanes:l,cachePool:p},e!==null&&ko(t,null),ks(),Yc(t),e!==null&&Ui(e,t,s,!0),t.childLanes=f,null}function Wo(e,t){return t=ea({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ff(e,t,l){return oi(t,e.child,null,l),e=Wo(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function uy(e,t,l){var s=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=Wo(t,s),t.lanes=536870912,Hl(null,e);if(Hs(t),(e=He)?(e=np(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Ft,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},l=Nc(e),l.return=t,t.child=l,it=t,He=null)):e=null,e===null)throw Sn(t);return t.lanes=536870912,null}return Wo(t,s)}var p=e.memoizedState;if(p!==null){var x=p.dehydrated;if(Hs(t),f)if(t.flags&256)t.flags&=-257,t=Ff(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(Ze||Ui(e,t,l,!1),f=(l&e.childLanes)!==0,Ze||f){if(s=Ge,s!==null&&(x=Uu(s,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,$n(e,x),yt(s,e,x),or;ua(),t=Ff(e,t,l)}else e=p.treeContext,He=Pt(x.nextSibling),it=t,Ae=!0,En=null,Ut=!1,e!==null&&Rc(t,e),t=Wo(t,s),t.flags|=4096;return t}return e=Wt(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function jo(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function ar(e,t,l,s,f){return ti(t),l=Bs(e,t,l,s,void 0,f),s=Vs(),e!==null&&!Ze?(zs(e,t,f),on(e,t,f)):(Ae&&s&&Es(t),t.flags|=1,ot(e,t,l,f),t.child)}function Yf(e,t,l,s,f,p){return ti(t),t.updateQueue=null,l=Kc(t,s,l,f),Jc(e),s=Vs(),e!==null&&!Ze?(zs(e,t,p),on(e,t,p)):(Ae&&s&&Es(t),t.flags|=1,ot(e,t,l,p),t.child)}function Jf(e,t,l,s,f){if(ti(t),t.stateNode===null){var p=Ri,x=l.contextType;typeof x=="object"&&x!==null&&(p=lt(x)),p=new l(s,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ir,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=s,p.state=t.memoizedState,p.refs={},Ds(t),x=l.contextType,p.context=typeof x=="object"&&x!==null?lt(x):Ri,p.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(nr(t,l,x,s),p.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&ir.enqueueReplaceState(p,p.state,null),Ul(t,s,p,f),Dl(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){p=t.stateNode;var _=t.memoizedProps,A=si(l,_);p.props=A;var L=p.context,V=l.contextType;x=Ri,typeof V=="object"&&V!==null&&(x=lt(V));var O=l.getDerivedStateFromProps;V=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||L!==x)&&Df(t,p,s,x),Cn=!1;var P=t.memoizedState;p.state=P,Ul(t,s,p,f),Dl(),L=t.memoizedState,_||P!==L||Cn?(typeof O=="function"&&(nr(t,l,O,s),L=t.memoizedState),(A=Cn||If(t,l,A,s,P,L,x))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=L),p.props=s,p.state=L,p.context=x,s=A):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,Us(e,t),x=t.memoizedProps,V=si(l,x),p.props=V,O=t.pendingProps,P=p.context,L=l.contextType,A=Ri,typeof L=="object"&&L!==null&&(A=lt(L)),_=l.getDerivedStateFromProps,(L=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==O||P!==A)&&Df(t,p,s,A),Cn=!1,P=t.memoizedState,p.state=P,Ul(t,s,p,f),Dl();var G=t.memoizedState;x!==O||P!==G||Cn||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof _=="function"&&(nr(t,l,_,s),G=t.memoizedState),(V=Cn||If(t,l,V,s,P,G,A)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,G,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,G,A)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),p.props=s,p.state=G,p.context=A,s=V):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),s=!1)}return p=s,jo(e,t),s=(t.flags&128)!==0,p||s?(p=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&s?(t.child=oi(t,e.child,null,f),t.child=oi(t,null,l,f)):ot(e,t,l,f),t.memoizedState=p.state,e=t.child):e=on(e,t,f),e}function Kf(e,t,l,s){return jn(),t.flags|=256,ot(e,t,l,s),t.child}var sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rr(e){return{baseLanes:e,cachePool:Pc()}}function ur(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=At),e}function Xf(e,t,l){var s=t.pendingProps,f=!1,p=(t.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),x&&(f=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(f?bn(t):Mn(),(e=He)?(e=np(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:Ft,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},l=Nc(e),l.return=t,t.child=l,it=t,He=null)):e=null,e===null)throw Sn(t);return Yr(e)?t.lanes=32:t.lanes=536870912,null}var _=s.children;return s=s.fallback,f?(Mn(),f=t.mode,_=ea({mode:"hidden",children:_},f),s=Wn(s,f,l,null),_.return=t,s.return=t,_.sibling=s,t.child=_,s=t.child,s.memoizedState=rr(l),s.childLanes=ur(e,x,l),t.memoizedState=sr,Hl(null,s)):(bn(t),cr(t,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(p)t.flags&256?(bn(t),t.flags&=-257,t=fr(e,t,l)):t.memoizedState!==null?(Mn(),t.child=e.child,t.flags|=128,t=null):(Mn(),_=s.fallback,f=t.mode,s=ea({mode:"visible",children:s.children},f),_=Wn(_,f,l,null),_.flags|=2,s.return=t,_.return=t,s.sibling=_,t.child=s,oi(t,e.child,null,l),s=t.child,s.memoizedState=rr(l),s.childLanes=ur(e,x,l),t.memoizedState=sr,t=Hl(null,s));else if(bn(t),Yr(_)){if(x=_.nextSibling&&_.nextSibling.dataset,x)var L=x.dgst;x=L,s=Error(a(419)),s.stack="",s.digest=x,Nl({value:s,source:null,stack:null}),t=fr(e,t,l)}else if(Ze||Ui(e,t,l,!1),x=(l&e.childLanes)!==0,Ze||x){if(x=Ge,x!==null&&(s=Uu(x,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,$n(e,s),yt(x,e,s),or;Fr(_)||ua(),t=fr(e,t,l)}else Fr(_)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,He=Pt(_.nextSibling),it=t,Ae=!0,En=null,Ut=!1,e!==null&&Rc(t,e),t=cr(t,s.children),t.flags|=4096);return t}return f?(Mn(),_=s.fallback,f=t.mode,A=e.child,L=A.sibling,s=Wt(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,L!==null?_=Wt(L,_):(_=Wn(_,f,l,null),_.flags|=2),_.return=t,s.return=t,s.sibling=_,t.child=s,Hl(null,s),s=t.child,_=e.child.memoizedState,_===null?_=rr(l):(f=_.cachePool,f!==null?(A=Xe._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Pc(),_={baseLanes:_.baseLanes|l,cachePool:f}),s.memoizedState=_,s.childLanes=ur(e,x,l),t.memoizedState=sr,Hl(e.child,s)):(bn(t),l=e.child,e=l.sibling,l=Wt(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function cr(e,t){return t=ea({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ea(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function fr(e,t,l){return oi(t,e.child,null,l),e=cr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qf(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ns(e.return,t,l)}function dr(e,t,l,s,f,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:p}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=s,x.tail=l,x.tailMode=f,x.treeForkCount=p)}function Zf(e,t,l){var s=t.pendingProps,f=s.revealOrder,p=s.tail;s=s.children;var x=Je.current,_=(x&2)!==0;if(_?(x=x&1|2,t.flags|=128):x&=1,ee(Je,x),ot(e,t,s,l),s=Ae?Al:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,l,t);else if(e.tag===19)Qf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=t.child,f=null;l!==null;)e=l.alternate,e!==null&&zo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=t.child,t.child=null):(f=l.sibling,l.sibling=null),dr(t,!1,f,l,p,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&zo(e)===null){t.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}dr(t,!0,l,null,p,s);break;case"together":dr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function on(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ui(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=Wt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Wt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function pr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function cy(e,t,l){switch(t.tag){case 3:je(t,t.stateNode.containerInfo),_n(t,Xe,e.memoizedState.cache),jn();break;case 27:case 5:Fn(t);break;case 4:je(t,t.stateNode.containerInfo);break;case 10:_n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Hs(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(bn(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Xf(e,t,l):(bn(t),e=on(e,t,l),e!==null?e.sibling:null);bn(t);break;case 19:var f=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Ui(e,t,l,!1),s=(l&t.childLanes)!==0),f){if(s)return Zf(e,t,l);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(Je,Je.current),s)break;return null;case 22:return t.lanes=0,zf(e,t,l,t.pendingProps);case 24:_n(t,Xe,e.memoizedState.cache)}return on(e,t,l)}function $f(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!pr(e,l)&&(t.flags&128)===0)return Ze=!1,cy(e,t,l);Ze=(e.flags&131072)!==0}else Ze=!1,Ae&&(t.flags&1048576)!==0&&Mc(t,Al,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ii(t.elementType),t.type=e,typeof e=="function")vs(e)?(s=si(e,s),t.tag=1,t=Jf(null,t,e,s,l)):(t.tag=0,t=ar(null,t,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===F){t.tag=11,t=qf(null,t,e,s,l);break e}else if(f===I){t.tag=14,t=Bf(null,t,e,s,l);break e}}throw t=X(e)||e,Error(a(306,t,""))}}return t;case 0:return ar(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,f=si(s,t.pendingProps),Jf(e,t,s,f,l);case 3:e:{if(je(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var p=t.memoizedState;f=p.element,Us(e,t),Ul(t,s,null,l);var x=t.memoizedState;if(s=x.cache,_n(t,Xe,s),s!==p.cache&&bs(t,[Xe],l,!0),Dl(),s=x.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Kf(e,t,s,l);break e}else if(s!==f){f=wt(Error(a(424)),t),Nl(f),t=Kf(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Pt(e.firstChild),it=t,Ae=!0,En=null,Ut=!0,l=Vc(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(jn(),s===f){t=on(e,t,l);break e}ot(e,t,s,l)}t=t.child}return t;case 26:return jo(e,t),e===null?(l=rp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ae||(l=t.type,e=t.pendingProps,s=ga(ye.current).createElement(l),s[nt]=t,s[ft]=e,at(s,l,e),et(s),t.stateNode=s):t.memoizedState=rp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fn(t),e===null&&Ae&&(s=t.stateNode=op(t.type,t.pendingProps,ye.current),it=t,Ut=!0,f=He,kn(t.type)?(Jr=f,He=Pt(s.firstChild)):He=f),ot(e,t,t.pendingProps.children,l),jo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((f=s=He)&&(s=By(s,t.type,t.pendingProps,Ut),s!==null?(t.stateNode=s,it=t,He=Pt(s.firstChild),Ut=!1,f=!0):f=!1),f||Sn(t)),Fn(t),f=t.type,p=t.pendingProps,x=e!==null?e.memoizedProps:null,s=p.children,Vr(f,p)?s=null:x!==null&&Vr(f,x)&&(t.flags|=32),t.memoizedState!==null&&(f=Bs(e,t,ty,null,null,l),jl._currentValue=f),jo(e,t),ot(e,t,s,l),t.child;case 6:return e===null&&Ae&&((e=l=He)&&(l=Vy(l,t.pendingProps,Ut),l!==null?(t.stateNode=l,it=t,He=null,e=!0):e=!1),e||Sn(t)),null;case 13:return Xf(e,t,l);case 4:return je(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=oi(t,null,s,l):ot(e,t,s,l),t.child;case 11:return qf(e,t,t.type,t.pendingProps,l);case 7:return ot(e,t,t.pendingProps,l),t.child;case 8:return ot(e,t,t.pendingProps.children,l),t.child;case 12:return ot(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,_n(t,t.type,s.value),ot(e,t,s.children,l),t.child;case 9:return f=t.type._context,s=t.pendingProps.children,ti(t),f=lt(f),s=s(f),t.flags|=1,ot(e,t,s,l),t.child;case 14:return Bf(e,t,t.type,t.pendingProps,l);case 15:return Vf(e,t,t.type,t.pendingProps,l);case 19:return Zf(e,t,l);case 31:return uy(e,t,l);case 22:return zf(e,t,l,t.pendingProps);case 24:return ti(t),s=lt(Xe),e===null?(f=ws(),f===null&&(f=Ge,p=Ms(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),t.memoizedState={parent:s,cache:f},Ds(t),_n(t,Xe,f)):((e.lanes&l)!==0&&(Us(e,t),Ul(t,null,null,l),Dl()),f=e.memoizedState,p=t.memoizedState,f.parent!==s?(f={parent:s,cache:s},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),_n(t,Xe,s)):(s=p.cache,_n(t,Xe,s),s!==f.cache&&bs(t,[Xe],l,!0))),ot(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function an(e){e.flags|=4}function mr(e,t,l,s,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Cd())e.flags|=8192;else throw li=Ho,Is}else e.flags&=-16777217}function Wf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pp(t))if(Cd())e.flags|=8192;else throw li=Ho,Is}function ta(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wu():536870912,e.lanes|=t,Yi|=t)}function ql(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function fy(e,t,l){var s=t.pendingProps;switch(Ss(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),tn(Xe),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Di(t)?an(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cs())),qe(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(an(t),p!==null?(qe(t),Wf(t,p)):(qe(t),mr(t,f,null,s,l))):p?p!==e.memoizedState?(an(t),qe(t),Wf(t,p)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&an(t),qe(t),mr(t,f,e,s,l)),null;case 27:if(di(t),l=ye.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return qe(t),null}e=oe.current,Di(t)?wc(t):(e=op(f,s,l),t.stateNode=e,an(t))}return qe(t),null;case 5:if(di(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return qe(t),null}if(p=oe.current,Di(t))wc(t);else{var x=ga(ye.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?x.createElement("select",{is:s.is}):x.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?x.createElement(f,{is:s.is}):x.createElement(f)}}p[nt]=t,p[ft]=s;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=p;e:switch(at(p,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&an(t)}}return qe(t),mr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=ye.current,Di(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,f=it,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[nt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Xd(e.nodeValue,l)),e||Sn(t,!0)}else e=ga(e).createTextNode(s),e[nt]=t,t.stateNode=e}return qe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Di(t),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else l=Cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(a(558))}return qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Di(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[nt]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),f=!1}else f=Cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==f&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ta(t,t.updateQueue),qe(t),null);case 4:return ze(),e===null&&kr(t.stateNode.containerInfo),qe(t),null;case 10:return tn(t.type),qe(t),null;case 19:if(D(Je),s=t.memoizedState,s===null)return qe(t),null;if(f=(t.flags&128)!==0,p=s.rendering,p===null)if(f)ql(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=zo(e),p!==null){for(t.flags|=128,ql(s,!1),e=p.updateQueue,t.updateQueue=e,ta(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Ac(l,e),l=l.sibling;return ee(Je,Je.current&1|2),Ae&&jt(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&st()>aa&&(t.flags|=128,f=!0,ql(s,!1),t.lanes=4194304)}else{if(!f)if(e=zo(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,ta(t,e),ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Ae)return qe(t),null}else 2*st()-s.renderingStartTime>aa&&l!==536870912&&(t.flags|=128,f=!0,ql(s,!1),t.lanes=4194304);s.isBackwards?(p.sibling=t.child,t.child=p):(e=s.last,e!==null?e.sibling=p:t.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,l=Je.current,ee(Je,f?l&1|2:l&1),Ae&&jt(t,s.treeForkCount),e):(qe(t),null);case 22:case 23:return _t(t),Gs(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),l=t.updateQueue,l!==null&&ta(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&D(ni),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),tn(Xe),qe(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function dy(e,t){switch(Ss(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tn(Xe),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return di(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(a(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Je),null;case 4:return ze(),null;case 10:return tn(t.type),null;case 22:case 23:return _t(t),Gs(),e!==null&&D(ni),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tn(Xe),null;case 25:return null;default:return null}}function jf(e,t){switch(Ss(t),t.tag){case 3:tn(Xe),ze();break;case 26:case 27:case 5:di(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:D(Je);break;case 10:tn(t.type);break;case 22:case 23:_t(t),Gs(),e!==null&&D(ni);break;case 24:tn(Xe)}}function Bl(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var p=l.create,x=l.inst;s=p(),x.destroy=s}l=l.next}while(l!==f)}}catch(_){Ue(t,t.return,_)}}function Rn(e,t,l){try{var s=t.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var p=f.next;s=p;do{if((s.tag&e)===e){var x=s.inst,_=x.destroy;if(_!==void 0){x.destroy=void 0,f=t;var A=l,L=_;try{L()}catch(V){Ue(f,A,V)}}}s=s.next}while(s!==p)}}catch(V){Ue(t,t.return,V)}}function ed(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Oc(t,l)}catch(s){Ue(e,e.return,s)}}}function td(e,t,l){l.props=si(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Vl(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){Ue(e,t,f)}}function Jt(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){Ue(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Ue(e,t,f)}else l.current=null}function nd(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){Ue(e,e.return,f)}}function hr(e,t,l){try{var s=e.stateNode;Ly(s,e.type,l,t),s[ft]=t}catch(f){Ue(e,e.return,f)}}function id(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kn(e.type)||e.tag===4}function gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Zt));else if(s!==4&&(s===27&&kn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(yr(e,t,l),e=e.sibling;e!==null;)yr(e,t,l),e=e.sibling}function na(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&kn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(na(e,t,l),e=e.sibling;e!==null;)na(e,t,l),e=e.sibling}function ld(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);at(t,s,l),t[nt]=e,t[ft]=l}catch(p){Ue(e,e.return,p)}}var sn=!1,$e=!1,vr=!1,od=typeof WeakSet=="function"?WeakSet:Set,tt=null;function py(e,t){if(e=e.containerInfo,qr=_a,e=gc(e),fs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var x=0,_=-1,A=-1,L=0,V=0,O=e,P=null;t:for(;;){for(var G;O!==l||f!==0&&O.nodeType!==3||(_=x+f),O!==p||s!==0&&O.nodeType!==3||(A=x+s),O.nodeType===3&&(x+=O.nodeValue.length),(G=O.firstChild)!==null;)P=O,O=G;for(;;){if(O===e)break t;if(P===l&&++L===f&&(_=x),P===p&&++V===s&&(A=x),(G=O.nextSibling)!==null)break;O=P,P=O.parentNode}O=G}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Br={focusedElem:e,selectionRange:l},_a=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=t,f=p.memoizedProps,p=p.memoizedState,s=l.stateNode;try{var re=si(l.type,f);e=s.getSnapshotBeforeUpdate(re,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ue(l,l.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Or(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Or(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function ad(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:un(e,l),s&4&&Bl(5,l);break;case 1:if(un(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){Ue(l,l.return,x)}else{var f=si(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ue(l,l.return,x)}}s&64&&ed(l),s&512&&Vl(l,l.return);break;case 3:if(un(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Oc(e,t)}catch(x){Ue(l,l.return,x)}}break;case 27:t===null&&s&4&&ld(l);case 26:case 5:un(e,l),t===null&&s&4&&nd(l),s&512&&Vl(l,l.return);break;case 12:un(e,l);break;case 31:un(e,l),s&4&&ud(e,l);break;case 13:un(e,l),s&4&&cd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Sy.bind(null,l),zy(e,l))));break;case 22:if(s=l.memoizedState!==null||sn,!s){t=t!==null&&t.memoizedState!==null||$e,f=sn;var p=$e;sn=s,($e=t)&&!p?cn(e,l,(l.subtreeFlags&8772)!==0):un(e,l),sn=f,$e=p}break;case 30:break;default:un(e,l)}}function sd(e){var t=e.alternate;t!==null&&(e.alternate=null,sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,pt=!1;function rn(e,t,l){for(l=l.child;l!==null;)rd(e,t,l),l=l.sibling}function rd(e,t,l){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(fl,l)}catch{}switch(l.tag){case 26:$e||Jt(l,t),rn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$e||Jt(l,t);var s=Ve,f=pt;kn(l.type)&&(Ve=l.stateNode,pt=!1),rn(e,t,l),Zl(l.stateNode),Ve=s,pt=f;break;case 5:$e||Jt(l,t);case 6:if(s=Ve,f=pt,Ve=null,rn(e,t,l),Ve=s,pt=f,Ve!==null)if(pt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(p){Ue(l,t,p)}else try{Ve.removeChild(l.stateNode)}catch(p){Ue(l,t,p)}break;case 18:Ve!==null&&(pt?(e=Ve,ep(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ji(e)):ep(Ve,l.stateNode));break;case 4:s=Ve,f=pt,Ve=l.stateNode.containerInfo,pt=!0,rn(e,t,l),Ve=s,pt=f;break;case 0:case 11:case 14:case 15:Rn(2,l,t),$e||Rn(4,l,t),rn(e,t,l);break;case 1:$e||(Jt(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&td(l,t,s)),rn(e,t,l);break;case 21:rn(e,t,l);break;case 22:$e=(s=$e)||l.memoizedState!==null,rn(e,t,l),$e=s;break;default:rn(e,t,l)}}function ud(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(l){Ue(t,t.return,l)}}}function cd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(l){Ue(t,t.return,l)}}function my(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new od),t;default:throw Error(a(435,e.tag))}}function ia(e,t){var l=my(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var f=_y.bind(null,e,s);s.then(f,f)}})}function mt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],p=e,x=t,_=x;e:for(;_!==null;){switch(_.tag){case 27:if(kn(_.type)){Ve=_.stateNode,pt=!1;break e}break;case 5:Ve=_.stateNode,pt=!1;break e;case 3:case 4:Ve=_.stateNode.containerInfo,pt=!0;break e}_=_.return}if(Ve===null)throw Error(a(160));rd(p,x,f),Ve=null,pt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)fd(t,e),t=t.sibling}var Vt=null;function fd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),ht(e),s&4&&(Rn(3,e,e.return),Bl(3,e),Rn(5,e,e.return));break;case 1:mt(t,e),ht(e),s&512&&($e||l===null||Jt(l,l.return)),s&64&&sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Vt;if(mt(t,e),ht(e),s&512&&($e||l===null||Jt(l,l.return)),s&4){var p=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ml]||p[nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(s),f.head.insertBefore(p,f.querySelector("head > title"))),at(p,s,l),p[nt]=e,et(p),s=p;break e;case"link":var x=fp("link","href",f).get(s+(l.href||""));if(x){for(var _=0;_<x.length;_++)if(p=x[_],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(_,1);break t}}p=f.createElement(s),at(p,s,l),f.head.appendChild(p);break;case"meta":if(x=fp("meta","content",f).get(s+(l.content||""))){for(_=0;_<x.length;_++)if(p=x[_],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(_,1);break t}}p=f.createElement(s),at(p,s,l),f.head.appendChild(p);break;default:throw Error(a(468,s))}p[nt]=e,et(p),s=p}e.stateNode=s}else dp(f,e.type,e.stateNode);else e.stateNode=cp(f,s,e.memoizedProps);else p!==s?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,s===null?dp(f,e.type,e.stateNode):cp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&hr(e,e.memoizedProps,l.memoizedProps)}break;case 27:mt(t,e),ht(e),s&512&&($e||l===null||Jt(l,l.return)),l!==null&&s&4&&hr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(mt(t,e),ht(e),s&512&&($e||l===null||Jt(l,l.return)),e.flags&32){f=e.stateNode;try{Si(f,"")}catch(re){Ue(e,e.return,re)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,hr(e,f,l!==null?l.memoizedProps:f)),s&1024&&(vr=!0);break;case 6:if(mt(t,e),ht(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(re){Ue(e,e.return,re)}}break;case 3:if(Ta=null,f=Vt,Vt=ya(t.containerInfo),mt(t,e),Vt=f,ht(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(re){Ue(e,e.return,re)}vr&&(vr=!1,dd(e));break;case 4:s=Vt,Vt=ya(e.stateNode.containerInfo),mt(t,e),ht(e),Vt=s;break;case 12:mt(t,e),ht(e);break;case 31:mt(t,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 13:mt(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oa=st()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 22:f=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,L=sn,V=$e;if(sn=L||f,$e=V||A,mt(t,e),$e=V,sn=L,ht(e),s&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(l===null||A||sn||$e||ri(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(p=A.stateNode,f)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{_=A.stateNode;var O=A.memoizedProps.style,P=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(re){Ue(A,A.return,re)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(re){Ue(A,A.return,re)}}}else if(t.tag===18){if(l===null){A=t;try{var G=A.stateNode;f?tp(G,!0):tp(A.stateNode,!1)}catch(re){Ue(A,A.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,ia(e,l))));break;case 19:mt(t,e),ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ia(e,s)));break;case 30:break;case 21:break;default:mt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(id(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,p=gr(e);na(e,p,f);break;case 5:var x=l.stateNode;l.flags&32&&(Si(x,""),l.flags&=-33);var _=gr(e);na(e,_,x);break;case 3:case 4:var A=l.stateNode.containerInfo,L=gr(e);yr(e,L,A);break;default:throw Error(a(161))}}catch(V){Ue(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function un(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ad(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rn(4,t,t.return),ri(t);break;case 1:Jt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&td(t,t.return,l),ri(t);break;case 27:Zl(t.stateNode);case 26:case 5:Jt(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function cn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,f=e,p=t,x=p.flags;switch(p.tag){case 0:case 11:case 15:cn(f,p,l),Bl(4,p);break;case 1:if(cn(f,p,l),s=p,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Ue(s,s.return,L)}if(s=p,f=s.updateQueue,f!==null){var _=s.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)zc(A[f],_)}catch(L){Ue(s,s.return,L)}}l&&x&64&&ed(p),Vl(p,p.return);break;case 27:ld(p);case 26:case 5:cn(f,p,l),l&&s===null&&x&4&&nd(p),Vl(p,p.return);break;case 12:cn(f,p,l);break;case 31:cn(f,p,l),l&&x&4&&ud(f,p);break;case 13:cn(f,p,l),l&&x&4&&cd(f,p);break;case 22:p.memoizedState===null&&cn(f,p,l),Vl(p,p.return);break;case 30:break;default:cn(f,p,l)}t=t.sibling}}function Tr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&bl(l))}function xr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e))}function zt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(e,t,l,s),t=t.sibling}function pd(e,t,l,s){var f=t.flags;switch(t.tag){case 0:case 11:case 15:zt(e,t,l,s),f&2048&&Bl(9,t);break;case 1:zt(e,t,l,s);break;case 3:zt(e,t,l,s),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bl(e)));break;case 12:if(f&2048){zt(e,t,l,s),e=t.stateNode;try{var p=t.memoizedProps,x=p.id,_=p.onPostCommit;typeof _=="function"&&_(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ue(t,t.return,A)}}else zt(e,t,l,s);break;case 31:zt(e,t,l,s);break;case 13:zt(e,t,l,s);break;case 23:break;case 22:p=t.stateNode,x=t.alternate,t.memoizedState!==null?p._visibility&2?zt(e,t,l,s):zl(e,t):p._visibility&2?zt(e,t,l,s):(p._visibility|=2,zi(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Tr(x,t);break;case 24:zt(e,t,l,s),f&2048&&xr(t.alternate,t);break;default:zt(e,t,l,s)}}function zi(e,t,l,s,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,x=t,_=l,A=s,L=x.flags;switch(x.tag){case 0:case 11:case 15:zi(p,x,_,A,f),Bl(8,x);break;case 23:break;case 22:var V=x.stateNode;x.memoizedState!==null?V._visibility&2?zi(p,x,_,A,f):zl(p,x):(V._visibility|=2,zi(p,x,_,A,f)),f&&L&2048&&Tr(x.alternate,x);break;case 24:zi(p,x,_,A,f),f&&L&2048&&xr(x.alternate,x);break;default:zi(p,x,_,A,f)}t=t.sibling}}function zl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,f=s.flags;switch(s.tag){case 22:zl(l,s),f&2048&&Tr(s.alternate,s);break;case 24:zl(l,s),f&2048&&xr(s.alternate,s);break;default:zl(l,s)}t=t.sibling}}var Ol=8192;function Oi(e,t,l){if(e.subtreeFlags&Ol)for(e=e.child;e!==null;)md(e,t,l),e=e.sibling}function md(e,t,l){switch(e.tag){case 26:Oi(e,t,l),e.flags&Ol&&e.memoizedState!==null&&ev(l,Vt,e.memoizedState,e.memoizedProps);break;case 5:Oi(e,t,l);break;case 3:case 4:var s=Vt;Vt=ya(e.stateNode.containerInfo),Oi(e,t,l),Vt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ol,Ol=16777216,Oi(e,t,l),Ol=s):Oi(e,t,l));break;default:Oi(e,t,l)}}function hd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];tt=s,yd(s,e)}hd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gd(e),e=e.sibling}function gd(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&Rn(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,la(e)):Fl(e);break;default:Fl(e)}}function la(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];tt=s,yd(s,e)}hd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rn(8,t,t.return),la(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,la(t));break;default:la(t)}e=e.sibling}}function yd(e,t){for(;tt!==null;){var l=tt;switch(l.tag){case 0:case 11:case 15:Rn(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:bl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,tt=s;else e:for(l=e;tt!==null;){s=tt;var f=s.sibling,p=s.return;if(sd(s),s===l){tt=null;break e}if(f!==null){f.return=p,tt=f;break e}tt=p}}}var hy={getCacheForType:function(e){var t=lt(Xe),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return lt(Xe).controller.signal}},gy=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Ge=null,Ee=null,_e=0,De=0,Ct=null,wn=!1,Fi=!1,Er=!1,fn=0,Fe=0,In=0,ui=0,Sr=0,At=0,Yi=0,Yl=null,gt=null,_r=!1,oa=0,vd=0,aa=1/0,sa=null,Dn=null,We=0,Un=null,Ji=null,dn=0,Cr=0,Ar=null,Td=null,Jl=0,Nr=null;function Nt(){return(Ie&2)!==0&&_e!==0?_e&-_e:N.T!==null?Dr():Lu()}function xd(){if(At===0)if((_e&536870912)===0||Ae){var e=ho;ho<<=1,(ho&3932160)===0&&(ho=262144),At=e}else At=536870912;return e=St.current,e!==null&&(e.flags|=32),At}function yt(e,t,l){(e===Ge&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Ki(e,0),Ln(e,_e,At,!1)),pl(e,l),((Ie&2)===0||e!==Ge)&&(e===Ge&&((Ie&2)===0&&(ui|=l),Fe===4&&Ln(e,_e,At,!1)),Kt(e))}function Ed(e,t,l){if((Ie&6)!==0)throw Error(a(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||dl(e,t),f=s?Ty(e,t):Mr(e,t,!0),p=s;do{if(f===0){Fi&&!s&&Ln(e,t,0,!1);break}else{if(l=e.current.alternate,p&&!yy(l)){f=Mr(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var _=e;f=Yl;var A=_.current.memoizedState.isDehydrated;if(A&&(Ki(_,x).flags|=256),x=Mr(_,x,!1),x!==2){if(Er&&!A){_.errorRecoveryDisabledLanes|=p,ui|=p,f=4;break e}p=gt,gt=f,p!==null&&(gt===null?gt=p:gt.push.apply(gt,p))}f=x}if(p=!1,f!==2)continue}}if(f===1){Ki(e,0),Ln(e,t,0,!0);break}e:{switch(s=e,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Ln(s,t,At,!wn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=oa+300-st(),10<f)){if(Ln(s,t,At,!wn),yo(s,0,!0)!==0)break e;dn=t,s.timeoutHandle=Wd(Sd.bind(null,s,l,gt,sa,_r,t,At,ui,Yi,wn,p,"Throttled",-0,0),f);break e}Sd(s,l,gt,sa,_r,t,At,ui,Yi,wn,p,null,-0,0)}}break}while(!0);Kt(e)}function Sd(e,t,l,s,f,p,x,_,A,L,V,O,P,G){if(e.timeoutHandle=-1,O=t.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},md(t,p,O);var re=(p&62914560)===p?oa-st():(p&4194048)===p?vd-st():0;if(re=tv(O,re),re!==null){dn=p,e.cancelPendingCommit=re(wd.bind(null,e,t,p,l,s,f,x,_,A,V,O,null,P,G)),Ln(e,p,x,!L);return}}wd(e,t,p,l,s,f,x,_,A)}function yy(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],p=f.getSnapshot;f=f.value;try{if(!xt(p(),f))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t,l,s){t&=~Sr,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var f=t;0<f;){var p=31-Tt(f),x=1<<p;s[p]=-1,f&=~x}l!==0&&Iu(e,l,t)}function ra(){return(Ie&6)===0?(Kl(0),!1):!0}function br(){if(Ee!==null){if(De===0)var e=Ee.return;else e=Ee,en=ei=null,Os(e),Gi=null,Rl=0,e=Ee;for(;e!==null;)jf(e.alternate,e),e=e.return;Ee=null}}function Ki(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Gy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),dn=0,br(),Ge=e,Ee=l=Wt(e.current,null),_e=t,De=0,Ct=null,wn=!1,Fi=dl(e,t),Er=!1,Yi=At=Sr=ui=In=Fe=0,gt=Yl=null,_r=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var f=31-Tt(s),p=1<<f;t|=e[f],s&=~p}return fn=t,Ro(),l}function _d(e,t){ve=null,N.H=Gl,t===ki||t===Go?(t=Hc(),De=3):t===Is?(t=Hc(),De=4):De=t===or?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,Ee===null&&(Fe=1,$o(e,wt(t,e.current)))}function Cd(){var e=St.current;return e===null?!0:(_e&4194048)===_e?Lt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Lt:!1}function Ad(){var e=N.H;return N.H=Gl,e===null?Gl:e}function Nd(){var e=N.A;return N.A=hy,e}function ua(){Fe=4,wn||(_e&4194048)!==_e&&St.current!==null||(Fi=!0),(In&134217727)===0&&(ui&134217727)===0||Ge===null||Ln(Ge,_e,At,!1)}function Mr(e,t,l){var s=Ie;Ie|=2;var f=Ad(),p=Nd();(Ge!==e||_e!==t)&&(sa=null,Ki(e,t)),t=!1;var x=Fe;e:do try{if(De!==0&&Ee!==null){var _=Ee,A=Ct;switch(De){case 8:br(),x=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var L=De;if(De=0,Ct=null,Xi(e,_,A,L),l&&Fi){x=0;break e}break;default:L=De,De=0,Ct=null,Xi(e,_,A,L)}}vy(),x=Fe;break}catch(V){_d(e,V)}while(!0);return t&&e.shellSuspendCounter++,en=ei=null,Ie=s,N.H=f,N.A=p,Ee===null&&(Ge=null,_e=0,Ro()),x}function vy(){for(;Ee!==null;)bd(Ee)}function Ty(e,t){var l=Ie;Ie|=2;var s=Ad(),f=Nd();Ge!==e||_e!==t?(sa=null,aa=st()+500,Ki(e,t)):Fi=dl(e,t);e:do try{if(De!==0&&Ee!==null){t=Ee;var p=Ct;t:switch(De){case 1:De=0,Ct=null,Xi(e,t,p,1);break;case 2:case 9:if(kc(p)){De=0,Ct=null,Md(t);break}t=function(){De!==2&&De!==9||Ge!==e||(De=7),Kt(e)},p.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:kc(p)?(De=0,Ct=null,Md(t)):(De=0,Ct=null,Xi(e,t,p,7));break;case 5:var x=null;switch(Ee.tag){case 26:x=Ee.memoizedState;case 5:case 27:var _=Ee;if(x?pp(x):_.stateNode.complete){De=0,Ct=null;var A=_.sibling;if(A!==null)Ee=A;else{var L=_.return;L!==null?(Ee=L,ca(L)):Ee=null}break t}}De=0,Ct=null,Xi(e,t,p,5);break;case 6:De=0,Ct=null,Xi(e,t,p,6);break;case 8:br(),Fe=6;break e;default:throw Error(a(462))}}xy();break}catch(V){_d(e,V)}while(!0);return en=ei=null,N.H=s,N.A=f,Ie=l,Ee!==null?0:(Ge=null,_e=0,Ro(),Fe)}function xy(){for(;Ee!==null&&!co();)bd(Ee)}function bd(e){var t=$f(e.alternate,e,fn);e.memoizedProps=e.pendingProps,t===null?ca(e):Ee=t}function Md(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Yf(l,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=Yf(l,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:Os(t);default:jf(l,t),t=Ee=Ac(t,fn),t=$f(l,t,fn)}e.memoizedProps=e.pendingProps,t===null?ca(e):Ee=t}function Xi(e,t,l,s){en=ei=null,Os(t),Gi=null,Rl=0;var f=t.return;try{if(ry(e,f,t,l,_e)){Fe=1,$o(e,wt(l,e.current)),Ee=null;return}}catch(p){if(f!==null)throw Ee=f,p;Fe=1,$o(e,wt(l,e.current)),Ee=null;return}t.flags&32768?(Ae||s===1?e=!0:Fi||(_e&536870912)!==0?e=!1:(wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=St.current,s!==null&&s.tag===13&&(s.flags|=16384))),Rd(t,e)):ca(t)}function ca(e){var t=e;do{if((t.flags&32768)!==0){Rd(t,wn);return}e=t.return;var l=fy(t.alternate,t,fn);if(l!==null){Ee=l;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Fe===0&&(Fe=5)}function Rd(e,t){do{var l=dy(e.alternate,e);if(l!==null){l.flags&=32767,Ee=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=l}while(e!==null);Fe=6,Ee=null}function wd(e,t,l,s,f,p,x,_,A){e.cancelPendingCommit=null;do fa();while(We!==0);if((Ie&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(p=t.lanes|t.childLanes,p|=gs,jh(e,l,p,x,_,A),e===Ge&&(Ee=Ge=null,_e=0),Ji=t,Un=e,dn=l,Cr=p,Ar=f,Td=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cy(Ne,function(){return Pd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=N.T,N.T=null,f=M.p,M.p=2,x=Ie,Ie|=4;try{py(e,t,l)}finally{Ie=x,M.p=f,N.T=s}}We=1,Id(),Dd(),Ud()}}function Id(){if(We===1){We=0;var e=Un,t=Ji,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var s=M.p;M.p=2;var f=Ie;Ie|=4;try{fd(t,e);var p=Br,x=gc(e.containerInfo),_=p.focusedElem,A=p.selectionRange;if(x!==_&&_&&_.ownerDocument&&hc(_.ownerDocument.documentElement,_)){if(A!==null&&fs(_)){var L=A.start,V=A.end;if(V===void 0&&(V=L),"selectionStart"in _)_.selectionStart=L,_.selectionEnd=Math.min(V,_.value.length);else{var O=_.ownerDocument||document,P=O&&O.defaultView||window;if(P.getSelection){var G=P.getSelection(),re=_.textContent.length,me=Math.min(A.start,re),ke=A.end===void 0?me:Math.min(A.end,re);!G.extend&&me>ke&&(x=ke,ke=me,me=x);var w=mc(_,me),R=mc(_,ke);if(w&&R&&(G.rangeCount!==1||G.anchorNode!==w.node||G.anchorOffset!==w.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var U=O.createRange();U.setStart(w.node,w.offset),G.removeAllRanges(),me>ke?(G.addRange(U),G.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),G.addRange(U))}}}}for(O=[],G=_;G=G.parentNode;)G.nodeType===1&&O.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var z=O[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}_a=!!qr,Br=qr=null}finally{Ie=f,M.p=s,N.T=l}}e.current=t,We=2}}function Dd(){if(We===2){We=0;var e=Un,t=Ji,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var s=M.p;M.p=2;var f=Ie;Ie|=4;try{ad(e,t.alternate,t)}finally{Ie=f,M.p=s,N.T=l}}We=3}}function Ud(){if(We===4||We===3){We=0,fo();var e=Un,t=Ji,l=dn,s=Td;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,Ji=Un=null,Ld(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Dn=null),Ja(l),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(fl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=N.T,f=M.p,M.p=2,N.T=null;try{for(var p=e.onRecoverableError,x=0;x<s.length;x++){var _=s[x];p(_.value,{componentStack:_.stack})}}finally{N.T=t,M.p=f}}(dn&3)!==0&&fa(),Kt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Nr?Jl++:(Jl=0,Nr=e):Jl=0,Kl(0)}}function Ld(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bl(t)))}function fa(){return Id(),Dd(),Ud(),Pd()}function Pd(){if(We!==5)return!1;var e=Un,t=Cr;Cr=0;var l=Ja(dn),s=N.T,f=M.p;try{M.p=32>l?32:l,N.T=null,l=Ar,Ar=null;var p=Un,x=dn;if(We=0,Ji=Un=null,dn=0,(Ie&6)!==0)throw Error(a(331));var _=Ie;if(Ie|=4,gd(p.current),pd(p,p.current,x,l),Ie=_,Kl(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(fl,p)}catch{}return!0}finally{M.p=f,N.T=s,Ld(e,t)}}function kd(e,t,l){t=wt(l,t),t=lr(e.stateNode,t,2),e=Nn(e,t,2),e!==null&&(pl(e,2),Kt(e))}function Ue(e,t,l){if(e.tag===3)kd(e,e,l);else for(;t!==null;){if(t.tag===3){kd(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=wt(l,e),l=Gf(2),s=Nn(t,l,2),s!==null&&(Hf(l,s,t,e),pl(s,2),Kt(s));break}}t=t.return}}function Rr(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new gy;var f=new Set;s.set(t,f)}else f=s.get(t),f===void 0&&(f=new Set,s.set(t,f));f.has(l)||(Er=!0,f.add(l),e=Ey.bind(null,e,t,l),t.then(e,e))}function Ey(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ge===e&&(_e&l)===l&&(Fe===4||Fe===3&&(_e&62914560)===_e&&300>st()-oa?(Ie&2)===0&&Ki(e,0):Sr|=l,Yi===_e&&(Yi=0)),Kt(e)}function Gd(e,t){t===0&&(t=wu()),e=$n(e,t),e!==null&&(pl(e,t),Kt(e))}function Sy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Gd(e,l)}function _y(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Gd(e,l)}function Cy(e,t){return mi(e,t)}var da=null,Qi=null,wr=!1,pa=!1,Ir=!1,Pn=0;function Kt(e){e!==Qi&&e.next===null&&(Qi===null?da=Qi=e:Qi=Qi.next=e),pa=!0,wr||(wr=!0,Ny())}function Kl(e,t){if(!Ir&&pa){Ir=!0;do for(var l=!1,s=da;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var p=0;else{var x=s.suspendedLanes,_=s.pingedLanes;p=(1<<31-Tt(42|e)+1)-1,p&=f&~(x&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Vd(s,p))}else p=_e,p=yo(s,s===Ge?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||dl(s,p)||(l=!0,Vd(s,p));s=s.next}while(l);Ir=!1}}function Ay(){Hd()}function Hd(){pa=wr=!1;var e=0;Pn!==0&&ky()&&(e=Pn);for(var t=st(),l=null,s=da;s!==null;){var f=s.next,p=qd(s,t);p===0?(s.next=null,l===null?da=f:l.next=f,f===null&&(Qi=l)):(l=s,(e!==0||(p&3)!==0)&&(pa=!0)),s=f}We!==0&&We!==5||Kl(e),Pn!==0&&(Pn=0)}function qd(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Tt(p),_=1<<x,A=f[x];A===-1?((_&l)===0||(_&s)!==0)&&(f[x]=Wh(_,t)):A<=t&&(e.expiredLanes|=_),p&=~_}if(t=Ge,l=_e,l=yo(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&hi(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||dl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&hi(s),Ja(l)){case 2:case 8:l=xe;break;case 32:l=Ne;break;case 268435456:l=Ht;break;default:l=Ne}return s=Bd.bind(null,e),l=mi(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&hi(s),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(fa()&&e.callbackNode!==l)return null;var s=_e;return s=yo(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ed(e,s,t),qd(e,st()),e.callbackNode!=null&&e.callbackNode===l?Bd.bind(null,e):null)}function Vd(e,t){if(fa())return null;Ed(e,t,!0)}function Ny(){Hy(function(){(Ie&6)!==0?mi(J,Ay):Hd()})}function Dr(){if(Pn===0){var e=Li;e===0&&(e=mo,mo<<=1,(mo&261888)===0&&(mo=256)),Pn=e}return Pn}function zd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Eo(""+e)}function Od(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function by(e,t,l,s,f){if(t==="submit"&&l&&l.stateNode===f){var p=zd((f[ft]||null).action),x=s.submitter;x&&(t=(t=x[ft]||null)?zd(t.formAction):x.getAttribute("formAction"),t!==null&&(p=t,x=null));var _=new Ao("action","action",null,s,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var A=x?Od(f,x):new FormData(f);Ws(l,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(_.preventDefault(),A=x?Od(f,x):new FormData(f),Ws(l,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Ur=0;Ur<hs.length;Ur++){var Lr=hs[Ur],My=Lr.toLowerCase(),Ry=Lr[0].toUpperCase()+Lr.slice(1);Bt(My,"on"+Ry)}Bt(Tc,"onAnimationEnd"),Bt(xc,"onAnimationIteration"),Bt(Ec,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Yg,"onTransitionRun"),Bt(Jg,"onTransitionStart"),Bt(Kg,"onTransitionCancel"),Bt(Sc,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function Fd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var p=void 0;if(t)for(var x=s.length-1;0<=x;x--){var _=s[x],A=_.instance,L=_.currentTarget;if(_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=L;try{p(f)}catch(V){Mo(V)}f.currentTarget=null,p=A}else for(x=0;x<s.length;x++){if(_=s[x],A=_.instance,L=_.currentTarget,_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=L;try{p(f)}catch(V){Mo(V)}f.currentTarget=null,p=A}}}}function Se(e,t){var l=t[Ka];l===void 0&&(l=t[Ka]=new Set);var s=e+"__bubble";l.has(s)||(Yd(t,e,2,!1),l.add(s))}function Pr(e,t,l){var s=0;t&&(s|=4),Yd(l,e,s,t)}var ma="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[ma]){e[ma]=!0,Gu.forEach(function(l){l!=="selectionchange"&&(wy.has(l)||Pr(l,!1,e),Pr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ma]||(t[ma]=!0,Pr("selectionchange",!1,t))}}function Yd(e,t,l,s){switch(xp(t)){case 2:var f=lv;break;case 8:f=ov;break;default:f=$r}l=f.bind(null,t,l,e),f=void 0,!ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(t,l,{capture:!0,passive:f}):e.addEventListener(t,l,!0):f!==void 0?e.addEventListener(t,l,{passive:f}):e.addEventListener(t,l,!1)}function Gr(e,t,l,s,f){var p=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var _=s.stateNode.containerInfo;if(_===f)break;if(x===4)for(x=s.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;_!==null;){if(x=yi(_),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){s=p=x;continue e}_=_.parentNode}}s=s.return}Qu(function(){var L=p,V=es(l),O=[];e:{var P=_c.get(e);if(P!==void 0){var G=Ao,re=e;switch(e){case"keypress":if(_o(l)===0)break e;case"keydown":case"keyup":G=_g;break;case"focusin":re="focus",G=as;break;case"focusout":re="blur",G=as;break;case"beforeblur":case"afterblur":G=as;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=fg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ng;break;case Tc:case xc:case Ec:G=mg;break;case Sc:G=Mg;break;case"scroll":case"scrollend":G=ug;break;case"wheel":G=wg;break;case"copy":case"cut":case"paste":G=gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ec;break;case"toggle":case"beforetoggle":G=Dg}var me=(t&4)!==0,ke=!me&&(e==="scroll"||e==="scrollend"),w=me?P!==null?P+"Capture":null:P;me=[];for(var R=L,U;R!==null;){var z=R;if(U=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||U===null||w===null||(z=gl(R,w),z!=null&&me.push(Ql(R,z,U))),ke)break;R=R.return}0<me.length&&(P=new G(P,re,null,l,V),O.push({event:P,listeners:me}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",P&&l!==ja&&(re=l.relatedTarget||l.fromElement)&&(yi(re)||re[gi]))break e;if((G||P)&&(P=V.window===V?V:(P=V.ownerDocument)?P.defaultView||P.parentWindow:window,G?(re=l.relatedTarget||l.toElement,G=L,re=re?yi(re):null,re!==null&&(ke=d(re),me=re.tag,re!==ke||me!==5&&me!==27&&me!==6)&&(re=null)):(G=null,re=L),G!==re)){if(me=Wu,z="onMouseLeave",w="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(me=ec,z="onPointerLeave",w="onPointerEnter",R="pointer"),ke=G==null?P:hl(G),U=re==null?P:hl(re),P=new me(z,R+"leave",G,l,V),P.target=ke,P.relatedTarget=U,z=null,yi(V)===L&&(me=new me(w,R+"enter",re,l,V),me.target=U,me.relatedTarget=ke,z=me),ke=z,G&&re)t:{for(me=Iy,w=G,R=re,U=0,z=w;z;z=me(z))U++;z=0;for(var fe=R;fe;fe=me(fe))z++;for(;0<U-z;)w=me(w),U--;for(;0<z-U;)R=me(R),z--;for(;U--;){if(w===R||R!==null&&w===R.alternate){me=w;break t}w=me(w),R=me(R)}me=null}else me=null;G!==null&&Jd(O,P,G,me,!1),re!==null&&ke!==null&&Jd(O,ke,re,me,!0)}}e:{if(P=L?hl(L):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var Me=rc;else if(ac(P))if(uc)Me=zg;else{Me=Bg;var ce=qg}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?L&&Wa(L.elementType)&&(Me=rc):Me=Vg;if(Me&&(Me=Me(e,L))){sc(O,Me,l,V);break e}ce&&ce(e,P,L),e==="focusout"&&L&&P.type==="number"&&L.memoizedProps.value!=null&&$a(P,"number",P.value)}switch(ce=L?hl(L):window,e){case"focusin":(ac(ce)||ce.contentEditable==="true")&&(Ni=ce,ds=L,Cl=null);break;case"focusout":Cl=ds=Ni=null;break;case"mousedown":ps=!0;break;case"contextmenu":case"mouseup":case"dragend":ps=!1,yc(O,l,V);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":yc(O,l,V)}var Te;if(rs)e:{switch(e){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ai?lc(e,l)&&(Ce="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(tc&&l.locale!=="ko"&&(Ai||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ai&&(Te=Zu()):(Tn=V,is="value"in Tn?Tn.value:Tn.textContent,Ai=!0)),ce=ha(L,Ce),0<ce.length&&(Ce=new ju(Ce,e,null,l,V),O.push({event:Ce,listeners:ce}),Te?Ce.data=Te:(Te=oc(l),Te!==null&&(Ce.data=Te)))),(Te=Lg?Pg(e,l):kg(e,l))&&(Ce=ha(L,"onBeforeInput"),0<Ce.length&&(ce=new ju("onBeforeInput","beforeinput",null,l,V),O.push({event:ce,listeners:Ce}),ce.data=Te)),by(O,e,L,l,V)}Fd(O,t)})}function Ql(e,t,l){return{instance:e,listener:t,currentTarget:l}}function ha(e,t){for(var l=t+"Capture",s=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=gl(e,l),f!=null&&s.unshift(Ql(e,f,p)),f=gl(e,t),f!=null&&s.push(Ql(e,f,p))),e.tag===3)return s;e=e.return}return[]}function Iy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jd(e,t,l,s,f){for(var p=t._reactName,x=[];l!==null&&l!==s;){var _=l,A=_.alternate,L=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||L===null||(A=L,f?(L=gl(l,p),L!=null&&x.unshift(Ql(l,L,A))):f||(L=gl(l,p),L!=null&&x.push(Ql(l,L,A)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var Dy=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function Kd(e){return(typeof e=="string"?e:""+e).replace(Dy,`
`).replace(Uy,"")}function Xd(e,t){return t=Kd(t),Kd(e)===t}function Pe(e,t,l,s,f,p){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Si(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Si(e,""+s);break;case"className":To(e,"class",s);break;case"tabIndex":To(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":To(e,l,s);break;case"style":Ku(e,s,p);break;case"data":if(t!=="object"){To(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Eo(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(t!=="input"&&Pe(e,t,"name",f.name,f,null),Pe(e,t,"formEncType",f.formEncType,f,null),Pe(e,t,"formMethod",f.formMethod,f,null),Pe(e,t,"formTarget",f.formTarget,f,null)):(Pe(e,t,"encType",f.encType,f,null),Pe(e,t,"method",f.method,f,null),Pe(e,t,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Eo(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Eo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),vo(e,"popover",s);break;case"xlinkActuate":Qt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":vo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sg.get(l)||l,vo(e,l,s))}}function Hr(e,t,l,s,f,p){switch(l){case"style":Ku(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Si(e,s):(typeof s=="number"||typeof s=="bigint")&&Si(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),t=l.slice(2,f?l.length-7:void 0),p=e[ft]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof s=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):vo(e,l,s)}}}function at(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Pe(e,t,p,x,l,null)}}f&&Pe(e,t,"srcSet",l.srcSet,l,null),s&&Pe(e,t,"src",l.src,l,null);return;case"input":Se("invalid",e);var _=p=x=f=null,A=null,L=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":f=V;break;case"type":x=V;break;case"checked":A=V;break;case"defaultChecked":L=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,t));break;default:Pe(e,t,s,V,l,null)}}Ou(e,p,_,A,L,x,f,!1);return;case"select":Se("invalid",e),s=x=p=null;for(f in l)if(l.hasOwnProperty(f)&&(_=l[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":x=_;break;case"multiple":s=_;default:Pe(e,t,f,_,l,null)}t=p,l=x,e.multiple=!!s,t!=null?Ei(e,!!s,t,!1):l!=null&&Ei(e,!!s,l,!0);return;case"textarea":Se("invalid",e),p=f=s=null;for(x in l)if(l.hasOwnProperty(x)&&(_=l[x],_!=null))switch(x){case"value":s=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Pe(e,t,x,_,l,null)}Yu(e,s,f,p);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Pe(e,t,A,s,l,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Xl.length;s++)Se(Xl[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in l)if(l.hasOwnProperty(L)&&(s=l[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Pe(e,t,L,s,l,null)}return;default:if(Wa(t)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&Hr(e,t,V,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&Pe(e,t,_,s,l,null))}function Ly(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,x=null,_=null,A=null,L=null,V=null;for(G in l){var O=l[G];if(l.hasOwnProperty(G)&&O!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=O;default:s.hasOwnProperty(G)||Pe(e,t,G,null,s,O)}}for(var P in s){var G=s[P];if(O=l[P],s.hasOwnProperty(P)&&(G!=null||O!=null))switch(P){case"type":p=G;break;case"name":f=G;break;case"checked":L=G;break;case"defaultChecked":V=G;break;case"value":x=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,t));break;default:G!==O&&Pe(e,t,P,G,s,O)}}Za(e,x,_,A,L,V,p,f);return;case"select":G=x=_=P=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":G=A;default:s.hasOwnProperty(p)||Pe(e,t,p,null,s,A)}for(f in s)if(p=s[f],A=l[f],s.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":P=p;break;case"defaultValue":_=p;break;case"multiple":x=p;default:p!==A&&Pe(e,t,f,p,s,A)}t=_,l=x,s=G,P!=null?Ei(e,!!l,P,!1):!!s!=!!l&&(t!=null?Ei(e,!!l,t,!0):Ei(e,!!l,l?[]:"",!1));return;case"textarea":G=P=null;for(_ in l)if(f=l[_],l.hasOwnProperty(_)&&f!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Pe(e,t,_,null,s,f)}for(x in s)if(f=s[x],p=l[x],s.hasOwnProperty(x)&&(f!=null||p!=null))switch(x){case"value":P=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Pe(e,t,x,f,s,p)}Fu(e,P,G);return;case"option":for(var re in l)if(P=l[re],l.hasOwnProperty(re)&&P!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Pe(e,t,re,null,s,P)}for(A in s)if(P=s[A],G=l[A],s.hasOwnProperty(A)&&P!==G&&(P!=null||G!=null))switch(A){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Pe(e,t,A,P,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in l)P=l[me],l.hasOwnProperty(me)&&P!=null&&!s.hasOwnProperty(me)&&Pe(e,t,me,null,s,P);for(L in s)if(P=s[L],G=l[L],s.hasOwnProperty(L)&&P!==G&&(P!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,t));break;default:Pe(e,t,L,P,s,G)}return;default:if(Wa(t)){for(var ke in l)P=l[ke],l.hasOwnProperty(ke)&&P!==void 0&&!s.hasOwnProperty(ke)&&Hr(e,t,ke,void 0,s,P);for(V in s)P=s[V],G=l[V],!s.hasOwnProperty(V)||P===G||P===void 0&&G===void 0||Hr(e,t,V,P,s,G);return}}for(var w in l)P=l[w],l.hasOwnProperty(w)&&P!=null&&!s.hasOwnProperty(w)&&Pe(e,t,w,null,s,P);for(O in s)P=s[O],G=l[O],!s.hasOwnProperty(O)||P===G||P==null&&G==null||Pe(e,t,O,P,s,G)}function Qd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],p=f.transferSize,x=f.initiatorType,_=f.duration;if(p&&_&&Qd(x)){for(x=0,_=f.responseEnd,s+=1;s<l.length;s++){var A=l[s],L=A.startTime;if(L>_)break;var V=A.transferSize,O=A.initiatorType;V&&Qd(O)&&(A=A.responseEnd,x+=V*(A<_?1:(_-L)/(A-L)))}if(--s,t+=8*(p+x)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qr=null,Br=null;function ga(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $d(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zr=null;function ky(){var e=window.event;return e&&e.type==="popstate"?e===zr?!1:(zr=e,!0):(zr=null,!1)}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(e){return jd.resolve(null).then(e).catch(qy)}:Wd;function qy(e){setTimeout(function(){throw e})}function kn(e){return e==="head"}function ep(e,t){var l=t,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),ji(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Zl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zl(l);for(var p=l.firstChild;p;){var x=p.nextSibling,_=p.nodeName;p[ml]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&Zl(e.ownerDocument.body);l=f}while(l);ji(t)}function tp(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Or(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Or(l),Xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function By(e,t,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ml])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function Vy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Pt(e.nextSibling),e===null))return null;return e}function np(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Fr(e){return e.data==="$?"||e.data==="$~"}function Yr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jr=null;function ip(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Pt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function op(e,t,l){switch(t=ga(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Zl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xa(e)}var kt=new Map,ap=new Set;function ya(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pn=M.d;M.d={f:Oy,r:Fy,D:Yy,C:Jy,L:Ky,m:Xy,X:Zy,S:Qy,M:$y};function Oy(){var e=pn.f(),t=ra();return e||t}function Fy(e){var t=vi(e);t!==null&&t.tag===5&&t.type==="form"?_f(t):pn.r(e)}var Zi=typeof document>"u"?null:document;function sp(e,t,l){var s=Zi;if(s&&typeof t=="string"&&t){var f=Mt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ap.has(f)||(ap.add(f),e={rel:e,crossOrigin:l,href:t},s.querySelector(f)===null&&(t=s.createElement("link"),at(t,"link",e),et(t),s.head.appendChild(t)))}}function Yy(e){pn.D(e),sp("dns-prefetch",e,null)}function Jy(e,t){pn.C(e,t),sp("preconnect",e,t)}function Ky(e,t,l){pn.L(e,t,l);var s=Zi;if(s&&e&&t){var f='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Mt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Mt(l.imageSizes)+'"]')):f+='[href="'+Mt(e)+'"]';var p=f;switch(t){case"style":p=$i(e);break;case"script":p=Wi(e)}kt.has(p)||(e=E({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),kt.set(p,e),s.querySelector(f)!==null||t==="style"&&s.querySelector($l(p))||t==="script"&&s.querySelector(Wl(p))||(t=s.createElement("link"),at(t,"link",e),et(t),s.head.appendChild(t)))}}function Xy(e,t){pn.m(e,t);var l=Zi;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',p=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Wi(e)}if(!kt.has(p)&&(e=E({rel:"modulepreload",href:e},t),kt.set(p,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Wl(p)))return}s=l.createElement("link"),at(s,"link",e),et(s),l.head.appendChild(s)}}}function Qy(e,t,l){pn.S(e,t,l);var s=Zi;if(s&&e){var f=Ti(s).hoistableStyles,p=$i(e);t=t||"default";var x=f.get(p);if(!x){var _={loading:0,preload:null};if(x=s.querySelector($l(p)))_.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},l),(l=kt.get(p))&&Kr(e,l);var A=x=s.createElement("link");et(A),at(A,"link",e),A._p=new Promise(function(L,V){A.onload=L,A.onerror=V}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,va(x,t,s)}x={type:"stylesheet",instance:x,count:1,state:_},f.set(p,x)}}}function Zy(e,t){pn.X(e,t);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,f=Wi(e),p=s.get(f);p||(p=l.querySelector(Wl(f)),p||(e=E({src:e,async:!0},t),(t=kt.get(f))&&Xr(e,t),p=l.createElement("script"),et(p),at(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function $y(e,t){pn.M(e,t);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,f=Wi(e),p=s.get(f);p||(p=l.querySelector(Wl(f)),p||(e=E({src:e,async:!0,type:"module"},t),(t=kt.get(f))&&Xr(e,t),p=l.createElement("script"),et(p),at(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(f,p))}}function rp(e,t,l,s){var f=(f=ye.current)?ya(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=$i(l.href),l=Ti(f).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=$i(l.href);var p=Ti(f).hoistableStyles,x=p.get(e);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=f.querySelector($l(e)))&&!p._p&&(x.instance=p,x.state.loading=5),kt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kt.set(e,l),p||Wy(f,e,l,x.state))),t&&s===null)throw Error(a(528,""));return x}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wi(l),l=Ti(f).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $i(e){return'href="'+Mt(e)+'"'}function $l(e){return'link[rel="stylesheet"]['+e+"]"}function up(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Wy(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),at(t,"link",l),et(t),e.head.appendChild(t))}function Wi(e){return'[src="'+Mt(e)+'"]'}function Wl(e){return"script[async]"+e}function cp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(l.href)+'"]');if(s)return t.instance=s,et(s),s;var f=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),at(s,"style",f),va(s,l.precedence,e),t.instance=s;case"stylesheet":f=$i(l.href);var p=e.querySelector($l(f));if(p)return t.state.loading|=4,t.instance=p,et(p),p;s=up(l),(f=kt.get(f))&&Kr(s,f),p=(e.ownerDocument||e).createElement("link"),et(p);var x=p;return x._p=new Promise(function(_,A){x.onload=_,x.onerror=A}),at(p,"link",s),t.state.loading|=4,va(p,l.precedence,e),t.instance=p;case"script":return p=Wi(l.src),(f=e.querySelector(Wl(p)))?(t.instance=f,et(f),f):(s=l,(f=kt.get(p))&&(s=E({},l),Xr(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),et(f),at(f,"link",s),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,va(s,l.precedence,e));return t.instance}function va(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,p=f,x=0;x<s.length;x++){var _=s[x];if(_.dataset.precedence===t)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Kr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ta=null;function fp(e,t,l){if(Ta===null){var s=new Map,f=Ta=new Map;f.set(l,s)}else f=Ta,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var p=l[f];if(!(p[ml]||p[nt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(t)||"";x=e+x;var _=s.get(x);_?_.push(p):s.set(x,[p])}}return s}function dp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function jy(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function pp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ev(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=$i(s.href),p=t.querySelector($l(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xa.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=p,et(p);return}p=t.ownerDocument||t,s=up(s),(f=kt.get(f))&&Kr(s,f),p=p.createElement("link"),et(p);var x=p;x._p=new Promise(function(_,A){x.onload=_,x.onerror=A}),at(p,"link",s),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=xa.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Qr=0;function tv(e,t){return e.stylesheets&&e.count===0&&Sa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Sa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Qr===0&&(Qr=62500*Py());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Qr?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function xa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ea=null;function Sa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ea=new Map,t.forEach(nv,e),Ea=null,xa.call(e))}function nv(e,t){if(!(t.state.loading&4)){var l=Ea.get(e);if(l)var s=l.get(null);else{l=new Map,Ea.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var x=f[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),s=x)}s&&l.set(null,s)}f=t.instance,x=f.getAttribute("data-precedence"),p=l.get(x)||s,p===s&&l.set(null,f),l.set(x,f),this.count++,s=xa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var jl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function iv(e,t,l,s,f,p,x,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function mp(e,t,l,s,f,p,x,_,A,L,V,O){return e=new iv(e,t,l,x,A,L,V,O,_),t=1,p===!0&&(t|=24),p=Et(3,null,null,t),e.current=p,p.stateNode=e,t=Ms(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:s,isDehydrated:l,cache:t},Ds(p),e}function hp(e){return e?(e=Ri,e):Ri}function gp(e,t,l,s,f,p){f=hp(f),s.context===null?s.context=f:s.pendingContext=f,s=An(t),s.payload={element:l},p=p===void 0?null:p,p!==null&&(s.callback=p),l=Nn(e,s,t),l!==null&&(yt(l,e,t),Il(l,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Zr(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function vp(e){if(e.tag===13||e.tag===31){var t=$n(e,67108864);t!==null&&yt(t,e,67108864),Zr(e,67108864)}}function Tp(e){if(e.tag===13||e.tag===31){var t=Nt();t=Ya(t);var l=$n(e,t);l!==null&&yt(l,e,t),Zr(e,t)}}var _a=!0;function lv(e,t,l,s){var f=N.T;N.T=null;var p=M.p;try{M.p=2,$r(e,t,l,s)}finally{M.p=p,N.T=f}}function ov(e,t,l,s){var f=N.T;N.T=null;var p=M.p;try{M.p=8,$r(e,t,l,s)}finally{M.p=p,N.T=f}}function $r(e,t,l,s){if(_a){var f=Wr(s);if(f===null)Gr(e,t,s,Ca,l),Ep(e,s);else if(sv(f,e,t,l,s))s.stopPropagation();else if(Ep(e,s),t&4&&-1<av.indexOf(e)){for(;f!==null;){var p=vi(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Jn(p.pendingLanes);if(x!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;x;){var A=1<<31-Tt(x);_.entanglements[1]|=A,x&=~A}Kt(p),(Ie&6)===0&&(aa=st()+500,Kl(0))}}break;case 31:case 13:_=$n(p,2),_!==null&&yt(_,p,2),ra(),Zr(p,2)}if(p=Wr(s),p===null&&Gr(e,t,s,Ca,l),p===f)break;f=p}f!==null&&s.stopPropagation()}else Gr(e,t,s,null,l)}}function Wr(e){return e=es(e),jr(e)}var Ca=null;function jr(e){if(Ca=null,e=yi(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ca=e,null}function xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(po()){case J:return 2;case xe:return 8;case Ne:case Ye:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var eu=!1,Gn=null,Hn=null,qn=null,eo=new Map,to=new Map,Bn=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ep(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function no(e,t,l,s,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:p,targetContainers:[f]},t!==null&&(t=vi(t),t!==null&&vp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function sv(e,t,l,s,f){switch(t){case"focusin":return Gn=no(Gn,e,t,l,s,f),!0;case"dragenter":return Hn=no(Hn,e,t,l,s,f),!0;case"mouseover":return qn=no(qn,e,t,l,s,f),!0;case"pointerover":var p=f.pointerId;return eo.set(p,no(eo.get(p)||null,e,t,l,s,f)),!0;case"gotpointercapture":return p=f.pointerId,to.set(p,no(to.get(p)||null,e,t,l,s,f)),!0}return!1}function Sp(e){var t=yi(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,Pu(e.priority,function(){Tp(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,Pu(e.priority,function(){Tp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Wr(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);ja=s,l.target.dispatchEvent(s),ja=null}else return t=vi(l),t!==null&&vp(t),e.blockedOn=l,!1;t.shift()}return!0}function _p(e,t,l){Aa(e)&&l.delete(t)}function rv(){eu=!1,Gn!==null&&Aa(Gn)&&(Gn=null),Hn!==null&&Aa(Hn)&&(Hn=null),qn!==null&&Aa(qn)&&(qn=null),eo.forEach(_p),to.forEach(_p)}function Na(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rv)))}var ba=null;function Cp(e){ba!==e&&(ba=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ba===e&&(ba=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],f=e[t+2];if(typeof s!="function"){if(jr(s||l)===null)continue;break}var p=vi(l);p!==null&&(e.splice(t,3),t-=3,Ws(p,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function ji(e){function t(A){return Na(A,e)}Gn!==null&&Na(Gn,e),Hn!==null&&Na(Hn,e),qn!==null&&Na(qn,e),eo.forEach(t),to.forEach(t);for(var l=0;l<Bn.length;l++){var s=Bn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bn.length&&(l=Bn[0],l.blockedOn===null);)Sp(l),l.blockedOn===null&&Bn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],p=l[s+1],x=f[ft]||null;if(typeof p=="function")x||Cp(l);else if(x){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,x=p[ft]||null)_=x.formAction;else if(jr(f)!==null)continue}else _=x.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Cp(l)}}}function Ap(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function tu(e){this._internalRoot=e}Ma.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,s=Nt();gp(l,s,e,t,null,null)},Ma.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),ra(),t[gi]=null}};function Ma(e){this._internalRoot=e}Ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Bn.length&&t!==0&&t<Bn[l].priority;l++);Bn.splice(l,0,e),l===0&&Sp(e)}};var Np=n.version;if(Np!=="19.2.1")throw Error(a(527,Np,"19.2.1"));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var uv={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{fl=Ra.inject(uv),vt=Ra}catch{}}return lo.createRoot=function(e,t){if(!u(e))throw Error(a(299));var l=!1,s="",f=Uf,p=Lf,x=Pf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=mp(e,1,!1,null,null,l,s,null,f,p,x,Ap),e[gi]=t.current,kr(e),new tu(t)},lo.hydrateRoot=function(e,t,l){if(!u(e))throw Error(a(299));var s=!1,f="",p=Uf,x=Lf,_=Pf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),t=mp(e,1,!0,t,l??null,s,f,A,p,x,_,Ap),t.context=hp(null),l=t.current,s=Nt(),s=Ya(s),f=An(s),f.callback=null,Nn(l,f,s),l=s,t.current.lanes=l,pl(t,l),Kt(t),e[gi]=t.current,kr(e),new Ma(t)},lo.version="19.2.1",lo}var kp;function xv(){if(kp)return lu.exports;kp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),lu.exports=Tv(),lu.exports}var Ev=xv();const Sv=dh(Ev),ao=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.jsx("polyline",{points:"17 8 12 3 7 8"}),T.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),so=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"})}),Da=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),T.jsx("polyline",{points:"7 10 12 15 17 10"}),T.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Ua=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),T.jsx("path",{d:"M21 3v5h-5"}),T.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),T.jsx("path",{d:"M8 16H3v5"})]}),uu=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),T.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),_v=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.35a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),T.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Cv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),T.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ph=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("polyline",{points:"3 6 5 6 21 6"}),T.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),T.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),T.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),La=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),mh=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"20 6 9 17 4 12"})}),Av=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"5"}),T.jsx("path",{d:"M12 1v2"}),T.jsx("path",{d:"M12 21v2"}),T.jsx("path",{d:"M4.22 4.22l1.42 1.42"}),T.jsx("path",{d:"M18.36 18.36l1.42 1.42"}),T.jsx("path",{d:"M1 12h2"}),T.jsx("path",{d:"M21 12h2"}),T.jsx("path",{d:"M4.22 19.78l1.42-1.42"}),T.jsx("path",{d:"M18.36 5.64l1.42-1.42"})]}),Nv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),bv=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),T.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),T.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),hh=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("polyline",{points:"12 6 12 12 16 14"})]}),gh=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),T.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),yh=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}),cu=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),T.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),T.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),Mv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"15 18 9 12 15 6"})}),Rv=()=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("polyline",{points:"9 18 15 12 9 6"})}),ci={en:{appTitle:"Hachi Hachi",batchEditor:"Batch Editor",loading:"Loading...",apiKeyMissing:"Hachi Hachi",apiKeyDesc:"To use the advanced Gemini 3 Pro (Nano Banana) model, you must provide a valid Google Cloud API key.",connectKey:"Connect API Key",readBilling:"Get an API Key here",model:"Model",switchKey:"Change Key",importImages:"Import Images",uploadText:"Upload Images to Edit",uploadSubText:"Drag & drop multiple files or folders",dropMore:"Drop more files here",newLogo:"New Logo",logoSubText:"(Global for all items)",logoUploaded:"Logo uploaded",clickUpload:"Click to upload",remove:"Remove",promptSettings:"Prompt Settings",manage:"Manage",queue:"Queue",clearAll:"Clear All",noImages:"No images in queue",processing:"Processing...",generateAll:"Generate All",download:"Download",regenerate:"Regenerate",noImageSelected:"No image selected",selectToView:"Select a product to view details",originalInput:"Original Input",generatedResult:"Generated Result",error:"Error",tryAgain:"Try Again",promptManager:"Prompt Manager",newPrompt:"New Prompt",promptName:"Prompt Name",promptContent:"Prompt Content (System Instruction)",unsavedChanges:"Unsaved changes",allSaved:"All changes saved",reset:"Reset",saveChanges:"Save Changes",deletePromptConfirm:"Are you sure you want to delete this prompt?",discardChanges:"You have unsaved changes. Discard them?",minOnePrompt:"You must have at least one prompt.",settings:"System Settings",theme:"Theme",language:"Language",resolution:"Image Resolution",light:"Light",dark:"Dark",apiKeyInvalid:"Your API key is invalid or expired.",enterApiKey:"Enter your Gemini API Key",saveKey:"Save API Key",apiKeyPlaceholder:"Paste your API Key here (starts with AIza...)",apiKeyNote:"Your key is stored locally in your browser.",menuEditor:"Editor",menuHistory:"History",menuHelp:"Help & Docs",comingSoon:"Feature coming soon",stop:"Stop Generation",stopping:"Stopping...",saveSuccess:"All images saved to folder successfully!",saving:"Saving...",maxImagesWarning:"Maximum 10 images allowed in the queue.",downloadSettings:"Download Size (Optional)",widthPx:"Width (px)",heightPx:"Height (px)",keepEmptyOriginal:"Leave empty for original size",menuLayout:"Layout Gen",layoutGenerator:"Layout Generator",uploadLayoutText:"Reference Layout",uploadLayoutSubText:"Upload reference design",importLayouts:"Products List",uploadProductsQueue:"Upload Product Images (Max 10)",filenameConfig:"Filename Config (Regex)",regexPattern:"Barcode Extraction Regex",regexPlaceholder:"e.g. (\\d{13})",regexPreview:"Preview: ",newTitle:"Product Title",referenceLayout:"Reference Layout",productAttributes:"Attributes",attributesPlaceholder:"e.g. Waterproof",referenceUploaded:"Reference Layout uploaded",editProductDetails:"Product Configuration",productName:"Product Name",addAttribute:"+ Add Attribute",iconOptional:"Icon (Optional)",autoGenIcon:"Auto-Gen",hasIcon:"Icon Set",globalSettings:"Global Assets",addProduct:"Add Product",uploadProductImage:"Product Image",productImageMissing:"Missing Image",productInfo:"Product Information",configure:"Configure",close:"Done",resolutionConfig:"Output Resolution",modeReference:"Reference Image",modeBlueprint:"Blueprint / Draw",modeAutoDesign:"Auto Design",uploadBlueprint:"Blueprint Image",importBlueprints:"Blueprints List",addBlueprints:"Upload Blueprints",blueprintInstructions:"Instructions / Context",blueprintInstructionsPlaceholder:"e.g. This is a tall plastic bottle. Make the liquid orange. The title should be green.",refineTitle:"Refine / Edit Result",refinePlaceholder:"Describe changes to this image (e.g., make background darker, change title color...)",refineButton:"Update Image",moduleMarketing:"Marketing",moduleSystem:"System"},vi:{appTitle:"Hachi Hachi",batchEditor:"Trnh chnh sa hng lot",loading:"ang ti...",apiKeyMissing:"Hachi Hachi",apiKeyDesc:" s dng m hnh Gemini 3 Pro (Nano Banana) nng cao, bn cn cung cp Google Cloud API Key hp l.",connectKey:"Kt ni API Key",readBilling:"Ly API Key ti y",model:"M hnh",switchKey:"i Key",importImages:"Nhp Hnh nh",uploadText:"Ti nh cn chnh sa",uploadSubText:"Ko th nhiu tp tin hoc th mc",dropMore:"Th thm tp tin vo y",newLogo:"Logo Mi",logoSubText:"(Dng chung cho tt c)",logoUploaded:" ti logo",clickUpload:"Ti logo",remove:"Xa",promptSettings:"Cu hnh Prompt",manage:"Qun l",queue:"Danh sch ch",clearAll:"Xa tt c",noImages:"Cha c nh no",processing:"ang x l...",generateAll:"To Layout",download:"Ti xung",regenerate:"To li",noImageSelected:"Cha chn nh",selectToView:"Chn sn phm  xem kt qu",originalInput:"Input",generatedResult:"Kt qu",error:"Li",tryAgain:"Th li",promptManager:"Qun l Prompt",newPrompt:"Thm Prompt",promptName:"Tn Prompt",promptContent:"Ni dung Prompt (Hng dn h thng)",unsavedChanges:"Cha lu thay i",allSaved:" lu thay i",reset:"t li",saveChanges:"Lu thay i",deletePromptConfirm:"Bn c chc chn mun xa prompt ny?",discardChanges:"Bn c thay i cha lu. Hy b chng?",minOnePrompt:"Bn phi gi t nht mt prompt.",settings:"Cu hnh chung",theme:"Giao din",language:"Ngn ng",resolution:" phn gii nh",light:"Sng",dark:"Ti",apiKeyInvalid:"API key ca bn khng hp l hoc  ht hn.",enterApiKey:"Nhp Gemini API Key",saveKey:"Lu API Key",apiKeyPlaceholder:"Dn API Key vo y (bt u bng AIza...)",apiKeyNote:"Key ca bn c lu cc b trn trnh duyt.",menuEditor:"Chnh sa",menuHistory:"Lch s",menuHelp:"Tr gip",comingSoon:"Tnh nng ang pht trin",stop:"Dng to nh",stopping:"ang dng...",saveSuccess:" lu tt c nh vo th mc thnh cng!",saving:"ang lu...",maxImagesWarning:"Ch cho php ti a 10 nh trong danh sch ch.",downloadSettings:"Kch thc ti xung (Ty chn)",widthPx:"Rng (px)",heightPx:"Cao (px)",keepEmptyOriginal:" trng  gi kch thc gc",menuLayout:"To Layout",layoutGenerator:"To nh t Layout",uploadLayoutText:"Layout Mu",uploadLayoutSubText:"Ti nh thit k mu",importLayouts:"Danh sch Sn phm",uploadProductsQueue:"Ti nh Sn Phm (Max 10)",filenameConfig:"Cu hnh tn file (Regex)",regexPattern:"Regex ly Barcode",regexPlaceholder:"v d: (\\d{13})",regexPreview:"Xem trc: ",newTitle:"Tn sn phm",referenceLayout:"Layout Mu",productAttributes:"Thuc tnh",attributesPlaceholder:"VD: Chng nc",referenceUploaded:" ti Layout mu",editProductDetails:"Cu hnh Sn phm",productName:"Tn hin th",addAttribute:"Thm thuc tnh",iconOptional:"Icon",autoGenIcon:"T to Icon",hasIcon:" c Icon",globalSettings:"Ti nguyn chung",addProduct:"Thm sn phm",uploadProductImage:"nh sn phm",productImageMissing:"Thiu nh",productInfo:"Thng tin sn phm",configure:"Cu hnh",close:"Hon tt",resolutionConfig:" phn gii xut",modeReference:"nh mu",modeBlueprint:"Bn v",modeAutoDesign:"T thit k",uploadBlueprint:"nh bn v",importBlueprints:"Danh sch Bn v",addBlueprints:"Ti bn v (Max 10)",blueprintInstructions:"M t / Ng cnh",blueprintInstructionsPlaceholder:"VD: y l chai nc ra chn. Mu cht lng l vng chanh. Tiu  mu xanh l.",refineTitle:"Tinh chnh kt qu",refinePlaceholder:"M t thay i mun thc hin trn nh ny (VD: lm nn ti hn, i mu ch...)",refineButton:"Cp nht nh",moduleMarketing:"Marketing",moduleSystem:"H thng"}},wv=({currentView:i,onChangeView:n,language:o})=>{const a=ci[o],[u,d]=pe.useState(()=>{try{return localStorage.getItem("drawer_collapsed")==="true"}catch{return!1}}),m=()=>{const v=!u;d(v),localStorage.setItem("drawer_collapsed",String(v))},g=[{id:"editor",label:a.menuEditor,icon:T.jsx(bv,{})},{id:"layout",label:a.menuLayout,icon:T.jsx(cu,{})}],y=[{id:"history",label:a.menuHistory,icon:T.jsx(hh,{})},{id:"help",label:a.menuHelp,icon:T.jsx(gh,{})}],h=v=>T.jsxs("button",{onClick:()=>n(v.id),className:`
        w-full flex items-center justify-center ${u?"justify-center":"lg:justify-start"} gap-3 px-3 py-3 rounded-xl transition-all duration-200 group relative
        ${i===v.id?"bg-gradient-to-r from-primary to-accent text-white shadow-lg shadow-primary/20":"text-secondary hover:bg-black/5 dark:hover:bg-white/5 hover:text-foreground"}
      `,title:v.label,children:[T.jsx("span",{className:`shrink-0 ${i===v.id?"text-white":""}`,children:v.icon}),T.jsx("span",{className:`hidden ${u?"":"lg:block"} font-medium text-sm whitespace-nowrap overflow-hidden transition-all`,children:v.label}),i===v.id&&(u||typeof window<"u"&&window.innerWidth<1024)&&T.jsx("div",{className:"absolute left-0 w-1 h-8 bg-primary rounded-r-full"})]},v.id);return T.jsxs("aside",{className:`w-20 ${u?"lg:w-20":"lg:w-64"} bg-surface border-r border-border flex flex-col h-full transition-all duration-300 z-40 shrink-0`,children:[T.jsxs("div",{className:`h-20 flex items-center justify-center ${u?"":"lg:justify-start lg:px-6"} border-b border-border transition-all`,children:[T.jsxs("div",{className:"shrink-0",children:[T.jsx("img",{src:"https://hachihachi.com.vn/Content/images/logo.png",alt:"Hachi Hachi",className:"w-auto h-12 object-contain",onError:v=>{var E;v.currentTarget.style.display="none",(E=v.currentTarget.nextElementSibling)==null||E.classList.remove("hidden")}}),T.jsx("div",{className:"hidden w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white font-bold",children:"H"})]}),T.jsxs("div",{className:`hidden ${u?"":"lg:flex"} flex-col ml-3 justify-center overflow-hidden transition-all whitespace-nowrap`,children:[T.jsx("span",{className:"font-bold text-lg tracking-tight leading-none text-foreground",children:"Hachi Hachi"}),T.jsx("span",{className:"text-[10px] text-primary font-medium tracking-wider uppercase mt-0.5",children:"mini tool"})]})]}),T.jsxs("nav",{className:"flex-1 py-6 px-3 flex flex-col gap-6 overflow-y-auto custom-scrollbar overflow-x-hidden",children:[T.jsxs("div",{children:[T.jsx("div",{className:`px-3 mb-2 text-[10px] font-bold text-secondary uppercase tracking-wider hidden ${u?"":"lg:block"} transition-all whitespace-nowrap`,children:a.moduleMarketing}),T.jsx("div",{className:`${u?"block":"lg:hidden"} px-1 mb-2 text-[10px] font-bold text-secondary uppercase text-center`,children:"MKT"}),T.jsx("div",{className:"flex flex-col gap-1",children:g.map(h)})]}),T.jsxs("div",{children:[T.jsx("div",{className:`px-3 mb-2 text-[10px] font-bold text-secondary uppercase tracking-wider hidden ${u?"":"lg:block"} transition-all whitespace-nowrap`,children:a.moduleSystem}),T.jsx("div",{className:`${u?"block":"lg:hidden"} px-1 mb-2 text-[10px] font-bold text-secondary uppercase text-center`,children:"SYS"}),T.jsx("div",{className:"flex flex-col gap-1",children:y.map(h)})]})]}),T.jsxs("div",{className:"p-4 border-t border-border flex flex-col gap-3 items-center",children:[!u&&T.jsx("p",{className:"text-xs text-secondary text-center hidden lg:block whitespace-nowrap",children:"v1.4.0"}),T.jsx("button",{onClick:m,className:"hidden lg:flex w-full h-8 items-center justify-center rounded-lg hover:bg-black/5 dark:hover:bg-white/5 text-secondary transition-colors",title:u?"Expand":"Collapse",children:u?T.jsx(Rv,{}):T.jsx(Mv,{})})]})]})},Iv=({isOpen:i,onClose:n,prompts:o,setPrompts:a,activePromptId:u,setActivePromptId:d,language:m})=>{const[g,y]=pe.useState(u),[h,v]=pe.useState(""),[E,S]=pe.useState(""),[b,B]=pe.useState(!1),H=ci[m];if(pe.useEffect(()=>{i&&y(u)},[i,u]),pe.useEffect(()=>{const K=o.find(ne=>ne.id===g);K&&(v(K.name),S(K.content),B(!1))},[g,o]),!i)return null;const k=()=>{const K=o.map(ne=>ne.id===g?{...ne,name:h,content:E}:ne);a(K),B(!1)},Z=()=>{const K=Date.now().toString(),ne={id:K,name:H.newPrompt,content:""};a([...o,ne]),y(K)},W=K=>{if(o.length<=1){alert(H.minOnePrompt);return}if(!window.confirm(H.deletePromptConfirm))return;const I=o.filter(de=>de.id!==K);a(I),K===g&&y(I[0].id),K===u&&d(I[0].id)},j=K=>{b&&!window.confirm(H.discardChanges)||y(K)},F=()=>{b&&!window.confirm(H.discardChanges)||n()};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-surface w-full max-w-5xl h-[80vh] rounded-xl border border-border shadow-2xl flex flex-col overflow-hidden text-foreground",children:[T.jsxs("div",{className:"h-14 border-b border-border flex items-center justify-between px-6 bg-background/50",children:[T.jsx("h2",{className:"text-lg font-semibold",children:H.promptManager}),T.jsx("button",{onClick:F,className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-secondary hover:text-foreground transition-colors",children:T.jsx(La,{})})]}),T.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[T.jsxs("div",{className:"w-1/3 border-r border-border flex flex-col bg-background/50",children:[T.jsx("div",{className:"p-4 border-b border-border",children:T.jsxs("button",{onClick:Z,className:"w-full py-2 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/50 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-colors",children:[T.jsx(Cv,{})," ",H.newPrompt]})}),T.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:o.map(K=>T.jsxs("div",{onClick:()=>j(K.id),className:`
                    group flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors
                    ${g===K.id?"bg-black/5 dark:bg-white/10 border border-border":"hover:bg-black/5 dark:hover:bg-white/5 border border-transparent"}
                  `,children:[T.jsxs("div",{className:"min-w-0",children:[T.jsx("p",{className:`text-sm font-medium truncate ${g===K.id?"text-foreground":"text-foreground/70"}`,children:K.name}),T.jsxs("p",{className:"text-xs text-secondary truncate mt-0.5",children:[K.content?K.content.slice(0,30):"...","..."]})]}),o.length>1&&T.jsx("button",{onClick:ne=>{ne.stopPropagation(),W(K.id)},className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-500/10 text-secondary hover:text-red-500 rounded transition-all",title:H.remove,children:T.jsx(ph,{})})]},K.id))})]}),T.jsxs("div",{className:"flex-1 flex flex-col bg-background",children:[T.jsxs("div",{className:"p-6 flex-1 flex flex-col gap-4 overflow-hidden",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-secondary uppercase mb-1.5",children:H.promptName}),T.jsx("input",{type:"text",value:h,onChange:K=>{v(K.target.value),B(!0)},className:"w-full bg-surface border border-border rounded-lg px-4 py-2.5 text-foreground placeholder-secondary/50 focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all",placeholder:"e.g. Standard Product Layout"})]}),T.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[T.jsx("label",{className:"block text-xs font-medium text-secondary uppercase mb-1.5",children:H.promptContent}),T.jsx("textarea",{value:E,onChange:K=>{S(K.target.value),B(!0)},className:"flex-1 w-full bg-surface border border-border rounded-lg p-4 text-sm text-foreground/90 font-mono leading-relaxed resize-none focus:outline-none focus:border-primary/50 focus:ring-1 focus:ring-primary/50 transition-all custom-scrollbar",placeholder:"Detailed instructions for the AI..."})]})]}),T.jsxs("div",{className:"h-16 border-t border-border bg-background/50 flex items-center justify-between px-6",children:[T.jsx("div",{className:"text-xs text-secondary",children:b?H.unsavedChanges:H.allSaved}),T.jsxs("div",{className:"flex gap-3",children:[b&&T.jsx("button",{onClick:()=>{const K=o.find(ne=>ne.id===g);K&&(v(K.name),S(K.content),B(!1))},className:"px-4 py-2 text-sm text-secondary hover:text-foreground transition-colors",children:H.reset}),T.jsxs("button",{onClick:k,disabled:!b,className:`
                      px-6 py-2 rounded-lg flex items-center gap-2 text-sm font-medium transition-all
                      ${b?"bg-primary text-white hover:bg-primary/90 shadow-lg shadow-primary/20":"bg-black/5 dark:bg-white/5 text-secondary cursor-not-allowed"}
                    `,children:[T.jsx(mh,{})," ",H.saveChanges]})]})]})]})]})]})})},Dv=`1. Gi nguyn b cc 100%

Khng c dch chuyn, khng thay i v tr, khng thay i khong cch ca bt k thnh phn no: sn phm, text, icon, bullet, layout tng th.

Khng thay i kch thc sn phm hay cc thnh phn khc.

B cc phi ging nh gc 100%.

Ch c php crop hoc m rng nn  loi b vng trng d v m bo nn ph kn 100%.
Khng c cn gia, khng c cn chnh li b cc theo bt k hng no.

2. Nn chun #f0f0f0

Khng gi li nn c thay i nn mi hon ton 100%

Nn phi l solid color #f0f0f0.

Khng bng, khng noise, khng gradient, khng i sng.

Bao ph 100% ton b vng nn bng cch crop hoc m rng vng nn, khng thay i v tr cc thnh phn.

3. Thay logo header

Thay logo Hng Nht Chnh Hng c bng logo mi ti cung cp.

Gi ng v tr v kch thc hin th y ht logo c.

Resize ng t l gc, khng mo.

4. Quy nh font ch
Tt c vn bn dng Plus Jakarta Sans.

Tiu  sn phm:

In m (bold)

Mu ch #026415

C vin trng

Khng  bng

Icon + text m t:

Mu ch v mu vin icon c chnh xc mu #32352f

5. Cc thnh phn khc gi nguyn 100%
Khng thay i:

kch thc sn phm

v tr icon

text m t

layout 3 bullet

b cc tng th

khong cch gia cc phn t

(Ch c crop/m rng nn  nn ph u 100%.)

6. Kt qu cui

Kch thc nh 1024  1024 px

Khng gi li nn c thay i nn mi hon ton 100%, Nn #f0f0f0 ph 100%

Tiu  bold, #026415 c vin trng

Mu ch v mu vin icon ca ni dung c chnh xc mu #32352f

Logo mi ng v tr + ng t l + ng kch thc

Khng lch b cc

Khng dch chuyn bt k thnh phn no

Nn phng u, khng cn khung trng`,Uv=`1. Gi nguyn b cc

Khng thay i: b cc, v tr sn phm, text, icon, khong cch, layout tng th.

Ch chnh sa theo ng cc yu cu bn di.

2. Mu background chun

Khng gi li nn c thay i nn mi hon ton 100%

Background phi l mt mu phng (solid color), khng bng, khng noise, khng gradient, khng i sng.

Mu chnh xc: #f0f0f0.

Bao ph 100% ton b vng nn.

3. Thay th logo header

Thay logo c bng logo mi ti cung cp.

Gi ng v tr c 100%.

Resize sao cho bng ng kch thc hin th ca logo c.

Khng lm mo logo  gi nguyn t l gc.

Khng thay i bt k thng tin g  logo mi.

4. Quy nh v font ch

Tt c vn bn s dng Plus Jakarta Sans.

Tiu  sn phm:

Mu ch: #32352f

Khng  bng

Khng c vin

Icon v text m t:

Mu ch: #32352f

Khng thm bt c th g

5. Cc thnh phn khc

Khng thay i:

kch thc sn phm

v tr icon

text m t

layout 3 bullet

b cc tng th

Ch chnh logo + font + mu + background.

6. Kt qu cui cng

nh kch thc 1024  1024 px.

Khng gi li nn c thay i nn mi hon ton 100%,  Nn #f0f0f0 ng 100%, khng sai tng.

Tiu  m, mu #32352f khng vin, khng  bng.

Icon + m t mu #32352f.

Logo mi c thay ng kch thc & t l nh logo c.`,Lv=`ROLE

You are a senior graphic design AI specialized in pixel-perfect layout recreation.
Your task is to recreate the Reference Layout (Image 1) EXACTLY 100% and only replace the provided content.
 No creativity, no redesign, no interpretation. Absolute accuracy required.

INPUT IMAGES

Image 1  Reference Layout
 Master layout.
 MUST keep 100% structure, positions, spacing, alignment, proportions, font sizes, icon sizes, bullet layout.

Image 2  New Logo
 Replace the old header logo.

Image 3  New Product Image
 Replace the old product image.

TEXT INPUT

New Title

Product Attributes (list)

ABSOLUTE RULES  MUST FOLLOW
1. LAYOUT PRESERVATION (100% EXACT)

 Do NOT move any element

 Do NOT resize any element

 Do NOT change spacing (margin / padding)

 Do NOT re-align any element

 Do NOT change layout structure

 Layout must be pixel-identical to Image 1
 Only allowed action: crop or extend background to remove white edges

2. BACKGROUND (MANDATORY)

Remove old background completely

Use solid color #f0f0f0

 No shadow

 No noise

 No gradient

 No brightness/contrast changes

 Background must cover 100% canvas
 Background crop/extension must NOT affect element positions

3. HEADER LOGO

Replace old logo text Hng Nht Chnh Hng with Image 2

Keep:

Exact position

Exact displayed size

Exact aspect ratio

 No stretching

 No distortion

4. TYPOGRAPHY (STRICT)

All text font: Plus Jakarta Sans

Product Title

Bold

Color: #026415

White outline (stroke)

 No shadow

Attribute Text

Color: #32352f (EXACT HEX)

Same size & weight as reference

Center aligned

5. ICON & PRODUCT ATTRIBUTES (VERY IMPORTANT)

For EACH product attribute, you MUST:

STRUCTURE (MANDATORY)

Icon positioned ABOVE the attribute text

Icon + text CENTER ALIGNED vertically

Keep 3-bullet layout exactly as Image 1

Keep original spacing between icon  text

 Do NOT change spacing

ICON RULES

Auto-generate icon matching attribute meaning

Style:

Outline (stroke only)

Minimal

Modern

Monoline

Color: #32352f (EXACT)

Size:

All icons same size

Same size as icons in Image 1

 No fill

 No gradient

 No shadow

6. KEEP EVERYTHING ELSE UNCHANGED

 Do NOT modify:

Product image size

Icon positions

Bullet layout

Overall composition

Spacing between elements

 Only background crop/extension is allowed

FINAL OUTPUT REQUIREMENTS

Canvas size: 1024  1024 px

Background: #f0f0f0, flat, clean, full coverage

Title: Bold, #026415, white outline

Icons + attribute text: #32352f exact

New logo:

Correct position

Correct size

Correct ratio

 No layout shift

 No white frame

 No creative deviation

SELF-CHECK (FAIL IF ANY ITEM IS WRONG)

Any element moved   FAIL

Any color mismatch   FAIL

Icon not above text   FAIL

Not center aligned   FAIL

Font not Plus Jakarta Sans   FAIL`,Pv=`ROLE

You are an expert AI specialized in Blueprint-to-Product visualization.

Your task is to take a Blueprint/Wireframe (Image 1) and a Logo (Image 2), analyze the layout structure, and render a final photorealistic product image.

INPUTS

IMAGE 1: Blueprint / Wireframe / Sketch
(Contains layout structure, product shape placeholder, header zone, and text position placeholders)

IMAGE 2: Brand Logo

TASKS
1. ANALYZE STRUCTURE

From IMAGE 1, precisely identify:

The Header area

The Product area

The Title / Text areas

 Do not infer or redesign positions. Follow the blueprint layout strictly.

2. LOGO REPLACEMENT

Place IMAGE 2 (Logo) into the detected Header area.

Completely replace any sketched logo, placeholder text, or symbols in the header.

Resize the logo to fit perfectly within the header zone defined by the blueprint.

Maintain the original aspect ratio of the logo (no distortion).

3. PRODUCT RENDERING

Analyze the central product sketch in IMAGE 1.

Render it as a realistic, high-quality 3D product image:

If the sketch represents a bottle  render a bottle

If the sketch represents a box  render a box

Material:

Plastic / Glass / Paper
 Choose appropriately based on the product shape.

Style: Clean, professional, e-commerceready

4. TEXT RENDERING

Identify the Title and Attribute / Body text placeholders from the blueprint.

Render sharp, professional typography in the exact detected positions.

Font: Plus Jakarta Sans

Text color rules:

Title: #32352f (MANDATORY)

Body text: #32352f

Title positioning rule (MANDATORY):

A Title MUST always be present

The Title must be placed centered directly below the Logo

The position is fixed relative to the Logo, not inferred elsewhere

Title styling rules (IMPORTANT):

Title must be plain text only

NO border

NO box

NO background shape

NO outline

NO decorative frame

Text content:

If the sketch text is readable  use the exact text

If the sketch text is illegible  generate realistic Lorem Ipsumstyle product text that fits the space and context

5. BACKGROUND

Remove all:

Blueprint grids

Paper textures

Sketch lines

Use a solid background color: #f0f0f0
Add soft, realistic shadow beneath the product.

OUTPUT

One single image

Resolution: 1024  1024

No wireframes

No sketch lines

Professional, photorealistic e-commerce appearance`,kv=`ROLE
You are a Senior E-Commerce Graphic Designer. 
Your task is to create a professional product marketing image by composing the provided elements (Product, Logo, Text, Icons) into a high-quality layout.

STRICT BRAND GUIDELINES (MUST FOLLOW):
1. BACKGROUND: 
   - Solid Color #f0f0f0. 
   - Clean, flat, no gradients, no noise.
   - Full 100% coverage.

2. LOGO PLACEMENT:
   - Place the provided LOGO (Image 2) in the HEADER area.
   - Position: Top Left or Top Center (Standard E-commerce).
   - Maintain original logo aspect ratio. Do not distort.

3. TYPOGRAPHY:
   - Font: "Plus Jakarta Sans".
   - PRODUCT TITLE: Bold, #026415 (Green), White Outline (Stroke). Positioned prominently (usually Top or Center).
   - ATTRIBUTES: #32352f (Dark Grey).

4. LAYOUT COMPOSITION:
   - PRODUCT (Image 1): Place visibly in the center or slightly right. Add a soft realistic shadow underneath.
   - ATTRIBUTES LIST: Arrange the attributes (Text + Provided Icons) in a clean list (vertical or horizontal) usually on the side or bottom.
   - ICONS: If specific icon images are provided, place them ABOVE or NEXT TO their respective attribute text.

INPUT DATA:
- Image 1: Product Image.
- Image 2: Logo.
- Images 3+: Specific Attribute Icons (mapped in instructions).
- Text: Title and Attribute Descriptions.

OUTPUT:
- A single 1024x1024 pixel-perfect marketing image.
- Professional, clean, ready for sales.
`,vh=()=>T.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-xl",children:[T.jsxs("div",{className:"relative w-16 h-16 mb-4",children:[T.jsx("div",{className:"absolute inset-0 border-4 border-t-primary border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin"}),T.jsx("div",{className:"absolute inset-2 border-4 border-t-accent border-r-transparent border-b-transparent border-l-transparent rounded-full animate-spin reverse",style:{animationDirection:"reverse",animationDuration:"2s"}})]}),T.jsx("p",{className:"text-white font-medium animate-pulse",children:"Processing with Gemini 3 Pro..."}),T.jsx("p",{className:"text-white/60 text-sm mt-2",children:"This may take a few moments"})]}),Gv=({queue:i,selectedId:n,settings:o,prompts:a,isProcessing:u,isSaving:d,errorMsg:m,language:g,onFilesSelected:y,onSelectQueueItem:h,onDeleteItem:v,onClearAll:E,onProcess:S,onStop:b,onRegenerate:B,onRefine:H,onDownloadItem:k,onDownloadAll:Z,onUpdateSetting:W,onManagePrompts:j})=>{const F=ci[g],K=pe.useRef(null),ne=pe.useRef(null),[I,de]=pe.useState(""),$=i.find(M=>M.id===n),te=i.filter(M=>M.status==="pending").length,se=i.filter(M=>M.status==="success").length;pe.useEffect(()=>{de("")},[n]);const le=M=>{M.preventDefault(),M.stopPropagation()},q=M=>{M.preventDefault(),M.stopPropagation(),y(M.dataTransfer.files)},X=M=>{var ie;const Y=(ie=M.target.files)==null?void 0:ie[0];if(Y&&Y.type.startsWith("image/")){const ue=new FileReader;ue.onloadend=()=>{const C=ue.result;W("savedLogo",C),W("savedLogoMime",Y.type)},ue.readAsDataURL(Y)}},Q=()=>{$&&I.trim()&&(H($.id,I.trim()),de(""))},N=()=>{var Y;const M=((Y=$==null?void 0:$.file)==null?void 0:Y.name)||(i.length>0?i[0].file.name:"8934567890123_Product.jpg");if(!o.filenamePattern)return M.replace(/\.[^/.]+$/,"");try{const ie=new RegExp(o.filenamePattern),ue=M.match(ie);if(ue&&ue.length>0)return ue[1]||ue[0]}catch{}return M.replace(/\.[^/.]+$/,"")};return T.jsxs("div",{className:"h-full flex flex-col lg:flex-row overflow-hidden",children:[T.jsxs("div",{className:"w-full lg:w-[400px] bg-surface/50 border-r border-border flex flex-col h-full overflow-hidden shrink-0 z-20",children:[T.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar flex flex-col gap-6",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[F.importImages,i.length>0&&T.jsx("span",{className:"text-xs bg-black/10 dark:bg-white/10 px-2 py-0.5 rounded-full text-secondary",children:i.length})]}),T.jsxs("div",{className:`
                  relative group rounded-xl border-2 border-dashed transition-all duration-300 flex flex-col items-center justify-center overflow-hidden
                  ${i.length===0?"h-40 border-border hover:border-primary/50 hover:bg-black/5 dark:hover:bg-white/5":"h-24 border-border hover:border-primary/50 hover:bg-black/5 dark:hover:bg-white/5"}
                  cursor-pointer
                `,onDragOver:le,onDrop:q,onClick:()=>{var M;return(M=K.current)==null?void 0:M.click()},children:[T.jsx("input",{type:"file",ref:K,onChange:M=>{y(M.target.files),M.target&&(M.target.value="")},accept:"image/*",multiple:!0,className:"hidden"}),T.jsxs("div",{className:"text-center p-2",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-black/5 dark:bg-white/5 flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform text-foreground",children:T.jsx(ao,{})}),i.length===0?T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"text-sm font-medium mb-1",children:F.uploadText}),T.jsx("p",{className:"text-xs text-secondary",children:F.uploadSubText})]}):T.jsx("p",{className:"text-xs text-secondary",children:F.dropMore})]})]})]}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-sm font-semibold mb-3",children:[F.newLogo," ",T.jsx("span",{className:"text-xs font-normal text-secondary",children:F.logoSubText})]}),T.jsxs("div",{className:`
                  relative rounded-xl border border-border bg-surface p-3 flex items-center gap-3 transition-colors
                  ${o.savedLogo?"border-primary/30":"hover:border-primary/30"}
              `,children:[T.jsxs("div",{className:"h-12 w-12 bg-black/5 dark:bg-white/5 rounded-lg border border-dashed border-border flex items-center justify-center shrink-0 overflow-hidden relative",children:[o.savedLogo?T.jsx("img",{src:o.savedLogo,alt:"New Logo",className:"w-full h-full object-contain"}):T.jsx("div",{className:"text-secondary",children:T.jsx(ao,{})}),T.jsx("input",{type:"file",ref:ne,onChange:X,accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",title:F.clickUpload})]}),T.jsx("div",{className:"flex-1 min-w-0",children:T.jsx("p",{className:"text-xs text-secondary truncate",children:o.savedLogo?F.logoUploaded:F.clickUpload})}),o.savedLogo&&T.jsx("button",{onClick:()=>{W("savedLogo",null),ne.current&&(ne.current.value="")},className:"text-xs text-red-500 hover:text-red-600",children:F.remove})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold",children:F.promptSettings}),T.jsx("button",{onClick:j,className:"text-xs text-primary hover:text-primary/80 font-medium",children:F.manage})]}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{value:o.activePromptId,onChange:M=>W("activePromptId",M.target.value),className:"w-full bg-surface border border-border rounded-xl p-3 pr-10 text-sm text-foreground focus:outline-none focus:border-primary/50 appearance-none cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:a.map(M=>T.jsx("option",{value:M.id,children:M.name},M.id))}),T.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-secondary",children:T.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M2.5 4.5L6 8L9.5 4.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-sm font-semibold mb-3",children:F.settings}),T.jsxs("div",{className:"bg-surface border border-border rounded-xl p-3",children:[T.jsx("label",{className:"text-[10px] text-secondary uppercase font-semibold block mb-1.5",children:F.resolution}),T.jsx("div",{className:"flex bg-black/5 dark:bg-white/5 rounded-lg p-0.5",children:["1K","2K","4K"].map(M=>T.jsx("button",{onClick:()=>W("resolution",M),className:`flex-1 text-xs py-1.5 rounded-md transition-all ${o.resolution===M?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:M},M))})]})]}),T.jsxs("div",{className:"flex-1 min-h-[300px] flex flex-col pb-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold",children:F.queue}),i.length>0&&!u&&T.jsx("button",{onClick:E,className:"text-xs text-red-500 hover:text-red-600",children:F.clearAll})]}),T.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-black/5 dark:bg-black/20 rounded-xl border border-border p-2 space-y-2",children:i.length===0?T.jsx("div",{className:"h-full flex flex-col items-center justify-center text-secondary text-xs",children:T.jsx("p",{children:F.noImages})}):i.map(M=>T.jsxs("div",{onClick:()=>h(M.id),className:`
                                  flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors border
                                  ${n===M.id?"bg-background border-primary/50 shadow-sm":"bg-surface border-transparent hover:bg-black/5 dark:hover:bg-white/5"}
                              `,children:[T.jsx("img",{src:M.originalPreview,alt:"thumb",className:"w-10 h-10 rounded object-cover bg-black"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-xs text-foreground truncate font-medium",children:M.file.name}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("p",{className:"text-[10px] text-secondary uppercase",children:M.status}),M.duration&&T.jsxs("span",{className:"text-[10px] bg-black/10 dark:bg-white/10 px-1.5 rounded text-secondary font-mono",children:[M.duration.toFixed(1),"s"]})]})]}),T.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[M.status==="processing"&&T.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary border-t-transparent animate-spin"}),M.status==="success"&&T.jsx("div",{className:"text-green-500 text-xs",children:""}),M.status==="error"&&T.jsx("button",{onClick:Y=>{Y.stopPropagation(),B(M.id)},className:"text-red-500 hover:text-red-600 text-xs",children:T.jsx(Ua,{})}),M.status==="pending"&&!u&&T.jsx("button",{onClick:Y=>v(M.id,Y),className:"w-5 h-5 flex items-center justify-center rounded-full hover:bg-black/10 text-secondary hover:text-foreground",children:""})]})]},M.id))})]})]}),T.jsxs("div",{className:"p-4 border-t border-border bg-surface/80 backdrop-blur-md flex flex-col gap-2 shrink-0 z-10 shadow-[0_-5px_15px_-5px_rgba(0,0,0,0.1)]",children:[m&&T.jsxs("div",{className:"mb-2 text-xs text-red-500 flex items-center gap-1",children:[T.jsx(uu,{})," ",m]}),T.jsx("div",{children:u?T.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/20",children:[T.jsx(yh,{}),T.jsx("span",{className:"text-sm",children:F.stop})]}):T.jsxs("button",{onClick:S,disabled:te===0||d,className:`
                  w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200
                  ${te===0||d?"bg-black/5 dark:bg-white/10 text-secondary cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/20 hover:scale-[1.02] text-white"}
                  `,children:[T.jsx(so,{}),T.jsxs("span",{className:"text-sm",children:[F.generateAll," (",te,")"]})]})}),T.jsxs("div",{className:"pt-3 border-t border-border/50 flex flex-col gap-2",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("label",{className:"text-[10px] text-secondary uppercase font-semibold",children:F.filenameConfig}),T.jsx("span",{className:"text-[10px] font-mono text-primary truncate max-w-[150px]",children:N()})]}),T.jsx("input",{type:"text",value:o.filenamePattern||"",onChange:M=>W("filenamePattern",M.target.value),placeholder:F.regexPlaceholder,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none font-mono"})]}),T.jsxs("div",{className:"flex gap-2 mb-1",children:[T.jsx("div",{className:"flex-1",children:T.jsx("input",{type:"number",value:o.downloadWidth||"",onChange:M=>W("downloadWidth",M.target.value?Number(M.target.value):void 0),placeholder:F.widthPx,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none"})}),T.jsx("div",{className:"flex-1",children:T.jsx("input",{type:"number",value:o.downloadHeight||"",onChange:M=>W("downloadHeight",M.target.value?Number(M.target.value):void 0),placeholder:F.heightPx,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none"})})]}),T.jsxs("button",{onClick:Z,disabled:d||se===0,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200
                    ${d||se===0?"bg-black/5 dark:bg-white/10 text-secondary cursor-not-allowed":"bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-foreground"}
                `,title:F.download,children:[T.jsx(Da,{}),T.jsxs("span",{className:"text-sm",children:[d?F.saving:F.download," (",se,")"]})]})]})]})]}),T.jsxs("div",{className:"flex-1 bg-background/50 dark:bg-black/40 flex flex-col overflow-hidden relative transition-colors",children:[T.jsxs("div",{className:"h-12 border-b border-border flex items-center justify-between px-6 bg-surface/20 backdrop-blur-sm shrink-0",children:[T.jsx("span",{className:"text-xs text-secondary truncate max-w-[300px]",children:$?$.file.name:F.noImageSelected}),T.jsxs("div",{className:"flex items-center gap-3",children:[(($==null?void 0:$.status)==="success"||($==null?void 0:$.status)==="error")&&T.jsxs("button",{onClick:()=>$&&B($.id),className:"flex items-center gap-2 text-xs font-medium text-secondary hover:text-foreground transition-colors",children:[T.jsx(Ua,{})," ",F.regenerate]}),($==null?void 0:$.status)==="success"&&$.resultPreview&&T.jsxs("button",{onClick:()=>$&&k($),className:"flex items-center gap-2 text-xs font-medium text-primary hover:text-primary/80 transition-colors",children:[T.jsx(Da,{})," ",F.download]})]})]}),T.jsx("div",{className:"flex-1 relative p-8 flex flex-col items-center justify-center overflow-hidden",children:$?T.jsx("div",{className:"w-full h-full flex flex-col gap-4 items-center justify-center",children:$.status==="success"&&$.resultPreview?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative max-w-full flex-1 aspect-square group overflow-hidden",children:[T.jsx("img",{src:$.resultPreview,alt:"Result",className:"w-full h-full object-contain shadow-2xl rounded-lg bg-black/5 dark:bg-white/5"}),T.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/60 backdrop-blur px-3 py-1 rounded-full text-xs text-green-400 font-medium pointer-events-none",children:[F.generatedResult," ",$.duration&&`(${$.duration.toFixed(1)}s)`]})]}),T.jsxs("div",{className:"w-full max-w-2xl bg-surface border border-border rounded-xl p-3 flex gap-2 shrink-0 animate-pulse-fast-once",children:[T.jsx("input",{type:"text",value:I,onChange:M=>de(M.target.value),placeholder:F.refinePlaceholder,className:"flex-1 bg-transparent text-sm px-2 focus:outline-none placeholder-secondary/50",onKeyDown:M=>M.key==="Enter"&&Q()}),T.jsxs("button",{onClick:Q,disabled:!I.trim()||u,className:`
                                        px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-1
                                        ${!I.trim()||u?"bg-black/5 text-secondary cursor-not-allowed":"bg-primary text-white hover:bg-primary/90"}
                                    `,children:[u?T.jsx("div",{className:"w-3 h-3 border-2 border-white/50 border-t-transparent animate-spin rounded-full"}):T.jsx(so,{}),F.refineButton]})]})]}):T.jsxs("div",{className:"relative max-w-full max-h-full aspect-square",children:[T.jsx("img",{src:$.originalPreview,alt:"Original",className:`w-full h-full object-contain shadow-2xl rounded-lg bg-black/5 dark:bg-white/5 ${$.status==="processing"?"opacity-50":""}`}),T.jsx("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur px-3 py-1 rounded-full text-xs text-white/90 font-medium pointer-events-none",children:F.originalInput}),$.status==="processing"&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:T.jsx(vh,{})}),$.status==="error"&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg",children:T.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 p-4 rounded-xl text-red-200 text-center max-w-sm",children:[T.jsx("p",{className:"font-bold mb-1",children:F.error}),T.jsx("p",{className:"text-sm truncate",children:$.error}),T.jsx("button",{onClick:()=>B($.id),className:"mt-3 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 rounded-lg text-xs font-medium transition-colors w-full",children:F.tryAgain})]})})]})}):T.jsxs("div",{className:"text-center text-secondary",children:[T.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-2 border-dashed border-border rounded-2xl flex items-center justify-center",children:T.jsx(so,{})}),T.jsx("p",{children:F.selectToView})]})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Hv,qv;function Bv(){return{geminiUrl:Hv,vertexUrl:qv}}function Vv(i,n,o,a){var u,d;if(!(i!=null&&i.baseUrl)){const m=Bv();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hn{}function ae(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,o){for(let d=0;d<n.length-1;d++){const m=n[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,n.slice(d+1),o[h])}else for(const h of y)c(h,n.slice(d+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],n.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=n[n.length-1],u=i[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const u=n[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>r(g,n.slice(a+1),o)):o}else return o}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function zv(i,n){for(const[o,a]of Object.entries(n)){const u=o.split("."),d=a.split("."),m=new Set;let g=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){g=y;break}if(g!==-1&&d.length>g)for(let y=g;y<d.length;y++){const h=d[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}fu(i,u,d,0,m)}}function fu(i,n,o,a,u){if(a>=n.length||typeof i!="object"||i===null)return;const d=n[a];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])fu(y,n,o,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!u.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const E=[];for(const S of o.slice(a))S==="*"?E.push(h):E.push(S);c(m,E,v)}for(const h of g)delete m[h]}}else{const m=i;d in m&&fu(m[d],n,o,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Su(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ov(i){const n={},o=r(i,["operationName"]);o!=null&&c(n,["operationName"],o);const a=r(i,["resourceName"]);return a!=null&&c(n,["_url","resourceName"],a),n}function Fv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],Jv(m)),n}function Yv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],Kv(m)),n}function Jv(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Xv(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Kv(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Qv(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Xv(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],t0(o)),n}function Qv(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],n0(o)),n}function Zv(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function $v(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Wv(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],jv(m)),n}function jv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Th(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],e0(m)),n}function e0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function t0(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],Su(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function n0(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],Su(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gp||(Gp={}));var Hp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Hp||(Hp={}));var qp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(qp||(qp={}));var zn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(zn||(zn={}));var Bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));var Vp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vp||(Vp={}));var zp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(zp||(zp={}));var Op;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Op||(Op={}));var Fp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Fp||(Fp={}));var Yp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(Yp||(Yp={}));var Jp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jp||(Jp={}));var Kp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Kp||(Kp={}));var Xp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Xp||(Xp={}));var Qp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(Qp||(Qp={}));var Zp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Zp||(Zp={}));var $p;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($p||($p={}));var Wp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wp||(Wp={}));var jp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(jp||(jp={}));var em;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(em||(em={}));var Pa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Pa||(Pa={}));var tm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tm||(tm={}));var nm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nm||(nm={}));var im;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(im||(im={}));var du;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(du||(du={}));var lm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lm||(lm={}));var om;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(om||(om={}));var am;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(am||(am={}));var sm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(sm||(sm={}));var rm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(rm||(rm={}));var um;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(um||(um={}));var cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(cm||(cm={}));var fm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(fm||(fm={}));var dm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(dm||(dm={}));var pm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(pm||(pm={}));var mm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mm||(mm={}));var hm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hm||(hm={}));var gm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gm||(gm={}));var ym;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ym||(ym={}));var vm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(vm||(vm={}));var Tm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Tm||(Tm={}));var xm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(xm||(xm={}));var Em;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Em||(Em={}));var Sm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Sm||(Sm={}));var _m;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(_m||(_m={}));var Cm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Cm||(Cm={}));var Am;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Am||(Am={}));var Nm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Nm||(Nm={}));var bm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(bm||(bm={}));var Mm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Mm||(Mm={}));var Rm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rm||(Rm={}));var wm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(wm||(wm={}));var Im;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Im||(Im={}));var Dm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dm||(Dm={}));var Um;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Um||(Um={}));var el;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(el||(el={}));class pu{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class oo{get text(){var n,o,a,u,d,m,g,y;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const E=[];for(const S of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[b,B]of Object.entries(S))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(B!==null||B!==void 0)&&E.push(b);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,h+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,o,a,u,d,m,g,y;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const E of(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[S,b]of Object.entries(E))S!=="inlineData"&&(b!==null||b!==void 0)&&v.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(h+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,a,u,d,m,g,y;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var n,o,a,u,d,m,g,y,h;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,a,u,d,m,g,y,h;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Lm{}class Pm{}class i0{}class l0{}class o0{}class a0{}class km{}class Gm{}class Hm{}class s0{}class ka{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new ka;let u;const d=n;return o?u=Yv(d):u=Fv(d),Object.assign(a,u),a}}class qm{}class Bm{}class Vm{}class zm{}class r0{}class u0{}class c0{}class _u{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new _u,d=Wv(n);return Object.assign(a,d),a}}class f0{}class d0{}class p0{}class Om{}class m0{get text(){var n,o,a;let u="",d=!1;const m=[];for(const g of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,a;let u="";const d=[];for(const m of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class h0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Cu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Cu,d=Th(n);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function xh(i,n){const o=we(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Eh(i){return Array.isArray(i)?i.map(n=>Ga(n)):[Ga(i)]}function Ga(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Sh(i){const n=Ga(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _h(i){const n=Ga(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Fm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Ch(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Fm(n)):[Fm(i)]}function mu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Ym(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Jm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ut(i){if(i==null)throw new Error("ContentUnion is required");return mu(i)?i:{role:"user",parts:Ch(i)}}function Au(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=ut(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=ut(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>ut(o)):[ut(n)]}function Gt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Ym(i)||Jm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ut(i)]}const n=[],o=[],a=mu(i[0]);for(const u of i){const d=mu(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(Ym(u)||Jm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||n.push({role:"user",parts:Ch(o)}),n}function g0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(zn).includes(o[0].toUpperCase())?o[0].toUpperCase():zn.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(zn).includes(a.toUpperCase())?a.toUpperCase():zn.TYPE_UNSPECIFIED})}}function tl(i){const n={},o=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&g0(i.type,n);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(zn).includes(g.toUpperCase())?g.toUpperCase():zn.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=tl(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(tl(h))}n[m]=y}else if(u.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=tl(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function Nu(i){return tl(i)}function bu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Mu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ll(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=tl(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=tl(n.response));return i}function ol(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function y0(i,n,o,a=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function gn(i,n){if(typeof n!="string")throw new Error("name must be a string");return y0(i,n,"cachedContents")}function Ah(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function On(i){return Su(i)}function v0(i){return i!=null&&typeof i=="object"&&"name"in i}function T0(i){return i!=null&&typeof i=="object"&&"video"in i}function x0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Nh(i){var n;let o;if(v0(i)&&(o=i.name),!(x0(i)&&(o=i.uri,o===void 0))&&!(T0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function bh(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Mh(i){for(const n of["models","tunedModels","publisherModels"])if(E0(i,n))return i[n];return[]}function E0(i,n){return i!==null&&typeof i=="object"&&n in i}function S0(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function _0(i,n={}){const o=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=S0(u,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Rh(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function C0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function wh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function al(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ih(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A0(i){const n={},o=r(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>oT(m))),c(n,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["inlinedEmbedContentResponses"],d)}return n}function N0(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function b0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function wa(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata","displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],Ih(u));const d=r(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const m=r(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const g=r(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=r(i,["metadata","model"]);y!=null&&c(n,["model"],y);const h=r(i,["metadata","output"]);return h!=null&&c(n,["dest"],A0(wh(h))),n}function hu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["state"]);u!=null&&c(n,["state"],Ih(u));const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["createTime"]);m!=null&&c(n,["createTime"],m);const g=r(i,["startTime"]);g!=null&&c(n,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(n,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=r(i,["model"]);v!=null&&c(n,["model"],v);const E=r(i,["inputConfig"]);E!=null&&c(n,["src"],M0(E));const S=r(i,["outputConfig"]);S!=null&&c(n,["dest"],N0(wh(S)));const b=r(i,["completionStats"]);return b!=null&&c(n,["completionStats"],b),n}function M0(i){const n={},o=r(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsSource","uris"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function R0(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(n,["fileName"]);a!=null&&c(o,["fileName"],a);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>lT(i,m))),c(o,["requests","requests"],d)}return o}function w0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function I0(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function D0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function U0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function L0(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],P0(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=r(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>b)),c(n,["safetyRatings"],S)}const E=r(i,["urlContextMetadata"]);return E!=null&&c(n,["urlContextMetadata"],E),n}function P0(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function Dh(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>dT(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function k0(i,n){const o={},a=r(i,["displayName"]);if(n!==void 0&&a!=null&&c(n,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function G0(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],b0(C0(u))),o}function Km(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],R0(i,Rh(i,u)));const d=r(n,["config"]);return d!=null&&k0(d,o),o}function H0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],w0(Rh(i,u)));const d=r(n,["config"]);return d!=null&&G0(d,o),o}function q0(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["batch","displayName"],a),o}function B0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],K0(i,u));const d=r(n,["config"]);return d!=null&&q0(d,o),o}function V0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function z0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function O0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function F0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function Y0(i,n){const o={},a=r(n,["contents"]);if(a!=null){let d=Au(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],J0(u,o)),zv(o,{"requests[].*":"requests[].request.*"})),o}function J0(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function K0(i,n){const o={},a=r(n,["fileName"]);a!=null&&c(o,["file_name"],a);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],Y0(i,u)),o}function X0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Q0(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Z0(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function $0(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Dh(ut(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(n,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const S=r(n,["logprobs"]);S!=null&&c(a,["logprobs"],S);const b=r(n,["presencePenalty"]);b!=null&&c(a,["presencePenalty"],b);const B=r(n,["frequencyPenalty"]);B!=null&&c(a,["frequencyPenalty"],B);const H=r(n,["seed"]);H!=null&&c(a,["seed"],H);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Z=r(n,["responseSchema"]);Z!=null&&c(a,["responseSchema"],Nu(Z));const W=r(n,["responseJsonSchema"]);if(W!=null&&c(a,["responseJsonSchema"],W),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=r(n,["safetySettings"]);if(o!==void 0&&j!=null){let q=j;Array.isArray(q)&&(q=q.map(X=>pT(X))),c(o,["safetySettings"],q)}const F=r(n,["tools"]);if(o!==void 0&&F!=null){let q=ol(F);Array.isArray(q)&&(q=q.map(X=>hT(ll(X)))),c(o,["tools"],q)}const K=r(n,["toolConfig"]);if(o!==void 0&&K!=null&&c(o,["toolConfig"],mT(K)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(n,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],gn(i,ne));const I=r(n,["responseModalities"]);I!=null&&c(a,["responseModalities"],I);const de=r(n,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const $=r(n,["speechConfig"]);if($!=null&&c(a,["speechConfig"],bu($)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(n,["thinkingConfig"]);te!=null&&c(a,["thinkingConfig"],te);const se=r(n,["imageConfig"]);se!=null&&c(a,["imageConfig"],iT(se));const le=r(n,["enableEnhancedCivicAnswers"]);return le!=null&&c(a,["enableEnhancedCivicAnswers"],le),a}function W0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>L0(h))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=r(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function j0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function eT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],al(i,a)),o}function tT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function nT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function iT(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function lT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["request","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let g=Gt(u);Array.isArray(g)&&(g=g.map(y=>Dh(y))),c(o,["request","contents"],g)}const d=r(n,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(n,["config"]);return m!=null&&c(o,["request","generationConfig"],$0(i,m,r(o,["request"],{}))),o}function oT(i){const n={},o=r(i,["response"]);o!=null&&c(n,["response"],W0(o));const a=r(i,["error"]);return a!=null&&c(n,["error"],a),n}function aT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function sT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function rT(i){const n={},o=r(i,["config"]);return o!=null&&aT(o,n),n}function uT(i){const n={},o=r(i,["config"]);return o!=null&&sT(o,n),n}function cT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>wa(m))),c(n,["batchJobs"],d)}return n}function fT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>hu(m))),c(n,["batchJobs"],d)}return n}function dT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],X0(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],Q0(m));const g=r(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],I0(y));const h=r(i,["text"]);h!=null&&c(n,["text"],h);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(n,["thoughtSignature"],E);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function pT(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function mT(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],Z0(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function hT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],tT(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],nT(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(mn||(mn={}));class fi{constructor(n,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,u)}init(n,o,a){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(mn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=Km(this.apiClient,n),a=o._url,u=ae("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const b=E.request;b.systemInstruction=S,E.request=b}h.push(E)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(n),m=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(m)a.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=H0(this.apiClient,n);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>hu(v))}else{const h=Km(this.apiClient,n);return g=ae("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>wa(v))}}async createEmbeddingsInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B0(this.apiClient,n);return d=ae("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>wa(y))}}async get(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(this.apiClient,n);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>hu(v))}else{const h=j0(this.apiClient,n);return g=ae("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>wa(v))}}async cancel(n){var o,a,u,d;let m="",g={};if(this.apiClient.isVertexAI()){const y=U0(this.apiClient,n);m=ae("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=D0(this.apiClient,n);m=ae("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=uT(n);return g=ae("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=fT(v),S=new Om;return Object.assign(S,E),S})}else{const h=rT(n);return g=ae("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=cT(v),S=new Om;return Object.assign(S,E),S})}}async delete(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=z0(this.apiClient,n);return g=ae("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>F0(v))}else{const h=V0(this.apiClient,n);return g=ae("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>O0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Xm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>BT(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function vT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let v=Gt(m);Array.isArray(v)&&(v=v.map(E=>Xm(E))),c(n,["contents"],v)}const g=r(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Xm(ut(g)));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>zT(E))),c(n,["tools"],v)}const h=r(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],VT(h)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function TT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let E=Gt(m);Array.isArray(E)&&(E=E.map(S=>S)),c(n,["contents"],E)}const g=r(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],ut(g));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>OT(S))),c(n,["tools"],E)}const h=r(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const v=r(i,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),o}function xT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],xh(i,a));const u=r(n,["config"]);return u!=null&&vT(u,o),o}function ET(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],xh(i,a));const u=r(n,["config"]);return u!=null&&TT(u,o),o}function ST(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function _T(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function CT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function AT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function NT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function bT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function MT(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function RT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function wT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function IT(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],gn(i,a)),o}function DT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function UT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function LT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function PT(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function kT(i){const n={},o=r(i,["config"]);return o!=null&&LT(o,n),n}function GT(i){const n={},o=r(i,["config"]);return o!=null&&PT(o,n),n}function HT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function qT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["cachedContents"],d)}return n}function BT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],NT(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],bT(m));const g=r(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],yT(y));const h=r(i,["text"]);h!=null&&c(n,["text"],h);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(n,["thoughtSignature"],E);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function VT(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],MT(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function zT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],DT(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],UT(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function OT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>RT(S))),c(n,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function FT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function YT(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function JT(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],gn(i,a));const u=r(n,["config"]);return u!=null&&FT(u,o),o}function KT(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],gn(i,a));const u=r(n,["config"]);return u!=null&&YT(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XT extends hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(mn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ET(this.apiClient,n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=xT(this.apiClient,n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=IT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=wT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_T(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=AT(v),S=new Vm;return Object.assign(S,E),S})}else{const h=ST(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=CT(v),S=new Vm;return Object.assign(S,E),S})}}async update(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=KT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=JT(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=GT(n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=qT(v),S=new zm;return Object.assign(S,E),S})}else{const h=kT(n);return g=ae("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=HT(v),S=new zm;return Object.assign(S,E),S})}}}function Qm(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(i){return this instanceof Be?(this.v=i,this):new Be(i)}function nl(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(b){return function(B){return Promise.resolve(B).then(b,E)}}function g(b,B){a[b]&&(u[b]=function(H){return new Promise(function(k,Z){d.push([b,H,k,Z])>1||y(b,H)})},B&&(u[b]=B(u[b])))}function y(b,B){try{h(a[b](B))}catch(H){S(d[0][3],H)}}function h(b){b.value instanceof Be?Promise.resolve(b.value.v).then(v,E):S(d[0][2],b)}function v(b){y("next",b)}function E(b){y("throw",b)}function S(b,B){b(B),d.shift(),d.length&&y(d[0][0],d[0][1])}}function ro(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof Qm=="function"?Qm(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(m){return new Promise(function(g,y){m=i[d](m),u(g,y,m.done,m.value)})}}function u(d,m,g,y){Promise.resolve(y).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Uh(o)}function Uh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function ZT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Zm(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const u=[];let d=!0;for(;a<o&&i[a].role==="model";)u.push(i[a]),d&&!Uh(i[a])&&(d=!1),a++;d?n.push(...u):n.pop()}return n}class $T{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new WT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class WT{constructor(n,o,a,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),ZT(d)}async sendMessage(n){var o;await this.sendPromise;const a=ut(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,g;const y=await u,h=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];v!=null&&(S=(g=v.slice(E))!==null&&g!==void 0?g:[]);const b=h?[h]:[];this.recordHistory(a,b,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const a=ut(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(n=!1){const o=n?Zm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return nl(this,arguments,function*(){var u,d,m,g,y,h;const v=[];try{for(var E=!0,S=ro(n),b;b=yield Be(S.next()),u=b.done,!u;E=!0){g=b.value,E=!1;const B=g;if(QT(B)){const H=(h=(y=B.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;H!==void 0&&v.push(H)}yield yield Be(B)}}catch(B){d={error:B}}finally{try{!E&&!u&&(m=S.return)&&(yield Be(m.call(S)))}finally{if(d)throw d.error}}this.recordHistory(o,v)})}recordHistory(n,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Zm(a)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jT(i){const n={},o=r(i,["file"]);return o!=null&&c(n,["file"],o),n}function ex(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function tx(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Nh(o)),n}function nx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function ix(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Nh(o)),n}function lx(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function ox(i){const n={},o=r(i,["config"]);return o!=null&&lx(o,n),n}function ax(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx extends hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(mn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ox(n);return d=ae("files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=ax(y),v=new f0;return Object.assign(v,h),v})}}async createInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jT(n);return d=ae("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=ex(y),v=new d0;return Object.assign(v,h),v})}}async get(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ix(n);return d=ae("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tx(n);return d=ae("files/{file}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=nx(y),v=new p0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ia(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function rx(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Cx(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function ux(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function cx(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function fx(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function dx(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=r(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const E=r(i,["presencePenalty"]);E!=null&&c(n,["presencePenalty"],E);const S=r(i,["responseLogprobs"]);S!=null&&c(n,["responseLogprobs"],S);const b=r(i,["responseMimeType"]);b!=null&&c(n,["responseMimeType"],b);const B=r(i,["responseModalities"]);B!=null&&c(n,["responseModalities"],B);const H=r(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const k=r(i,["routingConfig"]);k!=null&&c(n,["routingConfig"],k);const Z=r(i,["seed"]);Z!=null&&c(n,["seed"],Z);const W=r(i,["speechConfig"]);W!=null&&c(n,["speechConfig"],Lh(W));const j=r(i,["stopSequences"]);j!=null&&c(n,["stopSequences"],j);const F=r(i,["temperature"]);F!=null&&c(n,["temperature"],F);const K=r(i,["thinkingConfig"]);K!=null&&c(n,["thinkingConfig"],K);const ne=r(i,["topK"]);ne!=null&&c(n,["topK"],ne);const I=r(i,["topP"]);if(I!=null&&c(n,["topP"],I),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function px(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function mx(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function hx(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","speechConfig"],Mu(E));const S=r(i,["thinkingConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","thinkingConfig"],S);const b=r(i,["enableAffectiveDialog"]);n!==void 0&&b!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],b);const B=r(i,["systemInstruction"]);n!==void 0&&B!=null&&c(n,["setup","systemInstruction"],rx(ut(B)));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let ne=ol(H);Array.isArray(ne)&&(ne=ne.map(I=>Nx(ll(I)))),c(n,["setup","tools"],ne)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],Ax(k));const Z=r(i,["inputAudioTranscription"]);n!==void 0&&Z!=null&&c(n,["setup","inputAudioTranscription"],Z);const W=r(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","outputAudioTranscription"],W);const j=r(i,["realtimeInputConfig"]);n!==void 0&&j!=null&&c(n,["setup","realtimeInputConfig"],j);const F=r(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const K=r(i,["proactivity"]);return n!==void 0&&K!=null&&c(n,["setup","proactivity"],K),o}function gx(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],dx(a));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","speechConfig"],Lh(Mu(E)));const S=r(i,["thinkingConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","thinkingConfig"],S);const b=r(i,["enableAffectiveDialog"]);n!==void 0&&b!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],b);const B=r(i,["systemInstruction"]);n!==void 0&&B!=null&&c(n,["setup","systemInstruction"],ut(B));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let ne=ol(H);Array.isArray(ne)&&(ne=ne.map(I=>bx(ll(I)))),c(n,["setup","tools"],ne)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],k);const Z=r(i,["inputAudioTranscription"]);n!==void 0&&Z!=null&&c(n,["setup","inputAudioTranscription"],Z);const W=r(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","outputAudioTranscription"],W);const j=r(i,["realtimeInputConfig"]);n!==void 0&&j!=null&&c(n,["setup","realtimeInputConfig"],j);const F=r(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const K=r(i,["proactivity"]);return n!==void 0&&K!=null&&c(n,["setup","proactivity"],K),o}function yx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],hx(u,o)),o}function vx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],gx(u,o)),o}function Tx(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function xx(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["weightedPrompts"],a)}return n}function Ex(i){const n={},o=r(i,["media"]);if(o!=null){let h=Eh(o);Array.isArray(h)&&(h=h.map(v=>Ia(v))),c(n,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Ia(_h(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Ia(Sh(d)));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const g=r(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function Sx(i){const n={},o=r(i,["media"]);if(o!=null){let h=Eh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(n,["mediaChunks"],h)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],_h(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Sh(d));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const g=r(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=r(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function _x(i){const n={},o=r(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const a=r(i,["serverContent"]);a!=null&&c(n,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const m=r(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],Mx(m));const g=r(i,["goAway"]);g!=null&&c(n,["goAway"],g);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function Cx(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],ux(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],cx(m));const g=r(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],Ia(y));const h=r(i,["text"]);h!=null&&c(n,["text"],h);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(n,["thoughtSignature"],E);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function Ax(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Lh(i){const n={},o=r(i,["voiceConfig"]);o!=null&&c(n,["voiceConfig"],o);const a=r(i,["languageCode"]);if(a!=null&&c(n,["languageCode"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function Nx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],px(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],mx(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function bx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>fx(S))),c(n,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function Mx(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(n,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const m=r(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const g=r(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=r(i,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(B=>B)),c(n,["promptTokensDetails"],b)}const h=r(i,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(B=>B)),c(n,["cacheTokensDetails"],b)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(B=>B)),c(n,["responseTokensDetails"],b)}const E=r(i,["toolUsePromptTokensDetails"]);if(E!=null){let b=E;Array.isArray(b)&&(b=b.map(B=>B)),c(n,["toolUsePromptTokensDetails"],b)}const S=r(i,["trafficType"]);return S!=null&&c(n,["trafficType"],S),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rx(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function wx(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],Ix(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=r(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=r(i,["index"]);y!=null&&c(n,["index"],y);const h=r(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=r(i,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>b)),c(n,["safetyRatings"],S)}const E=r(i,["urlContextMetadata"]);return E!=null&&c(n,["urlContextMetadata"],E),n}function Ix(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function Dx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let d=Gt(u);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function Ux(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function Lx(i){const n={},o=r(i,["values"]);o!=null&&c(n,["values"],o);const a=r(i,["statistics"]);return a!=null&&c(n,["statistics"],Px(a)),n}function Px(i){const n={},o=r(i,["truncated"]);o!=null&&c(n,["truncated"],o);const a=r(i,["token_count"]);return a!=null&&c(n,["tokenCount"],a),n}function Ba(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>FE(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function kx(i){const n={},o=r(i,["controlType"]);o!=null&&c(n,["controlType"],o);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(n,["computeControl"],a),n}function Gx(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Hx(i,n){const o={},a=r(i,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],ut(a));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>qh(g))),c(n,["tools"],m)}const d=r(i,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],RE(d)),o}function qx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>Ba(g))),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&Gx(d),o}function Bx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&Hx(d,o),o}function Vx(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);a!=null&&c(n,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function zx(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);return a!=null&&c(n,["totalTokens"],a),n}function Ox(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function Fx(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function Yx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Jx(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Kx(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=r(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const E=r(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const S=r(i,["includeRaiReason"]);n!==void 0&&S!=null&&c(n,["parameters","includeRaiReason"],S);const b=r(i,["language"]);n!==void 0&&b!=null&&c(n,["parameters","language"],b);const B=r(i,["outputMimeType"]);n!==void 0&&B!=null&&c(n,["parameters","outputOptions","mimeType"],B);const H=r(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const k=r(i,["addWatermark"]);n!==void 0&&k!=null&&c(n,["parameters","addWatermark"],k);const Z=r(i,["labels"]);n!==void 0&&Z!=null&&c(n,["labels"],Z);const W=r(i,["editMode"]);n!==void 0&&W!=null&&c(n,["parameters","editMode"],W);const j=r(i,["baseSteps"]);return n!==void 0&&j!=null&&c(n,["parameters","editConfig","baseSteps"],j),o}function Xx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>ZE(y))),c(o,["instances[0]","referenceImages"],g)}const m=r(n,["config"]);return m!=null&&Kx(m,o),o}function Qx(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Va(d))),c(n,["generatedImages"],u)}return n}function Zx(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function $x(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["instances[]","task_type"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const m=r(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const g=r(i,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),o}function Wx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let g=Au(i,u);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const d=r(n,["config"]);d!=null&&Zx(d,o);const m=r(n,["model"]);return m!==void 0&&c(o,["requests[]","model"],we(i,m)),o}function jx(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let m=Au(i,u);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["instances[]","content"],m)}const d=r(n,["config"]);return d!=null&&$x(d,o),o}function eE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function tE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Lx(m))),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function nE(i){const n={},o=r(i,["endpoint"]);o!=null&&c(n,["name"],o);const a=r(i,["deployedModelId"]);return a!=null&&c(n,["deployedModelId"],a),n}function iE(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function lE(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function oE(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function aE(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(n,["response"],m);const g=r(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function sE(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Ba(ut(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(n,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const S=r(n,["logprobs"]);S!=null&&c(a,["logprobs"],S);const b=r(n,["presencePenalty"]);b!=null&&c(a,["presencePenalty"],b);const B=r(n,["frequencyPenalty"]);B!=null&&c(a,["frequencyPenalty"],B);const H=r(n,["seed"]);H!=null&&c(a,["seed"],H);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Z=r(n,["responseSchema"]);Z!=null&&c(a,["responseSchema"],Nu(Z));const W=r(n,["responseJsonSchema"]);if(W!=null&&c(a,["responseJsonSchema"],W),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const j=r(n,["safetySettings"]);if(o!==void 0&&j!=null){let q=j;Array.isArray(q)&&(q=q.map(X=>$E(X))),c(o,["safetySettings"],q)}const F=r(n,["tools"]);if(o!==void 0&&F!=null){let q=ol(F);Array.isArray(q)&&(q=q.map(X=>lS(ll(X)))),c(o,["tools"],q)}const K=r(n,["toolConfig"]);if(o!==void 0&&K!=null&&c(o,["toolConfig"],iS(K)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(n,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],gn(i,ne));const I=r(n,["responseModalities"]);I!=null&&c(a,["responseModalities"],I);const de=r(n,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const $=r(n,["speechConfig"]);if($!=null&&c(a,["speechConfig"],bu($)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=r(n,["thinkingConfig"]);te!=null&&c(a,["thinkingConfig"],te);const se=r(n,["imageConfig"]);se!=null&&c(a,["imageConfig"],LE(se));const le=r(n,["enableEnhancedCivicAnswers"]);return le!=null&&c(a,["enableEnhancedCivicAnswers"],le),a}function rE(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],ut(u));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(n,["topP"]);m!=null&&c(a,["topP"],m);const g=r(n,["topK"]);g!=null&&c(a,["topK"],g);const y=r(n,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=r(n,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=r(n,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=r(n,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const S=r(n,["logprobs"]);S!=null&&c(a,["logprobs"],S);const b=r(n,["presencePenalty"]);b!=null&&c(a,["presencePenalty"],b);const B=r(n,["frequencyPenalty"]);B!=null&&c(a,["frequencyPenalty"],B);const H=r(n,["seed"]);H!=null&&c(a,["seed"],H);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Z=r(n,["responseSchema"]);Z!=null&&c(a,["responseSchema"],Nu(Z));const W=r(n,["responseJsonSchema"]);W!=null&&c(a,["responseJsonSchema"],W);const j=r(n,["routingConfig"]);j!=null&&c(a,["routingConfig"],j);const F=r(n,["modelSelectionConfig"]);F!=null&&c(a,["modelConfig"],F);const K=r(n,["safetySettings"]);if(o!==void 0&&K!=null){let N=K;Array.isArray(N)&&(N=N.map(M=>M)),c(o,["safetySettings"],N)}const ne=r(n,["tools"]);if(o!==void 0&&ne!=null){let N=ol(ne);Array.isArray(N)&&(N=N.map(M=>qh(ll(M)))),c(o,["tools"],N)}const I=r(n,["toolConfig"]);o!==void 0&&I!=null&&c(o,["toolConfig"],I);const de=r(n,["labels"]);o!==void 0&&de!=null&&c(o,["labels"],de);const $=r(n,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],gn(i,$));const te=r(n,["responseModalities"]);te!=null&&c(a,["responseModalities"],te);const se=r(n,["mediaResolution"]);se!=null&&c(a,["mediaResolution"],se);const le=r(n,["speechConfig"]);le!=null&&c(a,["speechConfig"],Hh(bu(le)));const q=r(n,["audioTimestamp"]);q!=null&&c(a,["audioTimestamp"],q);const X=r(n,["thinkingConfig"]);X!=null&&c(a,["thinkingConfig"],X);const Q=r(n,["imageConfig"]);if(Q!=null&&c(a,["imageConfig"],PE(Q)),r(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function $m(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>Ba(g))),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],sE(i,d,o)),o}function Wm(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["contents"]);if(u!=null){let m=Gt(u);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],rE(i,d,o)),o}function jm(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>wx(h))),c(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=r(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function eh(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(n,["candidates"],h)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const m=r(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const g=r(i,["responseId"]);g!=null&&c(n,["responseId"],g);const y=r(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function uE(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const g=r(i,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=r(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=r(i,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const v=r(i,["language"]);n!==void 0&&v!=null&&c(n,["parameters","language"],v);const E=r(i,["outputMimeType"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","mimeType"],E);const S=r(i,["outputCompressionQuality"]);if(n!==void 0&&S!=null&&c(n,["parameters","outputOptions","compressionQuality"],S),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=r(i,["imageSize"]);if(n!==void 0&&b!=null&&c(n,["parameters","sampleImageSize"],b),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function cE(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=r(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const E=r(i,["includeSafetyAttributes"]);n!==void 0&&E!=null&&c(n,["parameters","includeSafetyAttributes"],E);const S=r(i,["includeRaiReason"]);n!==void 0&&S!=null&&c(n,["parameters","includeRaiReason"],S);const b=r(i,["language"]);n!==void 0&&b!=null&&c(n,["parameters","language"],b);const B=r(i,["outputMimeType"]);n!==void 0&&B!=null&&c(n,["parameters","outputOptions","mimeType"],B);const H=r(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const k=r(i,["addWatermark"]);n!==void 0&&k!=null&&c(n,["parameters","addWatermark"],k);const Z=r(i,["labels"]);n!==void 0&&Z!=null&&c(n,["labels"],Z);const W=r(i,["imageSize"]);n!==void 0&&W!=null&&c(n,["parameters","sampleImageSize"],W);const j=r(i,["enhancePrompt"]);return n!==void 0&&j!=null&&c(n,["parameters","enhancePrompt"],j),o}function fE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&uE(d,o),o}function dE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&cE(d,o),o}function pE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>AE(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],kh(u)),n}function mE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Va(m))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Gh(u)),n}function hE(i,n){const o={},a=r(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const m=r(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const g=r(i,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=r(i,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);n!==void 0&&v!=null&&c(n,["instances[0]","lastFrame"],za(v));const E=r(i,["referenceImages"]);if(n!==void 0&&E!=null){let S=E;Array.isArray(S)&&(S=S.map(b=>yS(b))),c(n,["instances[0]","referenceImages"],S)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function gE(i,n){const o={},a=r(i,["numberOfVideos"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(i,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const m=r(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const g=r(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=r(i,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=r(i,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const v=r(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const E=r(i,["pubsubTopic"]);n!==void 0&&E!=null&&c(n,["parameters","pubsubTopic"],E);const S=r(i,["negativePrompt"]);n!==void 0&&S!=null&&c(n,["parameters","negativePrompt"],S);const b=r(i,["enhancePrompt"]);n!==void 0&&b!=null&&c(n,["parameters","enhancePrompt"],b);const B=r(i,["generateAudio"]);n!==void 0&&B!=null&&c(n,["parameters","generateAudio"],B);const H=r(i,["lastFrame"]);n!==void 0&&H!=null&&c(n,["instances[0]","lastFrame"],Ot(H));const k=r(i,["referenceImages"]);if(n!==void 0&&k!=null){let j=k;Array.isArray(j)&&(j=j.map(F=>vS(F))),c(n,["instances[0]","referenceImages"],j)}const Z=r(i,["mask"]);n!==void 0&&Z!=null&&c(n,["instances[0]","mask"],gS(Z));const W=r(i,["compressionQuality"]);return n!==void 0&&W!=null&&c(n,["parameters","compressionQuality"],W),o}function yE(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],EE(m)),n}function vE(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],SE(m)),n}function TE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],za(d));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],Bh(m));const g=r(n,["source"]);g!=null&&_E(g,o);const y=r(n,["config"]);return y!=null&&hE(y,o),o}function xE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],Ot(d));const m=r(n,["video"]);m!=null&&c(o,["instances[0]","video"],Vh(m));const g=r(n,["source"]);g!=null&&CE(g,o);const y=r(n,["config"]);return y!=null&&gE(y,o),o}function EE(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>bE(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function SE(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>ME(m))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function _E(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],za(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Bh(d)),o}function CE(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ot(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Vh(d)),o}function AE(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],kE(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],kh(u)),n}function Va(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],Ph(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],Gh(u));const d=r(i,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function NE(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["mask"],Ph(o));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function bE(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],mS(o)),n}function ME(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],hS(o)),n}function RE(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=r(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=r(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=r(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=r(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const E=r(i,["presencePenalty"]);E!=null&&c(n,["presencePenalty"],E);const S=r(i,["responseLogprobs"]);S!=null&&c(n,["responseLogprobs"],S);const b=r(i,["responseMimeType"]);b!=null&&c(n,["responseMimeType"],b);const B=r(i,["responseModalities"]);B!=null&&c(n,["responseModalities"],B);const H=r(i,["responseSchema"]);H!=null&&c(n,["responseSchema"],H);const k=r(i,["routingConfig"]);k!=null&&c(n,["routingConfig"],k);const Z=r(i,["seed"]);Z!=null&&c(n,["seed"],Z);const W=r(i,["speechConfig"]);W!=null&&c(n,["speechConfig"],Hh(W));const j=r(i,["stopSequences"]);j!=null&&c(n,["stopSequences"],j);const F=r(i,["temperature"]);F!=null&&c(n,["temperature"],F);const K=r(i,["thinkingConfig"]);K!=null&&c(n,["thinkingConfig"],K);const ne=r(i,["topK"]);ne!=null&&c(n,["topK"],ne);const I=r(i,["topP"]);if(I!=null&&c(n,["topP"],I),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function wE(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function IE(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],we(i,a)),o}function DE(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function UE(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function LE(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function PE(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);a!=null&&c(n,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(n,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(n,["imageOutputOptions","compressionQuality"],d),n}function kE(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],On(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Ph(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["imageBytes"],On(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function za(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],On(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function Ot(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["imageBytes"]);a!=null&&c(n,["bytesBase64Encoded"],On(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function GE(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=r(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],bh(i,g)),a}function HE(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=r(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],bh(i,g)),a}function qE(i,n){const o={},a=r(n,["config"]);return a!=null&&GE(i,a,o),o}function BE(i,n){const o={},a=r(n,["config"]);return a!=null&&HE(i,a,o),o}function VE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Mh(u);Array.isArray(d)&&(d=d.map(m=>gu(m))),c(n,["models"],d)}return n}function zE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=Mh(u);Array.isArray(d)&&(d=d.map(m=>yu(m))),c(n,["models"],d)}return n}function OE(i){const n={},o=r(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const a=r(i,["segmentationClasses"]);a!=null&&c(n,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function gu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["version"]);d!=null&&c(n,["version"],d);const m=r(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],oS(m));const g=r(i,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=r(i,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=r(i,["supportedGenerationMethods"]);h!=null&&c(n,["supportedActions"],h);const v=r(i,["temperature"]);v!=null&&c(n,["temperature"],v);const E=r(i,["maxTemperature"]);E!=null&&c(n,["maxTemperature"],E);const S=r(i,["topP"]);S!=null&&c(n,["topP"],S);const b=r(i,["topK"]);b!=null&&c(n,["topK"],b);const B=r(i,["thinking"]);return B!=null&&c(n,["thinking"],B),n}function yu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["versionId"]);d!=null&&c(n,["version"],d);const m=r(i,["deployedModels"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(S=>nE(S))),c(n,["endpoints"],E)}const g=r(i,["labels"]);g!=null&&c(n,["labels"],g);const y=r(i,["_self"]);y!=null&&c(n,["tunedModelInfo"],aS(y));const h=r(i,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const v=r(i,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>S)),c(n,["checkpoints"],E)}return n}function FE(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],iE(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],lE(m));const g=r(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],Rx(y));const h=r(i,["text"]);h!=null&&c(n,["text"],h);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(n,["thoughtSignature"],E);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function YE(i){const n={},o=r(i,["productImage"]);return o!=null&&c(n,["image"],Ot(o)),n}function JE(i,n){const o={},a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const m=r(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=r(i,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const v=r(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const E=r(i,["outputCompressionQuality"]);n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E);const S=r(i,["enhancePrompt"]);n!==void 0&&S!=null&&c(n,["parameters","enhancePrompt"],S);const b=r(i,["labels"]);return n!==void 0&&b!=null&&c(n,["labels"],b),o}function KE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["source"]);u!=null&&QE(u,o);const d=r(n,["config"]);return d!=null&&JE(d,o),o}function XE(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Va(u))),c(n,["generatedImages"],a)}return n}function QE(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],Ot(u));const d=r(i,["productImages"]);if(n!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>YE(g))),c(n,["instances[0]","productImages"],m)}return o}function ZE(i){const n={},o=r(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],Ot(o));const a=r(i,["referenceId"]);a!=null&&c(n,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],OE(d));const m=r(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],kx(m));const g=r(i,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=r(i,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function kh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Gh(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function $E(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function WE(i){const n={},o=r(i,["image"]);return o!=null&&c(n,["image"],Ot(o)),n}function jE(i,n){const o={},a=r(i,["mode"]);n!==void 0&&a!=null&&c(n,["parameters","mode"],a);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const m=r(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const g=r(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=r(i,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),o}function eS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["source"]);u!=null&&nS(u,o);const d=r(n,["config"]);return d!=null&&jE(d,o),o}function tS(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>NE(u))),c(n,["generatedMasks"],a)}return n}function nS(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ot(u));const d=r(i,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],WE(d)),o}function Hh(i){const n={},o=r(i,["voiceConfig"]);o!=null&&c(n,["voiceConfig"],o);const a=r(i,["languageCode"]);if(a!=null&&c(n,["languageCode"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function iS(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],oE(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function lS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],DE(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],UE(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function qh(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>aE(S))),c(n,["functionDeclarations"],E)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=r(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=r(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=r(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=r(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function oS(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function aS(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function sS(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function rS(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function uS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","name"],we(i,a));const u=r(n,["config"]);return u!=null&&sS(u,o),o}function cS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["config"]);return u!=null&&rS(u,o),o}function fS(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&c(n,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const m=r(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const g=r(i,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=r(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=r(i,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const v=r(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=r(i,["labels"]);n!==void 0&&E!=null&&c(n,["labels"],E);const S=r(i,["numberOfImages"]);n!==void 0&&S!=null&&c(n,["parameters","sampleCount"],S);const b=r(i,["mode"]);return n!==void 0&&b!=null&&c(n,["parameters","mode"],b),o}function dS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],we(i,a));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],Ot(u));const d=r(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(n,["config"]);return m!=null&&fS(m,o),o}function pS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Va(d))),c(n,["generatedImages"],u)}return n}function mS(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],On(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function hS(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],On(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function gS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["_self"],Ot(o));const a=r(i,["maskMode"]);return a!=null&&c(n,["maskMode"],a),n}function yS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],za(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function vS(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Ot(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function Bh(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["encodedVideo"],On(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function Vh(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["bytesBase64Encoded"],On(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["displayName"],a),o}function xS(i){const n={},o=r(i,["config"]);return o!=null&&TS(o,n),n}function ES(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function SS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&ES(a,n),n}function _S(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function CS(i,n){const o={},a=r(i,["customMetadata"]);if(n!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return n!==void 0&&u!=null&&c(n,["chunkingConfig"],u),o}function AS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const m=r(i,["response"]);return m!=null&&c(n,["response"],bS(m)),n}function NS(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["fileName"]);a!=null&&c(n,["fileName"],a);const u=r(i,["config"]);return u!=null&&CS(u,n),n}function bS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function MS(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function RS(i){const n={},o=r(i,["config"]);return o!=null&&MS(o,n),n}function wS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["fileSearchStores"],d)}return n}function zh(i,n){const o={},a=r(i,["mimeType"]);n!==void 0&&a!=null&&c(n,["mimeType"],a);const u=r(i,["displayName"]);n!==void 0&&u!=null&&c(n,["displayName"],u);const d=r(i,["customMetadata"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const m=r(i,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),o}function IS(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["config"]);return a!=null&&zh(a,n),n}function DS(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const US="Content-Type",LS="X-Server-Timeout",PS="User-Agent",vu="x-goog-api-client",kS="1.32.0",GS=`google-genai-sdk/${kS}`,HS="v1beta1",qS="v1beta";class BS{constructor(n){var o,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:HS,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:qS,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))u.searchParams.append(m,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,u){if(o&&o.timeout||u){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=m}return o&&o.extraBody!==null&&VS(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await th(u),new pu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await th(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){return nl(this,arguments,function*(){var a;const u=(a=n==null?void 0:n.body)===null||a===void 0?void 0:a.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield Be(u.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=d.decode(v,{stream:!0});try{const B=JSON.parse(E);if("error"in B){const H=JSON.parse(JSON.stringify(B.error)),k=H.status,Z=H.code,W=`got status: ${k}. ${JSON.stringify(B)}`;if(Z>=400&&Z<600)throw new qa({message:W,status:Z})}}catch(B){if(B.name==="ApiError")throw B}m+=E;let S=-1,b=0;for(;;){S=-1,b=0;for(const k of y){const Z=m.indexOf(k);Z!==-1&&(S===-1||Z<S)&&(S=Z,b=k.length)}if(S===-1)break;const B=m.substring(0,S);m=m.substring(S+b);const H=B.trim();if(H.startsWith(g)){const k=H.substring(g.length).trim();try{const Z=new Response(k,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Be(new pu(Z))}catch(Z){throw new Error(`exception parsing stream chunk ${k}. ${Z}`)}}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=GS+" "+this.clientOptions.userAgentExtra;return n[PS]=o,n[vu]=o,n[US]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))a.append(u,d);n.timeout&&n.timeout>0&&a.append(LS,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(n){var o;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(n,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(n);u.sizeBytes=String(m.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=g;const y={file:u},h=this.getFileName(n),v=ae("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,h,y,o==null?void 0:o.httpOptions);return d.upload(n,E,this)}async uploadFileToFileSearchStore(n,o,a){var u;const d=this.clientOptions.uploader,m=await d.stat(o),g=String(m.size),y=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),E={};a!=null&&zh(a,E);const S=await this.fetchUploadUrl(h,g,y,v,E,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,S,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,a,u,d,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const h=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function th(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new qa({message:u,status:o}):new Error(u)}}function VS(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const g=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const u=a(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zS="mcp_used/unknown";let OS=!1;function Oh(i){for(const n of i)if(FS(n)||typeof n=="object"&&"inputSchema"in n)return!0;return OS}function Fh(i){var n;const o=(n=i[vu])!==null&&n!==void 0?n:"";i[vu]=(o+` ${zS}`).trimStart()}function FS(i){return i!==null&&typeof i=="object"&&i instanceof Ru}function YS(i){return nl(this,arguments,function*(o,a=100){let u,d=0;for(;d<a;){const m=yield Be(o.listTools({cursor:u}));for(const g of m.tools)yield yield Be(g),d++;if(!m.nextCursor)break;u=m.nextCursor}})}class Ru{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Ru(n,o)}async initialize(){var n,o,a,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,ro(YS(v))),h;h=await y.next(),n=h.done,!n;g=!0){u=h.value,g=!1;const E=u;m.push(E);const S=E.name;if(d[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);d[S]=v}}catch(E){o={error:E}}finally{try{!g&&!n&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),_0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JS(i,n,o){const a=new h0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),n(a)}class KS{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=ZS(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(j=>{h=j}),E=n.callbacks,S=function(){h({})},b=this.apiClient,B={onopen:S,onmessage:j=>{JS(b,E.onmessage,j)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(j){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(j){}},H=this.webSocketFactory.create(y,QS(m),B);H.connect(),await v;const W={setup:{model:we(this.apiClient,n.model)}};return H.send(JSON.stringify(W)),new XS(H,this.apiClient)}}class XS{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=xx(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=Tx(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(el.PLAY)}pause(){this.sendPlaybackControl(el.PAUSE)}stop(){this.sendPlaybackControl(el.STOP)}resetContext(){this.sendPlaybackControl(el.RESET_CONTEXT)}close(){this.conn.close()}}function QS(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function ZS(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $S="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WS(i,n,o){const a=new m0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const m=_x(d);Object.assign(a,m)}else Object.assign(a,d);n(a)}class jS{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new KS(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,u,d,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();n.config&&n.config.tools&&Oh(n.config.tools)&&Fh(E);const S=i_(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const $=this.apiClient.getApiKey();let te="BidiGenerateContent",se="key";$!=null&&$.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",se="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${te}?${se}=${$}`}let b=()=>{};const B=new Promise($=>{b=$}),H=n.callbacks,k=function(){var $;($=H==null?void 0:H.onopen)===null||$===void 0||$.call(H),b({})},Z=this.apiClient,W={onopen:k,onmessage:$=>{WS(Z,H.onmessage,$)},onerror:(o=H==null?void 0:H.onerror)!==null&&o!==void 0?o:function($){},onclose:(a=H==null?void 0:H.onclose)!==null&&a!==void 0?a:function($){}},j=this.webSocketFactory.create(v,n_(S),W);j.connect(),await B;let F=we(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const $=this.apiClient.getProject(),te=this.apiClient.getLocation();F=`projects/${$}/locations/${te}/`+F}let K={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Pa.AUDIO]}:n.config.responseModalities=[Pa.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],I=[];for(const $ of ne)if(this.isCallableTool($)){const te=$;I.push(await te.tool())}else I.push($);I.length>0&&(n.config.tools=I);const de={model:F,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?K=vx(this.apiClient,de):K=yx(this.apiClient,de),delete K.config,j.send(JSON.stringify(K)),new t_(j,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const e_={turnComplete:!0};class t_{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Gt(o.turns),n.isVertexAI()||(a=a.map(u=>Ba(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error($S)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},e_),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Sx(n)}:o={realtimeInput:Ex(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function n_(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function i_(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nh=10;function ih(i){var n,o,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(il(m)){u=!0;break}if(!u)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function il(i){return"callTool"in i&&typeof i.callTool=="function"}function l_(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>il(u)))!==null&&a!==void 0?a:!1}function lh(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,u)=>{if(il(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function oh(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o_ extends hn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,u,d,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!l_(o)||ih(o.config))return await this.generateContentInternal(y);const h=lh(o);if(h.length>0){const H=h.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,E;const S=Gt(y.contents),b=(d=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:nh;let B=0;for(;B<b&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,k=[];for(const Z of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(il(Z)){const j=await Z.callTool(v.functionCalls);k.push(...j)}B++,E={role:"user",parts:k},y.contents=Gt(y.contents),y.contents.push(H),y.contents.push(E),oh(y.config)&&(S.push(H),S.push(E))}return oh(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var a,u,d,m,g;if(this.maybeMoveToResponseJsonSchem(o),ih(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=lh(o);if(y.length>0){const E=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(u=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(g=(m=o==null?void 0:o.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new fi(mn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const m=await Promise.all(d.map(async y=>il(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&Oh(n.config.tools)){const y=(u=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Fh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,a,u;const d=new Map;for(const m of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(il(m)){const g=m,y=await g.tool();for(const h of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,a,u;const d=(u=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:nh;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,E){return nl(this,arguments,function*(){for(var S,b,B,H,k,Z;g<d;){m&&(g++,m=!1);const K=yield Be(h.processParamsMaybeAddMcpUsage(E)),ne=yield Be(h.generateContentStreamInternal(K)),I=[],de=[];try{for(var W=!0,j=(b=void 0,ro(ne)),F;F=yield Be(j.next()),S=F.done,!S;W=!0){H=F.value,W=!1;const $=H;if(yield yield Be($),$.candidates&&(!((k=$.candidates[0])===null||k===void 0)&&k.content)){de.push($.candidates[0].content);for(const te of(Z=$.candidates[0].content.parts)!==null&&Z!==void 0?Z:[])if(g<d&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(te.functionCall.name)){const se=yield Be(v.get(te.functionCall.name).callTool([te.functionCall]));I.push(...se)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch($){b={error:$}}finally{try{!W&&!S&&(B=j.return)&&(yield Be(B.call(j)))}finally{if(b)throw b.error}}if(I.length>0){m=!0;const $=new oo;$.candidates=[{content:{role:"user",parts:I}}],yield yield Be($);const te=[];te.push(...de),te.push({role:"user",parts:I});const se=Gt(E.contents).concat(te);E.contents=se}else break}})})(this,y,n)}async generateContentInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Wm(this.apiClient,n);return g=ae("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=eh(v),S=new oo;return Object.assign(S,E),S})}else{const h=$m(this.apiClient,n);return g=ae("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=jm(v),S=new oo;return Object.assign(S,E),S})}}async generateContentStreamInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Wm(this.apiClient,n);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(E){return nl(this,arguments,function*(){var S,b,B,H;try{for(var k=!0,Z=ro(E),W;W=yield Be(Z.next()),S=W.done,!S;k=!0){H=W.value,k=!1;const j=H,F=eh(yield Be(j.json()));F.sdkHttpResponse={headers:j.headers};const K=new oo;Object.assign(K,F),yield yield Be(K)}}catch(j){b={error:j}}finally{try{!k&&!S&&(B=Z.return)&&(yield Be(B.call(Z)))}finally{if(b)throw b.error}}})})}else{const h=$m(this.apiClient,n);return g=ae("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(E){return nl(this,arguments,function*(){var S,b,B,H;try{for(var k=!0,Z=ro(E),W;W=yield Be(Z.next()),S=W.done,!S;k=!0){H=W.value,k=!1;const j=H,F=jm(yield Be(j.json()));F.sdkHttpResponse={headers:j.headers};const K=new oo;Object.assign(K,F),yield yield Be(K)}}catch(j){b={error:j}}finally{try{!k&&!S&&(B=Z.return)&&(yield Be(B.call(Z)))}finally{if(b)throw b.error}}})})}}async embedContent(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=jx(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=tE(v),S=new Lm;return Object.assign(S,E),S})}else{const h=Wx(this.apiClient,n);return g=ae("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=eE(v),S=new Lm;return Object.assign(S,E),S})}}async generateImagesInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dE(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=mE(v),S=new Pm;return Object.assign(S,E),S})}else{const h=fE(this.apiClient,n);return g=ae("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=pE(v),S=new Pm;return Object.assign(S,E),S})}}async editImageInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Xx(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Qx(y),v=new i0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=dS(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=pS(y),v=new l0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=KE(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=XE(y),v=new o0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=eS(this.apiClient,n);return d=ae("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=tS(y),v=new a0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}else{const h=wE(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>gu(v))}}async listInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BE(this.apiClient,n);return g=ae("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=zE(v),S=new km;return Object.assign(S,E),S})}else{const h=qE(this.apiClient,n);return g=ae("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=VE(v),S=new km;return Object.assign(S,E),S})}}async update(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cS(this.apiClient,n);return g=ae("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}else{const h=uS(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>gu(v))}}async delete(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Fx(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=Jx(v),S=new Gm;return Object.assign(S,E),S})}else{const h=Ox(this.apiClient,n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=Yx(v),S=new Gm;return Object.assign(S,E),S})}}async countTokens(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Bx(this.apiClient,n);return g=ae("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=zx(v),S=new Hm;return Object.assign(S,E),S})}else{const h=qx(this.apiClient,n);return g=ae("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=Vx(v),S=new Hm;return Object.assign(S,E),S})}}async computeTokens(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Dx(this.apiClient,n);return d=ae("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const h=Ux(y),v=new s0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,n);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const E=vE(v),S=new ka;return Object.assign(S,E),S})}else{const h=TE(this.apiClient,n);return g=ae("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const E=yE(v),S=new ka;return Object.assign(S,E),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends hn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$v(n);return g=ae("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const h=Zv(n);return g=ae("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=Ov(n);return d=ae("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function r_(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>y_(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function u_(i,n,o){const a={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=r(n,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const g=r(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],g_(i,g));const y=r(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function c_(i,n){const o={},a=r(n,["config"]);return a!=null&&c(o,["config"],u_(i,a,o)),o}function f_(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function d_(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function p_(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function m_(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function h_(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=r(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=r(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=r(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const E=r(i,["speechConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","speechConfig"],Mu(E));const S=r(i,["thinkingConfig"]);n!==void 0&&S!=null&&c(n,["setup","generationConfig","thinkingConfig"],S);const b=r(i,["enableAffectiveDialog"]);n!==void 0&&b!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],b);const B=r(i,["systemInstruction"]);n!==void 0&&B!=null&&c(n,["setup","systemInstruction"],r_(ut(B)));const H=r(i,["tools"]);if(n!==void 0&&H!=null){let ne=ol(H);Array.isArray(ne)&&(ne=ne.map(I=>T_(ll(I)))),c(n,["setup","tools"],ne)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],v_(k));const Z=r(i,["inputAudioTranscription"]);n!==void 0&&Z!=null&&c(n,["setup","inputAudioTranscription"],Z);const W=r(i,["outputAudioTranscription"]);n!==void 0&&W!=null&&c(n,["setup","outputAudioTranscription"],W);const j=r(i,["realtimeInputConfig"]);n!==void 0&&j!=null&&c(n,["setup","realtimeInputConfig"],j);const F=r(i,["contextWindowCompression"]);n!==void 0&&F!=null&&c(n,["setup","contextWindowCompression"],F);const K=r(i,["proactivity"]);return n!==void 0&&K!=null&&c(n,["setup","proactivity"],K),o}function g_(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],we(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],h_(u,o)),o}function y_(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],f_(d));const m=r(i,["functionCall"]);m!=null&&c(n,["functionCall"],d_(m));const g=r(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const y=r(i,["inlineData"]);y!=null&&c(n,["inlineData"],s_(y));const h=r(i,["text"]);h!=null&&c(n,["text"],h);const v=r(i,["thought"]);v!=null&&c(n,["thought"],v);const E=r(i,["thoughtSignature"]);E!=null&&c(n,["thoughtSignature"],E);const S=r(i,["videoMetadata"]);return S!=null&&c(n,["videoMetadata"],S),n}function v_(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function T_(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(E=>E)),c(n,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],p_(g));const y=r(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],m_(y));const h=r(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function E_(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=x_(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];u.length>0&&(g=u.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];d&&y.push(d),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class S_ extends hn{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=c_(this.apiClient,n);d=ae("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=E_(g,n.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),u.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function C_(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&__(a,n),n}function A_(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function N_(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function b_(i){const n={},o=r(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const a=r(i,["config"]);return a!=null&&N_(a,n),n}function M_(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(n,["documents"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R_ extends hn{constructor(n){super(),this.apiClient=n,this.list=async o=>new fi(mn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=A_(n);return d=ae("{name}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=C_(n);u=ae("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=b_(n);return d=ae("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=M_(y),v=new r0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_ extends hn{constructor(n,o=new R_(n)){super(),this.apiClient=n,this.documents=o,this.list=async(a={})=>new fi(mn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xS(n);return d=ae("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(n);return d=ae("{name}",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=SS(n);u=ae("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RS(n);return d=ae("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=wS(y),v=new u0;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(n);return d=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=DS(y),v=new c0;return Object.assign(v,h),v})}}async importFile(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NS(n);return d=ae("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const h=AS(y),v=new _u;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function D_(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function U_(i,n){const o={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function L_(i,n){const o={},a=r(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function P_(i,n,o){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&c(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const m=r(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=r(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=r(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function k_(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const b=r(i,["validationDataset"]);n!==void 0&&b!=null&&c(n,["supervisedTuningSpec"],ah(b))}else if(u==="PREFERENCE_TUNING"){const b=r(i,["validationDataset"]);n!==void 0&&b!=null&&c(n,["preferenceOptimizationSpec"],ah(b))}const d=r(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const m=r(i,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=r(i,["epochCount"]);n!==void 0&&b!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=r(i,["epochCount"]);n!==void 0&&b!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let y=r(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const b=r(i,["learningRateMultiplier"]);n!==void 0&&b!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(y==="PREFERENCE_TUNING"){const b=r(i,["learningRateMultiplier"]);n!==void 0&&b!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=r(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=r(i,["exportLastCheckpointOnly"]);n!==void 0&&b!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=r(i,["exportLastCheckpointOnly"]);n!==void 0&&b!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let v=r(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const b=r(i,["adapterSize"]);n!==void 0&&b!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(v==="PREFERENCE_TUNING"){const b=r(i,["adapterSize"]);n!==void 0&&b!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=r(i,["labels"]);n!==void 0&&E!=null&&c(n,["labels"],E);const S=r(i,["beta"]);return n!==void 0&&S!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],S),a}function G_(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&X_(d);const m=r(i,["config"]);return m!=null&&P_(m,o),o}function H_(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&Q_(d,o,n);const m=r(i,["config"]);return m!=null&&k_(m,o,n),o}function q_(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function B_(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function V_(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function z_(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const m=r(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),a}function O_(i,n){const o={},a=r(i,["config"]);return a!=null&&V_(a,o),o}function F_(i,n){const o={},a=r(i,["config"]);return a!=null&&z_(a,o),o}function Y_(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Yh(g))),c(o,["tuningJobs"],m)}return o}function J_(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Tu(g))),c(o,["tuningJobs"],m)}return o}function K_(i,n){const o={},a=r(i,["name"]);a!=null&&c(o,["model"],a);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function X_(i,n){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function Q_(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=r(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=r(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Yh(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Ah(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=r(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=r(i,["description"]);v!=null&&c(o,["description"],v);const E=r(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const S=r(i,["_self"]);return S!=null&&c(o,["tunedModel"],K_(S)),o}function Tu(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Ah(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=r(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=r(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=r(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=r(i,["error"]);v!=null&&c(o,["error"],v);const E=r(i,["description"]);E!=null&&c(o,["description"],E);const S=r(i,["baseModel"]);S!=null&&c(o,["baseModel"],S);const b=r(i,["tunedModel"]);b!=null&&c(o,["tunedModel"],b);const B=r(i,["preTunedModel"]);B!=null&&c(o,["preTunedModel"],B);const H=r(i,["supervisedTuningSpec"]);H!=null&&c(o,["supervisedTuningSpec"],H);const k=r(i,["preferenceOptimizationSpec"]);k!=null&&c(o,["preferenceOptimizationSpec"],k);const Z=r(i,["tuningDataStats"]);Z!=null&&c(o,["tuningDataStats"],Z);const W=r(i,["encryptionSpec"]);W!=null&&c(o,["encryptionSpec"],W);const j=r(i,["partnerModelTuningSpec"]);j!=null&&c(o,["partnerModelTuningSpec"],j);const F=r(i,["customBaseModel"]);F!=null&&c(o,["customBaseModel"],F);const K=r(i,["experiment"]);K!=null&&c(o,["experiment"],K);const ne=r(i,["labels"]);ne!=null&&c(o,["labels"],ne);const I=r(i,["outputUri"]);I!=null&&c(o,["outputUri"],I);const de=r(i,["pipelineJob"]);de!=null&&c(o,["pipelineJob"],de);const $=r(i,["serviceAccount"]);$!=null&&c(o,["serviceAccount"],$);const te=r(i,["tunedModelDisplayName"]);te!=null&&c(o,["tunedModelDisplayName"],te);const se=r(i,["veoTuningSpec"]);return se!=null&&c(o,["veoTuningSpec"],se),o}function Z_(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(i,["done"]);m!=null&&c(o,["done"],m);const g=r(i,["error"]);return g!=null&&c(o,["error"],g),o}function ah(i,n){const o={},a=r(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $_ extends hn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new fi(mn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:du.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=B_(n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Tu(v))}else{const h=q_(n);return g=ae("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>Yh(v))}}async listInternal(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=F_(n);return g=ae("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=J_(v),S=new qm;return Object.assign(S,E),S})}else{const h=O_(n);return g=ae("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=Y_(v),S=new qm;return Object.assign(S,E),S})}}async cancel(n){var o,a,u,d;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=D_(n);return g=ae("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=L_(v),S=new Bm;return Object.assign(S,E),S})}else{const h=I_(n);return g=ae("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:v.headers},S})),m.then(v=>{const E=U_(v),S=new Bm;return Object.assign(S,E),S})}}async tuneInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const g=H_(n,n);return d=ae("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Tu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=G_(n);return d=ae("tunedModels",g._url),m=g._query,delete g._url,delete g._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Z_(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W_{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const j_=1024*1024*8,eC=3,tC=1e3,nC=2,Ha="x-goog-upload-status";async function iC(i,n,o){var a;const u=await Jh(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function lC(i,n,o){var a;const u=await Jh(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=Th(d),g=new Cu;return Object.assign(g,m),g}async function Jh(i,n,o){var a,u;let d=0,m=0,g=new pu(new Response),y="upload";for(d=i.size;m<d;){const h=Math.min(j_,d-m),v=i.slice(m,m+h);m+h>=d&&(y+=", finalize");let E=0,S=tC;for(;E<eC&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ha]));)E++,await aC(S),S=S*nC;if(m+=h,((u=g==null?void 0:g.headers)===null||u===void 0?void 0:u[Ha])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function oC(i){return{size:i.size,type:i.type}}function aC(i){return new Promise(n=>setTimeout(n,i))}class sC{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await iC(n,o,a)}async uploadToFileSearchStore(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await lC(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await oC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rC{create(n,o,a){return new uC(n,o,a)}}class uC{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sh="x-goog-api-key";class cC{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(sh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(sh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fC="gl-node/";class dC{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=Vv(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const u=new cC(this.apiKey);this.apiClient=new BS({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:fC+"web",uploader:new sC,downloader:new W_}),this.models=new o_(this.apiClient),this.live=new jS(this.apiClient,u,new rC),this.batches=new gT(this.apiClient),this.chats=new $T(this.models,this.apiClient),this.caches=new XT(this.apiClient),this.files=new sx(this.apiClient),this.operations=new a_(this.apiClient),this.authTokens=new S_(this.apiClient),this.tunings=new $_(this.apiClient),this.fileSearchStores=new w_(this.apiClient)}}const pC="gemini-3-pro-image-preview",mC=i=>((i==null?void 0:i.message)||String(i)).replace(/AIza[0-9A-Za-z-_]{35}/g,"***HIDDEN_KEY***"),Kh=async(i,n,o)=>{var a;try{const u=o||void 0;if(!u)throw new Error("API Key is missing. Please connect or enter your API key first.");const d=new dC({apiKey:u});let m=0;const g=10;for(;m<g;)try{const y=await d.models.generateContent({model:pC,contents:{parts:i},config:{imageConfig:{imageSize:n,aspectRatio:"1:1"}}});if(y.candidates&&y.candidates[0].content&&y.candidates[0].content.parts){for(const h of y.candidates[0].content.parts)if(h.inlineData&&h.inlineData.data)return`data:image/png;base64,${h.inlineData.data}`}throw new Error("No image data found in the response.")}catch(y){m++;const h=JSON.stringify(y),v=y.message||"",E=v.includes("overloaded")||v.includes("503")||v.includes("UNAVAILABLE")||h.includes("overloaded")||h.includes("UNAVAILABLE")||y.status===503||y.code===503,S=v.includes("Internal error")||v.includes("500")||v.includes("INTERNAL")||y.status===500||y.code===500;if((E||S)&&m<g){const B=2e3*Math.pow(1.5,m)+Math.random()*1e3;console.warn(`Gemini API Busy (${m}/${g}). Waiting ${Math.round(B)}ms...`),await new Promise(H=>setTimeout(H,B));continue}throw y}throw new Error("Failed to generate image after multiple attempts.")}catch(u){const d=mC(u);throw console.error("Gemini Gen Error:",d),(a=u.message)!=null&&a.includes("Requested entity was not found")||u.status===403||u.status===404?new Error("API_KEY_INVALID"):new Error(d)}},xu=async i=>{const n=[],o=i.originalImageBase64.split(",")[1]||i.originalImageBase64;if(n.push({inlineData:{data:o,mimeType:i.mimeType}}),i.logoBase64&&i.logoMimeType){const a=i.logoBase64.split(",")[1]||i.logoBase64;n.push({inlineData:{data:a,mimeType:i.logoMimeType}})}return n.push({text:i.prompt}),Kh(n,i.imageSize,i.apiKey)},hC=async i=>{const n=[];let o=1;if(i.mode==="blueprint"){const a=i.referenceLayoutBase64.split(",")[1]||i.referenceLayoutBase64;n.push({inlineData:{data:a,mimeType:i.referenceLayoutMimeType}});const u=o++;let d=-1;if(i.logoBase64&&i.logoMimeType){const g=i.logoBase64.split(",")[1]||i.logoBase64;n.push({inlineData:{data:g,mimeType:i.logoMimeType}}),d=o++}let m=i.prompt;m+=`

IMAGE MAPPING:
`,m+=`- IMAGE ${u} is the BLUEPRINT/SKETCH/WIREFRAME. You must analyze this image to find the Header, Product Position, and Text Position.
`,d>-1&&(m+=`- IMAGE ${d} is the LOGO. Insert this logo into the Header area found in IMAGE ${u}.
`),m+=`
NOTE: You MUST DETECT text placeholders in the Blueprint and render them realistically as described in the System Instruction.`,i.userInstructions&&(m+=`

USER SPECIFIC CONTEXT / INSTRUCTIONS:
${i.userInstructions}
(Prioritize these details for product appearance, colors, or specific text contents).`),n.push({text:m})}else if(i.mode==="auto_design"){const a=i.productImageBase64.split(",")[1]||i.productImageBase64;n.push({inlineData:{data:a,mimeType:i.productMimeType}});const u=o++;let d=-1;if(i.logoBase64&&i.logoMimeType){const y=i.logoBase64.split(",")[1]||i.logoBase64;n.push({inlineData:{data:y,mimeType:i.logoMimeType}}),d=o++}let m=`CONTENT TO BE DESIGNED:
`;if(i.attributes&&i.attributes.length>0)for(const y of i.attributes)if(y.iconBase64&&y.iconMime){const h=y.iconBase64.split(",")[1]||y.iconBase64;n.push({inlineData:{data:h,mimeType:y.iconMime}});const v=o++;m+=`- Attribute: "${y.text}". Use IMAGE ${v} as the icon.
`}else m+=`- Attribute: "${y.text}". (No icon provided, generate one or just use text).
`;else m+=`(No specific attributes provided)
`;let g=i.prompt;g+=`

=== IMAGE MAPPING ===
`,g+=`IMAGE ${u} is the MAIN PRODUCT.
`,d>-1&&(g+=`IMAGE ${d} is the LOGO (Must be in Header).
`),g+=`
${m}
`,g+=`PRODUCT TITLE: "${i.titleText}"
`,n.push({text:g})}else{const a=i.referenceLayoutBase64.split(",")[1]||i.referenceLayoutBase64;n.push({inlineData:{data:a,mimeType:i.referenceLayoutMimeType}});const u=o++;let d=-1;if(i.logoBase64&&i.logoMimeType){const v=i.logoBase64.split(",")[1]||i.logoBase64;n.push({inlineData:{data:v,mimeType:i.logoMimeType}}),d=o++}const m=i.productImageBase64.split(",")[1]||i.productImageBase64;n.push({inlineData:{data:m,mimeType:i.productMimeType}});const g=o++;let y=`NEW ATTRIBUTES LIST & ICONS:
`;if(i.attributes&&i.attributes.length>0)for(const v of i.attributes)if(v.iconBase64&&v.iconMime){const E=v.iconBase64.split(",")[1]||v.iconBase64;n.push({inlineData:{data:E,mimeType:v.iconMime}});const S=o++;y+=`- Text: "${v.text}". Use IMAGE ${S} as the icon for this text.
`}else y+=`- Text: "${v.text}". NO ICON PROVIDED. Please GENERATE a suitable minimalist outline icon for this attribute.
`;else y+=`(No specific attributes provided)
`;let h=i.prompt;h+=`

=== DATA MAPPING INSTRUCTIONS ===
`,h+=`IMAGE ${u} is the REFERENCE LAYOUT TEMPLATE (Must replicate structure 100%).
`,d>-1&&(h+=`IMAGE ${d} is the NEW LOGO (Replace logo in design).
`),h+=`IMAGE ${g} is the NEW PRODUCT IMAGE (Replace product in design).
`,h+=`
NEW TEXT CONTENT:
`,h+=`NEW TITLE: "${i.titleText}"
`,h+=y,n.push({text:h})}return Kh(n,i.imageSize,i.apiKey)},gC=10,rh={resolution:"1K",activePromptId:"default",filenamePattern:"(\\d{8,14})"},yC=({apiKey:i,prompts:n,globalSettings:o,onOpenPromptManager:a,onDisconnect:u})=>{const d=ci[o.language],[m,g]=pe.useState([]),[y,h]=pe.useState(null),[v,E]=pe.useState(!1),[S,b]=pe.useState(!1),[B,H]=pe.useState(null),[k,Z]=pe.useState(()=>{try{const te=localStorage.getItem("gemini_settings_editor");return te?{...o,...JSON.parse(te)}:{...o,...rh}}catch{return{...o,...rh}}});pe.useEffect(()=>{Z(te=>({...te,language:o.language,theme:o.theme}))},[o.language,o.theme]),pe.useEffect(()=>{localStorage.setItem("gemini_settings_editor",JSON.stringify(k))},[k]);const W=pe.useRef(!1),j=te=>new Promise((se,le)=>{const q=new FileReader;q.onload=()=>se(q.result),q.onerror=le,q.readAsDataURL(te)}),F=(te,se,le)=>new Promise((q,X)=>{if(!se&&!le){q(te);return}const Q=new Image;Q.onload=()=>{const N=document.createElement("canvas"),M=se||(le?Q.width*le/Q.height:Q.width),Y=le||(se?Q.height*se/Q.width:Q.height);N.width=M,N.height=Y;const ie=N.getContext("2d");ie?(ie.drawImage(Q,0,0,M,Y),q(N.toDataURL("image/png"))):X(new Error("Canvas context failed"))},Q.onerror=X,Q.src=te}),K=(te,se)=>{if(!se)return te.replace(/\.[^/.]+$/,"");try{const le=new RegExp(se),q=te.match(le);if(q&&q.length>0)return q[1]||q[0]}catch(le){console.warn(le)}return te.replace(/\.[^/.]+$/,"")},ne=async te=>{if(!te||te.length===0)return;if(m.length+te.length>gC){alert(d.maxImagesWarning);return}const se=[];for(let le=0;le<te.length;le++){const q=te[le];if(q.type.startsWith("image/"))try{const X=await j(q);se.push({id:Math.random().toString(36).substring(7)+Date.now()+le,file:q,originalPreview:X,mimeType:q.type,status:"pending"})}catch(X){console.error(X)}}g(le=>[...le,...se]),H(null),se.length>0&&!y&&h(se[0].id)},I=async()=>{if(v||S)return;const te=n.find(le=>le.id===k.activePromptId);if(!te){H(d.error+": "+d.selectToView);return}E(!0),W.current=!1,H(null);const se=m.filter(le=>le.status==="pending").map(le=>le.id);if(se.length===0){E(!1);return}for(const le of se){if(W.current){E(!1);return}h(le),g(Q=>Q.map(N=>N.id===le?{...N,status:"processing"}:N));const q=m.find(Q=>Q.id===le);if(!q)continue;const X=Date.now();try{const Q=await xu({originalImageBase64:q.originalPreview,mimeType:q.mimeType,prompt:te.content,logoBase64:k.savedLogo,logoMimeType:k.savedLogoMime,imageSize:k.resolution,apiKey:i}),N=Date.now();g(M=>M.map(Y=>Y.id===le?{...Y,status:"success",resultPreview:Q,duration:(N-X)/1e3}:Y))}catch(Q){if(Q.message==="API_KEY_INVALID"){u(),H(d.apiKeyInvalid),E(!1);return}g(N=>N.map(M=>M.id===le?{...M,status:"error",error:Q.message||"Failed"}:M))}await new Promise(Q=>setTimeout(Q,500))}E(!1)},de=async(te,se)=>{const le=m.find(X=>X.id===te);if(!le||!le.resultPreview)return;E(!0),H(null),g(X=>X.map(Q=>Q.id===te?{...Q,status:"processing"}:Q));const q=Date.now();try{const X=await xu({originalImageBase64:le.resultPreview,mimeType:"image/png",prompt:se,imageSize:k.resolution,apiKey:i}),Q=Date.now();g(N=>N.map(M=>M.id===te?{...M,status:"success",resultPreview:X,duration:(Q-q)/1e3}:M))}catch(X){X.message==="API_KEY_INVALID"&&(u(),H(d.apiKeyInvalid)),g(Q=>Q.map(N=>N.id===te?{...N,status:"success",error:X.message||"Refine Failed"}:N)),H(X.message||"Refinement failed")}E(!1)},$=async()=>{const te=m.filter(q=>q.status==="success"&&q.resultPreview);if(te.length===0)return;const se=new Map;if("showDirectoryPicker"in window)try{const q=await window.showDirectoryPicker({mode:"readwrite",startIn:"downloads"});b(!0);for(const X of te){if(!X.resultPreview)continue;const Q=K(X.file.name,k.filenamePattern),N=(se.get(Q)||0)+1;se.set(Q,N);const M=`${Q} (${N}).png`;try{const Y=await F(X.resultPreview,k.downloadWidth,k.downloadHeight),ue=await(await fetch(Y)).blob(),D=await(await q.getFileHandle(M,{create:!0})).createWritable();await D.write(ue),await D.close()}catch(Y){console.error(Y)}}b(!1),alert(d.saveSuccess);return}catch{b(!1)}for(const q of te)if(q.resultPreview){const X=K(q.file.name,k.filenamePattern),Q=(se.get(X)||0)+1;se.set(X,Q);const N=`${X} (${Q}).png`,M=await F(q.resultPreview,k.downloadWidth,k.downloadHeight),Y=document.createElement("a");Y.href=M,Y.download=N,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),await new Promise(ie=>setTimeout(ie,300))}};return T.jsx(Gv,{queue:m,selectedId:y,settings:k,prompts:n,isProcessing:v,isSaving:S,errorMsg:B,language:o.language,onFilesSelected:ne,onSelectQueueItem:h,onDeleteItem:(te,se)=>{se.stopPropagation(),g(le=>le.filter(q=>q.id!==te)),y===te&&h(null)},onClearAll:()=>{v||(g([]),h(null))},onProcess:I,onStop:()=>W.current=!0,onRegenerate:te=>g(se=>se.map(le=>le.id===te?{...le,status:"pending",resultPreview:void 0,error:void 0}:le)),onRefine:de,onDownloadItem:async te=>{if(!te.resultPreview)return;const se=await F(te.resultPreview,k.downloadWidth,k.downloadHeight),le=K(te.file.name,k.filenamePattern),q=document.createElement("a");q.href=se,q.download=`${le} (1).png`,document.body.appendChild(q),q.click(),document.body.removeChild(q)},onDownloadAll:$,onUpdateSetting:(te,se)=>Z(le=>({...le,[te]:se})),onManagePrompts:a})},vC=({queue:i,selectedId:n,settings:o,prompts:a,isProcessing:u,isSaving:d,errorMsg:m,language:g,onFilesSelected:y,onSelectQueueItem:h,onDeleteItem:v,onClearAll:E,onProcess:S,onStop:b,onRegenerate:B,onRefine:H,onDownloadItem:k,onDownloadAll:Z,onUpdateSetting:W,onManagePrompts:j,onUpdateItemData:F,onAddEmptyProduct:K,onUpdateProductImage:ne})=>{var cl,pi,mi,hi,co,fo,st,po;const I=ci[g],de=pe.useRef(null),$=pe.useRef(null),te=pe.useRef(null),se=pe.useRef(null),le=pe.useRef(null),[q,X]=pe.useState(!1),[Q,N]=pe.useState(null),[M,Y]=pe.useState(null),[ie,ue]=pe.useState(""),C=i.find(J=>J.id===n),D=i.find(J=>J.id===Q),ee=i.filter(J=>J.status==="pending").length,oe=i.filter(J=>J.status==="success").length;pe.useEffect(()=>{ue("")},[n]);const he=J=>{var Ne;const xe=(Ne=J.target.files)==null?void 0:Ne[0];if(xe&&xe.type.startsWith("image/")){const Ye=new FileReader;Ye.onloadend=()=>{W("layoutReferenceImage",Ye.result),W("layoutReferenceImageMime",xe.type)},Ye.readAsDataURL(xe)}},ye=J=>{var Ne;const xe=(Ne=J.target.files)==null?void 0:Ne[0];if(xe&&xe.type.startsWith("image/")){const Ye=new FileReader;Ye.onloadend=()=>{W("savedLogo",Ye.result),W("savedLogoMime",xe.type)},Ye.readAsDataURL(xe)}},be=J=>{y(J.target.files),J.target&&(J.target.value="")},je=()=>{C&&ie.trim()&&(H(C.id,ie.trim()),ue(""))},ze=()=>{const J=i.length>0&&i[0].file?i[0].file.name:"8934567890123_Product.jpg";if(!o.filenamePattern)return J.replace(/\.[^/.]+$/,"");try{const xe=new RegExp(o.filenamePattern),Ne=J.match(xe);if(Ne&&Ne.length>0)return Ne[1]||Ne[0]}catch{}return J.replace(/\.[^/.]+$/,"")},Fn=J=>{N(J),X(!0)},di=()=>{K()},sl=()=>{var Ne;if(!D)return;const J=((Ne=D.layoutData)==null?void 0:Ne.attributes)||[],xe={id:Date.now().toString(),text:""};F(D.id,{attributes:[...J,xe]})},uo=J=>{var Ne;if(!D)return;const xe=((Ne=D.layoutData)==null?void 0:Ne.attributes)||[];F(D.id,{attributes:xe.filter(Ye=>Ye.id!==J)})},Xt=(J,xe)=>{var Ye;if(!D)return;const Ne=((Ye=D.layoutData)==null?void 0:Ye.attributes)||[];F(D.id,{attributes:Ne.map(Ht=>Ht.id===J?{...Ht,text:xe}:Ht)})},rl=J=>{var xe;Y(J),(xe=se.current)==null||xe.click()},ul=J=>{var Ne;const xe=(Ne=J.target.files)==null?void 0:Ne[0];if(xe&&xe.type.startsWith("image/")&&M&&D){const Ye=new FileReader;Ye.onloadend=()=>{var Yn;const Ht=((Yn=D.layoutData)==null?void 0:Yn.attributes)||[];F(D.id,{attributes:Ht.map(qt=>qt.id===M?{...qt,iconBase64:Ye.result,iconMime:xe.type}:qt)}),Y(null)},Ye.readAsDataURL(xe)}J.target&&(J.target.value="")},Oa=J=>{var Ne;const xe=(Ne=J.target.files)==null?void 0:Ne[0];xe&&xe.type.startsWith("image/")&&D&&ne(D.id,xe),J.target&&(J.target.value="")};return T.jsxs("div",{className:"h-full flex flex-col lg:flex-row overflow-hidden bg-background relative",children:[T.jsx("input",{type:"file",ref:se,onChange:ul,accept:"image/*",className:"hidden"}),T.jsx("input",{type:"file",ref:le,onChange:Oa,accept:"image/*",className:"hidden"}),T.jsx("input",{type:"file",ref:te,onChange:be,accept:"image/*",multiple:!0,className:"hidden"}),T.jsxs("div",{className:"w-full lg:w-[400px] bg-surface/50 border-r border-border flex flex-col h-full overflow-hidden shrink-0 z-20",children:[T.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar flex flex-col gap-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-sm font-semibold mb-3",children:I.globalSettings}),T.jsxs("div",{className:"flex bg-black/5 dark:bg-white/5 rounded-lg p-1 mb-3",children:[T.jsx("button",{onClick:()=>W("layoutMode","reference"),className:`flex-1 text-[10px] sm:text-xs py-1.5 rounded-md font-bold transition-all ${o.layoutMode==="reference"?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:I.modeReference}),T.jsx("button",{onClick:()=>W("layoutMode","blueprint"),className:`flex-1 text-[10px] sm:text-xs py-1.5 rounded-md font-bold transition-all ${o.layoutMode==="blueprint"?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:I.modeBlueprint}),T.jsx("button",{onClick:()=>W("layoutMode","auto_design"),className:`flex-1 text-[10px] sm:text-xs py-1.5 rounded-md font-bold transition-all ${o.layoutMode==="auto_design"?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:I.modeAutoDesign})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.layoutMode==="reference"&&T.jsxs("div",{children:[T.jsx("label",{className:"text-[10px] text-secondary font-semibold mb-1.5 block",children:I.referenceLayout}),T.jsxs("div",{onClick:()=>{var J;return(J=de.current)==null?void 0:J.click()},className:`
                            relative h-24 border border-border rounded-xl flex flex-col items-center justify-center cursor-pointer overflow-hidden transition-all
                            ${o.layoutReferenceImage?"border-primary/30 bg-primary/5":"hover:border-primary/30 hover:bg-black/5"}
                            `,children:[o.layoutReferenceImage?T.jsx("img",{src:o.layoutReferenceImage,className:"w-full h-full object-contain p-2",alt:"Ref"}):T.jsxs("div",{className:"flex flex-col items-center gap-2 text-secondary",children:[T.jsx(cu,{}),T.jsx("span",{className:"text-xs",children:I.clickUpload})]}),T.jsx("input",{type:"file",ref:de,onChange:he,accept:"image/*",className:"hidden"})]})]}),T.jsxs("div",{className:o.layoutMode==="reference"?"":"col-span-2",children:[T.jsx("label",{className:"text-[10px] text-secondary font-semibold mb-1.5 block",children:I.newLogo}),T.jsxs("div",{onClick:()=>{var J;return(J=$.current)==null?void 0:J.click()},className:`
                        relative h-24 border border-border rounded-xl flex flex-col items-center justify-center cursor-pointer overflow-hidden transition-all
                        ${o.savedLogo?"border-primary/30 bg-primary/5":"hover:border-primary/30 hover:bg-black/5"}
                        `,children:[o.savedLogo?T.jsx("img",{src:o.savedLogo,className:"w-full h-full object-contain p-2",alt:"Logo"}):T.jsxs("div",{className:"flex flex-col items-center gap-2 text-secondary",children:[T.jsx(ao,{}),T.jsx("span",{className:"text-xs",children:I.clickUpload})]}),T.jsx("input",{type:"file",ref:$,onChange:ye,accept:"image/*",className:"hidden"})]})]})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold",children:I.promptSettings}),T.jsx("button",{onClick:j,className:"text-xs text-primary hover:text-primary/80 font-medium",children:I.manage})]}),T.jsx("div",{className:"relative",children:T.jsx("select",{value:o.activePromptId,onChange:J=>W("activePromptId",J.target.value),className:"w-full bg-surface border border-border rounded-xl p-3 pr-10 text-sm text-foreground focus:outline-none focus:border-primary/50 appearance-none cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:a.map(J=>T.jsx("option",{value:J.id,children:J.name},J.id))})})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-sm font-semibold mb-3",children:I.settings}),T.jsxs("div",{className:"bg-surface border border-border rounded-xl p-3",children:[T.jsx("label",{className:"text-[10px] text-secondary uppercase font-semibold block mb-1.5",children:I.resolutionConfig}),T.jsx("div",{className:"flex bg-black/5 dark:bg-white/5 rounded-lg p-0.5",children:["1K","2K","4K"].map(J=>T.jsx("button",{onClick:()=>W("resolution",J),className:`flex-1 text-xs py-1.5 rounded-md transition-all font-medium ${o.resolution===J?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:J},J))})]})]}),T.jsxs("div",{children:[T.jsxs("h2",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[o.layoutMode==="blueprint"?I.importBlueprints:I.importLayouts,i.length>0&&T.jsx("span",{className:"text-xs bg-black/10 dark:bg-white/10 px-2 py-0.5 rounded-full text-secondary",children:i.length})]}),o.layoutMode==="blueprint"?T.jsxs("button",{onClick:()=>{var J;return(J=te.current)==null?void 0:J.click()},disabled:i.length>=10,className:"w-full py-3 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/30 rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group shadow-sm hover:shadow-md",children:[T.jsx(ao,{}),I.addBlueprints]}):T.jsx("button",{onClick:di,disabled:i.length>=10,className:"w-full py-3 bg-primary/10 hover:bg-primary/20 text-primary border border-primary/30 rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group shadow-sm hover:shadow-md",children:I.addProduct})]}),T.jsxs("div",{className:"flex-1 min-h-[200px] flex flex-col pb-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("h2",{className:"text-sm font-semibold",children:I.queue}),i.length>0&&!u&&T.jsx("button",{onClick:E,className:"text-xs text-red-500 hover:text-red-600",children:I.clearAll})]}),T.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-black/5 dark:bg-black/20 rounded-xl border border-border p-2 space-y-2",children:i.length===0?T.jsx("div",{className:"h-full flex flex-col items-center justify-center text-secondary text-xs",children:T.jsx("p",{children:I.noImages})}):i.map(J=>{var xe,Ne,Ye,Ht,Yn;return T.jsxs("div",{onClick:()=>h(J.id),className:`
                                  flex items-center gap-3 p-2 rounded-lg cursor-pointer transition-colors border group
                                  ${n===J.id?"bg-background border-primary/50 shadow-sm":"bg-surface border-transparent hover:bg-black/5 dark:hover:bg-white/5"}
                              `,children:[T.jsx("div",{className:"w-10 h-10 rounded bg-black/10 shrink-0 overflow-hidden flex items-center justify-center border border-border",children:J.originalPreview?T.jsx("img",{src:J.originalPreview,className:"w-full h-full object-cover",alt:""}):T.jsx("span",{className:"text-[8px] text-center text-secondary leading-tight p-0.5",children:I.productImageMissing})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-xs text-foreground truncate font-bold",children:((xe=J.layoutData)==null?void 0:xe.title)||"Untitled"}),T.jsxs("div",{className:"flex items-center gap-2",children:[o.layoutMode==="reference"&&T.jsxs("p",{className:"text-[10px] text-secondary",children:[((Ye=(Ne=J.layoutData)==null?void 0:Ne.attributes)==null?void 0:Ye.length)||0," attrs"]}),o.layoutMode==="auto_design"&&T.jsxs("p",{className:"text-[10px] text-secondary",children:[((Yn=(Ht=J.layoutData)==null?void 0:Ht.attributes)==null?void 0:Yn.length)||0," attrs"]}),T.jsxs("p",{className:"text-[10px] text-secondary uppercase",children:[" ",J.status]})]})]}),T.jsxs("div",{className:"shrink-0 flex items-center gap-1",children:[T.jsx("button",{onClick:qt=>{qt.stopPropagation(),Fn(J.id)},className:"p-1.5 text-secondary hover:text-primary hover:bg-primary/10 rounded-md transition-colors",title:I.configure,children:T.jsx(_v,{})}),J.status==="processing"&&T.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary border-t-transparent animate-spin"}),J.status==="success"&&T.jsx("div",{className:"text-green-500 text-xs p-1",children:""}),J.status==="error"&&T.jsx("button",{onClick:qt=>{qt.stopPropagation(),B(J.id)},className:"text-red-500 hover:text-red-600 text-xs p-1",children:T.jsx(Ua,{})}),J.status==="pending"&&!u&&T.jsx("button",{onClick:qt=>v(J.id,qt),className:"p-1.5 text-secondary hover:text-red-500 hover:bg-red-500/10 rounded-md",children:T.jsx(La,{})})]})]},J.id)})})]})]}),T.jsxs("div",{className:"p-4 border-t border-border bg-surface/80 backdrop-blur-md flex flex-col gap-2 shrink-0 z-10 shadow-[0_-5px_15px_-5px_rgba(0,0,0,0.1)]",children:[m&&T.jsxs("div",{className:"mb-2 text-xs text-red-500 flex items-center gap-1",children:[T.jsx(uu,{})," ",m]}),T.jsx("div",{children:u?T.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/20",children:[T.jsx(yh,{}),T.jsx("span",{className:"text-sm",children:I.stop})]}):T.jsxs("button",{onClick:S,disabled:ee===0||d||o.layoutMode==="reference"&&!o.layoutReferenceImage,className:`
                  w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200
                  ${ee===0||d||o.layoutMode==="reference"&&!o.layoutReferenceImage?"bg-black/5 dark:bg-white/10 text-secondary cursor-not-allowed":"bg-gradient-to-r from-primary to-accent hover:shadow-lg hover:shadow-primary/20 hover:scale-[1.02] text-white"}
                  `,children:[T.jsx(so,{}),T.jsxs("span",{className:"text-sm",children:[I.generateAll," (",ee,")"]})]})}),T.jsxs("div",{className:"pt-3 border-t border-border/50 flex flex-col gap-2",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-1",children:[T.jsx("label",{className:"text-[10px] text-secondary uppercase font-semibold",children:I.filenameConfig}),T.jsx("span",{className:"text-[10px] font-mono text-primary truncate max-w-[150px]",children:ze()})]}),T.jsx("input",{type:"text",value:o.filenamePattern||"",onChange:J=>W("filenamePattern",J.target.value),placeholder:I.regexPlaceholder,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none font-mono"})]}),T.jsxs("div",{className:"flex gap-2 mb-1",children:[T.jsx("div",{className:"flex-1",children:T.jsx("input",{type:"number",value:o.downloadWidth||"",onChange:J=>W("downloadWidth",J.target.value?Number(J.target.value):void 0),placeholder:I.widthPx,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none"})}),T.jsx("div",{className:"flex-1",children:T.jsx("input",{type:"number",value:o.downloadHeight||"",onChange:J=>W("downloadHeight",J.target.value?Number(J.target.value):void 0),placeholder:I.heightPx,className:"w-full bg-black/5 dark:bg-white/5 border border-transparent focus:border-primary/50 rounded-lg px-2 py-1.5 text-xs text-foreground focus:outline-none"})})]}),T.jsxs("button",{onClick:Z,disabled:d||oe===0,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200
                    ${d||oe===0?"bg-black/5 dark:bg-white/10 text-secondary cursor-not-allowed":"bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20 text-foreground"}
                `,title:I.download,children:[T.jsx(Da,{}),T.jsxs("span",{className:"text-sm",children:[d?I.saving:I.download," (",oe,")"]})]})]})]})]}),T.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-background relative",children:[T.jsxs("div",{className:"h-12 border-b border-border bg-surface/20 backdrop-blur px-6 flex items-center justify-between shrink-0",children:[T.jsx("span",{className:"text-xs text-secondary truncate max-w-[300px]",children:C?((cl=C.layoutData)==null?void 0:cl.title)||((pi=C.file)==null?void 0:pi.name):I.selectToView}),T.jsxs("div",{className:"flex items-center gap-3",children:[((C==null?void 0:C.status)==="success"||(C==null?void 0:C.status)==="error")&&T.jsxs("button",{onClick:()=>C&&B(C.id),className:"flex items-center gap-2 text-xs font-medium text-secondary hover:text-foreground transition-colors",children:[T.jsx(Ua,{})," ",I.regenerate]}),(C==null?void 0:C.status)==="success"&&C.resultPreview&&T.jsxs("button",{onClick:()=>C&&k(C),className:"flex items-center gap-2 text-xs font-medium text-primary hover:text-primary/80 transition-colors",children:[T.jsx(Da,{})," ",I.download]})]})]}),T.jsx("div",{className:"flex-1 p-8 relative flex flex-col items-center justify-center bg-black/5 dark:bg-black/20 overflow-hidden",children:C?T.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4",children:[C.status==="success"&&C.resultPreview?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative max-w-full flex-1 aspect-square group overflow-hidden",children:[T.jsx("img",{src:C.resultPreview,className:"w-full h-full object-contain shadow-2xl rounded-lg bg-black/5 dark:bg-white/5",alt:"Result"}),T.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/60 backdrop-blur px-3 py-1 rounded-full text-xs text-green-400 font-medium pointer-events-none",children:[I.generatedResult," ",C.duration&&`(${C.duration.toFixed(1)}s)`]})]}),T.jsxs("div",{className:"w-full max-w-2xl bg-surface border border-border rounded-xl p-3 flex gap-2 shrink-0 animate-pulse-fast-once",children:[T.jsx("input",{type:"text",value:ie,onChange:J=>ue(J.target.value),placeholder:I.refinePlaceholder,className:"flex-1 bg-transparent text-sm px-2 focus:outline-none placeholder-secondary/50",onKeyDown:J=>J.key==="Enter"&&je()}),T.jsxs("button",{onClick:je,disabled:!ie.trim()||u,className:`
                                        px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-1
                                        ${!ie.trim()||u?"bg-black/5 text-secondary cursor-not-allowed":"bg-primary text-white hover:bg-primary/90"}
                                    `,children:[u?T.jsx("div",{className:"w-3 h-3 border-2 border-white/50 border-t-transparent animate-spin rounded-full"}):T.jsx(so,{}),I.refineButton]})]})]}):T.jsxs("div",{className:"flex items-center justify-center gap-8 w-full h-full opacity-60",children:[o.layoutMode==="reference"&&o.layoutReferenceImage&&T.jsxs("div",{className:"relative group max-w-[40%] max-h-[80%] aspect-[3/4] border-2 border-dashed border-secondary/30 rounded-lg p-2 flex flex-col items-center",children:[T.jsx("img",{src:o.layoutReferenceImage,className:"h-full object-contain",alt:"Ref"}),T.jsx("span",{className:"absolute bottom-2 bg-black/50 text-white text-[10px] px-2 rounded",children:"Reference"})]}),o.layoutMode==="blueprint"&&C.originalPreview&&T.jsxs("div",{className:"relative group max-w-[40%] max-h-[80%] aspect-[3/4] border-2 border-dashed border-secondary/30 rounded-lg p-2 flex flex-col items-center",children:[T.jsx("img",{src:C.originalPreview,className:"h-full object-contain",alt:"Blueprint"}),T.jsx("span",{className:"absolute bottom-2 bg-black/50 text-white text-[10px] px-2 rounded",children:"Blueprint Source"})]}),o.layoutMode==="auto_design"&&T.jsxs(T.Fragment,{children:[o.savedLogo&&T.jsxs("div",{className:"relative group max-w-[30%] max-h-[30%] aspect-square border-2 border-dashed border-secondary/30 rounded-lg p-2 flex flex-col items-center",children:[T.jsx("img",{src:o.savedLogo,className:"h-full object-contain",alt:"Logo"}),T.jsx("span",{className:"absolute bottom-1 bg-black/50 text-white text-[10px] px-2 rounded",children:"Logo"})]}),T.jsx("span",{className:"text-2xl text-secondary",children:"+"})]}),(o.layoutMode==="reference"||o.layoutMode==="auto_design")&&T.jsx(T.Fragment,{children:C.originalPreview?T.jsxs("div",{className:"relative group max-w-[40%] max-h-[80%] aspect-[3/4] border-2 border-dashed border-secondary/30 rounded-lg p-2 flex flex-col items-center",children:[T.jsx("img",{src:C.originalPreview,className:"h-full object-contain",alt:"Product"}),T.jsx("span",{className:"absolute bottom-2 bg-black/50 text-white text-[10px] px-2 rounded",children:"Product"})]}):T.jsx("div",{className:"w-40 h-40 border-2 border-dashed border-red-300 rounded-lg flex items-center justify-center text-red-400 text-xs",children:I.productImageMissing})})]}),C.status==="processing"&&T.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-background/50 backdrop-blur-sm rounded-lg",children:T.jsx(vh,{})}),C.status==="error"&&T.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black/40 backdrop-blur-sm rounded-lg",children:T.jsxs("div",{className:"bg-surface p-6 rounded-xl shadow-2xl max-w-sm text-center border border-red-500/20",children:[T.jsx(uu,{}),T.jsx("h3",{className:"text-red-500 font-bold mt-2",children:I.error}),T.jsx("p",{className:"text-sm text-secondary my-2",children:C.error}),T.jsx("button",{onClick:()=>B(C.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg text-xs font-bold mt-2",children:I.tryAgain})]})})]}):T.jsxs("div",{className:"text-secondary text-center opacity-50",children:[T.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-2 border-dashed border-border rounded-2xl flex items-center justify-center",children:T.jsx(cu,{})}),T.jsx("p",{children:I.selectToView})]})})]}),q&&D&&T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-surface w-full max-w-4xl h-[85vh] rounded-2xl border border-border shadow-2xl flex flex-col overflow-hidden animate-pulse-fast-once",children:[T.jsxs("div",{className:"h-14 border-b border-border flex items-center justify-between px-6 bg-background/50",children:[T.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[o.layoutMode==="blueprint"?"Blueprint Details":I.editProductDetails,T.jsx("span",{className:"text-xs font-normal text-secondary px-2 py-0.5 rounded-full bg-black/5 dark:bg-white/10",children:((mi=D.layoutData)==null?void 0:mi.title)||"Untitled"})]}),T.jsx("button",{onClick:()=>X(!1),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-secondary hover:text-foreground transition-colors",children:T.jsx(La,{})})]}),T.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col md:flex-row",children:[T.jsxs("div",{className:"w-full md:w-1/3 p-6 border-r border-border bg-black/5 dark:bg-white/5 flex flex-col",children:[T.jsx("h3",{className:"text-xs font-bold uppercase text-secondary mb-3",children:o.layoutMode==="blueprint"?I.uploadBlueprint:I.uploadProductImage}),T.jsxs("div",{onClick:()=>{var J;return(J=le.current)==null?void 0:J.click()},className:"flex-1 border-2 border-dashed border-border rounded-xl bg-surface relative overflow-hidden flex items-center justify-center group cursor-pointer hover:border-primary/50 transition-all",children:[D.originalPreview?T.jsx("img",{src:D.originalPreview,className:"w-full h-full object-contain p-4",alt:"Product"}):T.jsxs("div",{className:"flex flex-col items-center justify-center text-secondary",children:[T.jsx("div",{className:"w-12 h-12 bg-black/5 dark:bg-white/5 rounded-full flex items-center justify-center mb-2",children:T.jsx(ao,{})}),T.jsx("span",{className:"text-xs font-medium",children:I.clickUpload})]}),T.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:T.jsx("span",{className:"text-white text-xs font-bold bg-black/50 px-3 py-1.5 rounded-full",children:"Change Image"})})]})]}),T.jsx("div",{className:"flex-1 p-6 overflow-y-auto custom-scrollbar bg-surface",children:T.jsxs("div",{className:"max-w-xl mx-auto flex flex-col gap-6",children:[(o.layoutMode==="reference"||o.layoutMode==="auto_design")&&T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold uppercase text-secondary block mb-2",children:I.productName}),T.jsx("input",{type:"text",value:((hi=D.layoutData)==null?void 0:hi.title)||"",onChange:J=>F(D.id,{title:J.target.value}),className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-sm focus:border-primary focus:ring-1 focus:ring-primary/50 focus:outline-none",placeholder:"Enter product title..."}),D.file&&T.jsxs("div",{className:"mt-1.5 text-[10px] text-secondary flex items-center gap-1",children:[T.jsx("span",{children:"Original File:"}),T.jsx("span",{className:"font-mono bg-black/5 dark:bg-white/5 px-1 rounded",children:D.file.name})]})]}),o.layoutMode==="blueprint"&&T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsxs("div",{className:"p-4 bg-primary/5 border border-primary/20 rounded-xl text-sm text-secondary",children:[T.jsx("p",{className:"font-bold text-foreground mb-1",children:"Blueprint Mode Active"}),T.jsx("p",{children:"The AI will automatically detect the structure. Use the box below to describe the product or specific details you want."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"text-xs font-bold uppercase text-secondary block mb-2",children:I.blueprintInstructions}),T.jsx("textarea",{value:((co=D.layoutData)==null?void 0:co.userInstructions)||"",onChange:J=>F(D.id,{userInstructions:J.target.value}),className:"w-full h-32 bg-background border border-border rounded-lg px-4 py-3 text-sm focus:border-primary focus:ring-1 focus:ring-primary/50 focus:outline-none resize-none",placeholder:I.blueprintInstructionsPlaceholder})]})]}),(o.layoutMode==="reference"||o.layoutMode==="auto_design")&&T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-3",children:[T.jsx("label",{className:"text-xs font-bold uppercase text-secondary",children:I.productAttributes}),T.jsx("button",{onClick:sl,className:"text-xs bg-primary/10 hover:bg-primary/20 text-primary px-3 py-1.5 rounded-md font-bold transition-colors flex items-center gap-1",children:I.addAttribute})]}),T.jsxs("div",{className:"space-y-3",children:[(((fo=D.layoutData)==null?void 0:fo.attributes)||[]).map((J,xe)=>T.jsxs("div",{className:"flex items-center gap-3 bg-background border border-border p-3 rounded-xl group hover:border-primary/30 transition-colors",children:[T.jsxs("span",{className:"text-[10px] text-secondary font-mono w-4",children:[xe+1,"."]}),T.jsx("div",{onClick:()=>rl(J.id),className:`
                                                            w-10 h-10 shrink-0 rounded-lg border border-dashed flex items-center justify-center cursor-pointer overflow-hidden transition-all relative group/icon
                                                            ${J.iconBase64?"border-primary/50 bg-white":"border-secondary/40 hover:border-primary/50 hover:bg-primary/5"}
                                                        `,title:J.iconBase64?I.hasIcon:I.iconOptional,children:J.iconBase64?T.jsx("img",{src:J.iconBase64,className:"w-full h-full object-contain p-1",alt:"icon"}):T.jsx("div",{className:"text-center",children:T.jsx("span",{className:"text-[8px] text-secondary leading-tight block",children:I.autoGenIcon})})}),T.jsx("input",{type:"text",value:J.text,onChange:Ne=>Xt(J.id,Ne.target.value),className:"flex-1 bg-transparent text-sm focus:outline-none py-1 border-b border-transparent focus:border-primary/30 transition-colors",placeholder:I.attributesPlaceholder}),T.jsx("button",{onClick:()=>uo(J.id),className:"w-8 h-8 flex items-center justify-center text-secondary hover:text-red-500 hover:bg-red-500/10 rounded-full opacity-0 group-hover:opacity-100 transition-all",children:T.jsx(ph,{})})]},J.id)),(((po=(st=D.layoutData)==null?void 0:st.attributes)==null?void 0:po.length)||0)===0&&T.jsx("div",{className:"text-center py-8 text-secondary text-sm italic bg-black/5 dark:bg-white/5 rounded-lg border border-dashed border-border",children:"No attributes added."})]})]})]})})]}),T.jsx("div",{className:"h-16 border-t border-border bg-background/50 flex items-center justify-end px-6 gap-3",children:T.jsx("button",{onClick:()=>X(!1),className:"px-6 py-2.5 bg-primary text-white rounded-lg font-bold hover:bg-primary/90 shadow-lg shadow-primary/20 transition-all",children:I.close})})]})})]})},uh=10,ch={resolution:"1K",activePromptId:"layout_gen",filenamePattern:"(\\d{8,14})",layoutMode:"reference"},TC=({apiKey:i,prompts:n,globalSettings:o,onOpenPromptManager:a,onDisconnect:u})=>{const d=ci[o.language],[m,g]=pe.useState([]),[y,h]=pe.useState(null),[v,E]=pe.useState(!1),[S,b]=pe.useState(!1),[B,H]=pe.useState(null),[k,Z]=pe.useState(()=>{try{const q=localStorage.getItem("gemini_settings_layout");return q?{...o,...JSON.parse(q)}:{...o,...ch}}catch{return{...o,...ch}}});pe.useEffect(()=>{k.layoutMode==="blueprint"?k.activePromptId!=="blueprint_gen"&&Z(q=>({...q,activePromptId:"blueprint_gen"})):k.layoutMode==="auto_design"?k.activePromptId!=="auto_design"&&Z(q=>({...q,activePromptId:"auto_design"})):k.activePromptId!=="layout_gen"&&Z(q=>({...q,activePromptId:"layout_gen"})),m.length>0&&!v&&(g([]),h(null))},[k.layoutMode]),pe.useEffect(()=>{Z(q=>({...q,language:o.language,theme:o.theme}))},[o.language,o.theme]),pe.useEffect(()=>{localStorage.setItem("gemini_settings_layout",JSON.stringify(k))},[k]);const W=pe.useRef(!1),j=q=>new Promise((X,Q)=>{const N=new FileReader;N.onload=()=>X(N.result),N.onerror=Q,N.readAsDataURL(q)}),F=(q,X,Q)=>new Promise((N,M)=>{if(!X&&!Q){N(q);return}const Y=new Image;Y.onload=()=>{const ie=document.createElement("canvas"),ue=X||(Q?Y.width*Q/Y.height:Y.width),C=Q||(X?Y.height*X/Y.width:Y.height);ie.width=ue,ie.height=C;const D=ie.getContext("2d");D?(D.drawImage(Y,0,0,ue,C),N(ie.toDataURL("image/png"))):M(new Error("Canvas"))},Y.onerror=M,Y.src=q}),K=(q,X)=>{if(!X)return q.replace(/\.[^/.]+$/,"");try{const Q=new RegExp(X),N=q.match(Q);if(N&&N.length>0)return N[1]||N[0]}catch{}return q.replace(/\.[^/.]+$/,"")},ne=()=>{if(m.length>=uh){alert(d.maxImagesWarning);return}const q=Math.random().toString(36).substring(7)+Date.now(),X={id:q,mimeType:"image/png",status:"pending",layoutData:{title:"Product "+(m.length+1),attributes:[]}};g(Q=>[...Q,X]),h(q)},I=async(q,X)=>{try{const Q=await j(X);g(N=>N.map(M=>{var Y;return M.id===q?{...M,file:X,originalPreview:Q,mimeType:X.type,layoutData:{...M.layoutData,title:((Y=M.layoutData)==null?void 0:Y.title)==="Product "+(m.findIndex(ie=>ie.id===q)+1)?X.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "):M.layoutData.title}}:M}))}catch(Q){console.error(Q)}},de=async q=>{if(!q||q.length===0)return;if(m.length+q.length>uh){alert(d.maxImagesWarning);return}const X=[];for(let Q=0;Q<q.length;Q++){const N=q[Q];if(N.type.startsWith("image/"))try{const M=await j(N);X.push({id:Math.random().toString(36).substring(7)+Date.now()+Q,file:N,originalPreview:M,mimeType:N.type,status:"pending",layoutData:{title:N.name.replace(/\.[^/.]+$/,"").replace(/[-_]/g," "),attributes:[]}})}catch(M){console.error(M)}}g(Q=>[...Q,...X]),H(null),X.length>0&&!y&&h(X[0].id)},$=(q,X)=>{g(Q=>Q.map(N=>N.id===q?{...N,layoutData:{...N.layoutData,...X}}:N))},te=async(q,X)=>{const Q=m.find(M=>M.id===q);if(!Q||!Q.resultPreview)return;E(!0),H(null),g(M=>M.map(Y=>Y.id===q?{...Y,status:"processing"}:Y));const N=Date.now();try{const M=await xu({originalImageBase64:Q.resultPreview,mimeType:"image/png",prompt:X,imageSize:k.resolution,apiKey:i}),Y=Date.now();g(ie=>ie.map(ue=>ue.id===q?{...ue,status:"success",resultPreview:M,duration:(Y-N)/1e3}:ue))}catch(M){M.message==="API_KEY_INVALID"&&(u(),H(d.apiKeyInvalid)),g(Y=>Y.map(ie=>ie.id===q?{...ie,status:"success",error:M.message||"Refine Failed"}:ie)),H(M.message||"Refinement failed")}E(!1)},se=async()=>{var N,M,Y;if(v||S)return;const q=n.find(ie=>ie.id===k.activePromptId);if(!q){H(d.error+": "+d.selectToView);return}const X=k.layoutMode||"reference";if(X==="reference"&&!k.layoutReferenceImage){H("Missing Reference Layout Image!");return}E(!0),W.current=!1,H(null);const Q=m.filter(ie=>ie.status==="pending");if(Q.length===0){E(!1);return}for(const ie of Q){if(W.current){E(!1);return}if(!ie.originalPreview){g(D=>D.map(ee=>ee.id===ie.id?{...ee,status:"error",error:"Missing Input Image"}:ee));continue}h(ie.id),g(D=>D.map(ee=>ee.id===ie.id?{...ee,status:"processing"}:ee));const ue=m.find(D=>D.id===ie.id);if(!ue||!ue.originalPreview)continue;const C=Date.now();try{const D=await hC({mode:X,productImageBase64:X==="blueprint"?"":ue.originalPreview,productMimeType:X==="blueprint"?"":ue.mimeType,referenceLayoutBase64:X==="blueprint"?ue.originalPreview:k.layoutReferenceImage||"",referenceLayoutMimeType:X==="blueprint"?ue.mimeType:k.layoutReferenceImageMime||"image/png",prompt:q.content,logoBase64:k.savedLogo,logoMimeType:k.savedLogoMime,titleText:((N=ue.layoutData)==null?void 0:N.title)||"",attributes:((M=ue.layoutData)==null?void 0:M.attributes)||[],userInstructions:(Y=ue.layoutData)==null?void 0:Y.userInstructions,imageSize:k.resolution,apiKey:i}),ee=Date.now();g(oe=>oe.map(he=>he.id===ie.id?{...he,status:"success",resultPreview:D,duration:(ee-C)/1e3}:he))}catch(D){if(D.message==="API_KEY_INVALID"){u(),H(d.apiKeyInvalid),E(!1);return}g(ee=>ee.map(oe=>oe.id===ie.id?{...oe,status:"error",error:D.message||"Failed"}:oe))}await new Promise(D=>setTimeout(D,500))}E(!1)},le=async()=>{const q=m.filter(N=>N.status==="success"&&N.resultPreview);if(q.length===0)return;const X=new Map;if("showDirectoryPicker"in window)try{const N=await window.showDirectoryPicker({mode:"readwrite",startIn:"downloads"});b(!0);for(const M of q){if(!M.resultPreview)continue;const Y=M.file?M.file.name:`item_${M.id}.png`,ie=K(Y,k.filenamePattern),ue=(X.get(ie)||0)+1;X.set(ie,ue);const C=`${ie} (${ue}).png`;try{const D=await F(M.resultPreview,k.downloadWidth,k.downloadHeight),oe=await(await fetch(D)).blob(),ye=await(await N.getFileHandle(C,{create:!0})).createWritable();await ye.write(oe),await ye.close()}catch{}}b(!1),alert(d.saveSuccess);return}catch{b(!1)}for(const N of q)if(N.resultPreview){const M=N.file?N.file.name:`item_${N.id}.png`,Y=K(M,k.filenamePattern),ie=(X.get(Y)||0)+1;X.set(Y,ie);const ue=`${Y} (${ie}).png`,C=await F(N.resultPreview,k.downloadWidth,k.downloadHeight),D=document.createElement("a");D.href=C,D.download=ue,document.body.appendChild(D),D.click(),document.body.removeChild(D),await new Promise(ee=>setTimeout(ee,300))}};return T.jsx(vC,{queue:m,selectedId:y,settings:k,prompts:n,isProcessing:v,isSaving:S,errorMsg:B,language:o.language,onFilesSelected:de,onSelectQueueItem:h,onDeleteItem:(q,X)=>{X.stopPropagation(),g(Q=>Q.filter(N=>N.id!==q)),y===q&&h(null)},onClearAll:()=>{v||(g([]),h(null))},onProcess:se,onStop:()=>W.current=!0,onRegenerate:q=>g(X=>X.map(Q=>Q.id===q?{...Q,status:"pending",resultPreview:void 0,error:void 0}:Q)),onRefine:te,onDownloadItem:async q=>{if(!q.resultPreview)return;const X=await F(q.resultPreview,k.downloadWidth,k.downloadHeight),Q=q.file?q.file.name:`item_${q.id}.png`,N=K(Q,k.filenamePattern),M=document.createElement("a");M.href=X,M.download=`${N} (1).png`,document.body.appendChild(M),M.click(),document.body.removeChild(M)},onDownloadAll:le,onUpdateSetting:(q,X)=>Z(Q=>({...Q,[q]:X})),onManagePrompts:a,onUpdateItemData:$,onAddEmptyProduct:ne,onUpdateProductImage:I})},fh=[{id:"default",name:"Editor: Layout 1 (Full Details)",content:Dv},{id:"default_2",name:"Editor: Layout 2 (Alternative)",content:Uv},{id:"layout_gen",name:"Layout Gen: Standard Render",content:Lv},{id:"blueprint_gen",name:"Blueprint: Sketch to Real",content:Pv},{id:"auto_design",name:"Auto Design: Create Layout",content:kv}],ru={language:"vi",theme:"light",resolution:"1K",activePromptId:"default",filenamePattern:"(\\d{8,14})",layoutMode:"reference"};function xC(){const[i,n]=pe.useState(!1),[o,a]=pe.useState(!0),[u,d]=pe.useState(null),[m,g]=pe.useState(""),[y,h]=pe.useState("editor"),[v,E]=pe.useState(!1),[S,b]=pe.useState(()=>{try{const I=localStorage.getItem("gemini_settings");return I?{...ru,...JSON.parse(I)}:ru}catch{return ru}}),[B,H]=pe.useState(()=>{try{const I=localStorage.getItem("gemini_prompts");return I?JSON.parse(I):fh}catch{return fh}}),k=ci[S.language],Z=window.aistudio!==void 0;pe.useEffect(()=>{W()},[]),pe.useEffect(()=>{localStorage.setItem("gemini_settings",JSON.stringify({language:S.language,theme:S.theme,layoutMode:S.layoutMode})),S.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[S]),pe.useEffect(()=>{localStorage.setItem("gemini_prompts",JSON.stringify(B))},[B]);const W=async()=>{try{const I=window;if(I.aistudio&&await I.aistudio.hasSelectedApiKey()){n(!0),a(!1);return}const de=localStorage.getItem("gemini_api_key");de?(d(de),n(!0)):n(!1)}catch(I){console.error(I)}finally{a(!1)}},j=async()=>{try{const I=window;I.aistudio&&(await I.aistudio.openSelectKey(),n(!0))}catch(I){console.error(I)}},F=()=>{if(!m.trim())return;const I=m.trim();localStorage.setItem("gemini_api_key",I),d(I),n(!0),g("")},K=()=>{n(!1),d(null),localStorage.removeItem("gemini_api_key")},ne=(I,de)=>{b($=>({...$,[I]:de}))};return o?T.jsx("div",{className:"h-screen bg-background flex items-center justify-center text-foreground",children:k.loading}):i?T.jsxs("div",{className:"h-screen bg-background text-foreground selection:bg-primary/30 flex transition-colors duration-300 overflow-hidden",children:[T.jsx(wv,{currentView:y,onChangeView:h,language:S.language}),T.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden h-full",children:[T.jsx("header",{className:"border-b border-border bg-surface/50 backdrop-blur-md shrink-0 z-30",children:T.jsxs("div",{className:"max-w-full px-4 lg:px-6 h-16 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[(y==="editor"||y==="layout")&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"text-secondary font-medium text-sm hidden sm:inline",children:k.moduleMarketing}),T.jsx("span",{className:"text-border hidden sm:inline",children:"/"})]}),T.jsxs("h1",{className:"font-bold text-lg tracking-tight",children:[y==="editor"&&k.batchEditor,y==="layout"&&k.layoutGenerator,y==="history"&&k.menuHistory,y==="help"&&k.menuHelp]})]}),T.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[T.jsxs("div",{className:"hidden lg:block text-xs text-secondary font-mono bg-black/5 dark:bg-white/5 px-2 py-1 rounded",children:[k.model,": Gemini 3 Pro"]}),T.jsx("div",{className:"h-6 w-px bg-border hidden sm:block"}),T.jsxs("div",{className:"flex bg-black/5 dark:bg-white/5 rounded-lg p-0.5 border border-border",children:[T.jsx("button",{onClick:()=>ne("language","vi"),className:`px-2 py-1 text-[10px] font-bold rounded transition-all ${S.language==="vi"?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:"VI"}),T.jsx("button",{onClick:()=>ne("language","en"),className:`px-2 py-1 text-[10px] font-bold rounded transition-all ${S.language==="en"?"bg-background shadow text-foreground":"text-secondary hover:text-foreground"}`,children:"EN"})]}),T.jsx("button",{onClick:()=>ne("theme",S.theme==="light"?"dark":"light"),className:"p-2 text-secondary hover:text-foreground rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:S.theme==="light"?T.jsx(Nv,{}):T.jsx(Av,{})}),T.jsxs("button",{onClick:K,className:"text-xs text-red-500 hover:text-red-600 bg-red-500/5 hover:bg-red-500/10 border border-red-500/20 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[T.jsx(La,{})," ",T.jsx("span",{className:"hidden sm:inline",children:k.switchKey})]})]})]})}),T.jsxs("div",{className:"flex-1 overflow-hidden relative h-full",children:[y==="editor"&&T.jsx(yC,{apiKey:u||void 0||null,prompts:B,globalSettings:S,onOpenPromptManager:()=>E(!0),onDisconnect:K}),y==="layout"&&T.jsx(TC,{apiKey:u||void 0||null,prompts:B,globalSettings:S,onOpenPromptManager:()=>E(!0),onDisconnect:K}),(y==="history"||y==="help")&&T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-secondary p-8",children:[T.jsxs("div",{className:"w-24 h-24 mb-6 rounded-2xl bg-surface border-2 border-dashed border-border flex items-center justify-center",children:[y==="history"&&T.jsx("div",{className:"scale-150",children:T.jsx(hh,{})}),y==="help"&&T.jsx("div",{className:"scale-150",children:T.jsx(gh,{})})]}),T.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:y==="history"?k.menuHistory:k.menuHelp}),T.jsx("p",{children:k.comingSoon})]})]})]}),T.jsx(Iv,{isOpen:v,onClose:()=>E(!1),prompts:B,setPrompts:H,activePromptId:S.activePromptId,setActivePromptId:I=>ne("activePromptId",I),language:S.language})]}):T.jsxs("div",{className:"h-screen bg-background flex flex-col items-center justify-center text-foreground px-4",children:[T.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[T.jsx("img",{src:"https://hachihachi.com.vn/Content/images/logo.png",alt:"Hachi Hachi",className:"h-20 w-auto object-contain mb-4",onError:I=>{var de;I.currentTarget.style.display="none",(de=I.currentTarget.nextElementSibling)==null||de.classList.remove("hidden")}}),T.jsx("div",{className:"hidden w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-accent flex items-center justify-center text-white shadow-lg shadow-primary/20",children:T.jsx("span",{className:"text-3xl font-bold",children:"H"})})]}),T.jsxs("h1",{className:"text-3xl font-bold mb-2 text-center flex flex-col items-center gap-1",children:[k.appTitle," ",T.jsx("span",{className:"text-xl text-primary font-normal tracking-wide",children:"mini tool"})]}),T.jsx("p",{className:"text-secondary max-w-md text-center mb-6",children:k.apiKeyDesc}),T.jsx("div",{className:"w-full max-w-md bg-surface border border-border rounded-xl p-6 shadow-xl",children:Z?T.jsx("button",{onClick:j,className:"w-full px-8 py-3 bg-foreground text-background font-semibold rounded-lg hover:scale-[1.02] transition-transform flex items-center justify-center gap-2",children:k.connectKey}):T.jsxs("div",{className:"flex flex-col gap-3",children:[T.jsx("label",{className:"text-sm font-medium text-foreground",children:k.enterApiKey}),T.jsx("div",{className:"relative",children:T.jsx("input",{type:"password",value:m,onChange:I=>g(I.target.value),className:"w-full bg-background border border-border rounded-lg px-4 py-3 text-foreground focus:ring-2 focus:ring-primary/50 focus:border-primary focus:outline-none",placeholder:k.apiKeyPlaceholder,autoComplete:"off"})}),T.jsxs("button",{onClick:F,disabled:m.length<10,className:`w-full px-8 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all ${m.length<10?"bg-secondary/20 text-secondary cursor-not-allowed":"bg-primary text-white hover:bg-primary/90 hover:scale-[1.02]"}`,children:[T.jsx(mh,{}),k.saveKey]}),T.jsx("p",{className:"text-xs text-secondary text-center mt-1",children:k.apiKeyNote})]})}),T.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"mt-6 text-sm text-secondary hover:text-primary transition-colors underline",children:k.readBilling})]})}const Xh=document.getElementById("root");if(!Xh)throw new Error("Could not find root element to mount to");const EC=Sv.createRoot(Xh);EC.render(T.jsx(mv.StrictMode,{children:T.jsx(xC,{})}));
